var dropdownAdChoices=document.querySelector(".exp-ac--toggle-click .ac__container"),semaphoreAdChoice=dropdownAdChoices.querySelector(".ac__link.ac__link-semaphore"),adsContainer=document.getElementById("ads-container"),acContainer=document.querySelector(".ac__container"),textAdSemaphoreHeaderText=document.querySelector(".ta__header-text.ta__header-semaphore-text"),textAdOriginalHeaderText=document.querySelector(".ta__header-text.ta__header-nonsemaphore-text"),textAdHeaderContainer=document.querySelector(".ta__header"),
textAdCreativeSections=document.getElementsByClassName("ta-creative"),textAdCreativeSelectionOverlays=document.getElementsByClassName("ta-creative__semaphore-selection"),contentType=semaphoreAdChoice?semaphoreAdChoice.dataset.contentType:null,adMenu=semaphoreAdChoice?semaphoreAdChoice.dataset.renderAdMenu:"false";
function toggleTextAdsSemaphoreSelection(){adsContainer.classList.toggle("ads-container--semaphore-enabled");textAdSemaphoreHeaderText.classList.toggle("ta__header-text--inactive");textAdOriginalHeaderText.classList.toggle("ta__header-text--inactive");acContainer.classList.toggle("ac__container--inactive");textAdHeaderContainer.classList.toggle("ta__header--semaphore");for(var a=0;a<textAdCreativeSections.length;a+=1)textAdCreativeSections.item(a).classList.toggle("ta-creative--semaphore");for(a=
0;a<textAdCreativeSelectionOverlays.length;a+=1)textAdCreativeSelectionOverlays.item(a).classList.toggle("ta-creative__semaphore-selection--active")}function adMenuPostMessage(a,b,c,d){window.parent.postMessage(JSON.stringify({type:"AD_MENU",contentType:a,creative:b,account:c,matchedAt:d}),window.location.origin)}
null!==dropdownAdChoices&&dropdownAdChoices.addEventListener("click",function(){if("true"===adMenu)"SAS_ADS_CREATIVE"===contentType?toggleTextAdsSemaphoreSelection():adMenuPostMessage(contentType,adsContainer.dataset.creative,adsContainer.dataset.account,adsContainer.dataset.matchedAt);else{dropdownAdChoices.classList.toggle("ac__container--active");if(null!==semaphoreAdChoice&&!0!==dropdownAdChoices.semaphoreAttached&&"function"===typeof window.reportAd){dropdownAdChoices.semaphoreAttached=!0;var a=
dropdownAdChoices.querySelector(".ac__link.ac__link-non-semaphore");dropdownAdChoices.querySelector(".ac__label-wrapper").removeChild(a);semaphoreAdChoice.classList.toggle("ac__link-semaphore")}dropdownAdChoices.addEventListener("mouseleave",function(){dropdownAdChoices.classList.remove("ac__container--active")})}});
if(null!==semaphoreAdChoice)if("SAS_ADS_CREATIVE"===contentType){for(var _loop=function(a){var b=textAdCreativeSelectionOverlays.item(a);b.addEventListener("click",function(a){a.preventDefault();"true"===adMenu?adMenuPostMessage(contentType,b.dataset.creative,b.dataset.account,b.dataset.matchedAt):window.reportAd(contentType,b.dataset.creative,b.dataset.account);toggleTextAdsSemaphoreSelection()})},i=0;i<textAdCreativeSelectionOverlays.length;i+=1)_loop(i);semaphoreAdChoice.addEventListener("click",
function(a){a.preventDefault();toggleTextAdsSemaphoreSelection()})}else semaphoreAdChoice.addEventListener("click",function(a){a.preventDefault();"true"!==adMenu&&window.reportAd(contentType,adsContainer.dataset.creative,adsContainer.dataset.account)});