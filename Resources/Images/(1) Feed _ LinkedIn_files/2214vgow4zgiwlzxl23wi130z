define.alias("@glimmer/component/-private/ember-component-manager","msg-ui/component-managers/glimmer")
define.alias("artdeco-button/components/artdeco-button","msg-ui/components/artdeco-button")
define.alias("artdeco-card/components/artdeco-card-image","msg-ui/components/artdeco-card-image")
define.alias("artdeco-card/components/artdeco-card","msg-ui/components/artdeco-card")
define.alias("artdeco-modal/components/artdeco-confirmation-dialog","msg-ui/components/artdeco-confirmation-dialog")
define.alias("artdeco-dropdown/components/artdeco-dropdown-content","msg-ui/components/artdeco-dropdown-content")
define.alias("artdeco-dropdown/components/artdeco-dropdown-header","msg-ui/components/artdeco-dropdown-header")
define.alias("artdeco-dropdown/components/artdeco-dropdown-item","msg-ui/components/artdeco-dropdown-item")
define.alias("artdeco-dropdown/components/artdeco-dropdown-trigger","msg-ui/components/artdeco-dropdown-trigger")
define.alias("artdeco-dropdown/components/artdeco-dropdown","msg-ui/components/artdeco-dropdown")
define.alias("artdeco-empty-state/components/artdeco-empty-state","msg-ui/components/artdeco-empty-state")
define.alias("artdeco-hoverables/components/artdeco-hoverable-content","msg-ui/components/artdeco-hoverable-content")
define.alias("artdeco-hoverables/components/artdeco-hoverable-trigger","msg-ui/components/artdeco-hoverable-trigger")
define.alias("artdeco-inline-feedback/components/artdeco-inline-feedback","msg-ui/components/artdeco-inline-feedback")
define.alias("artdeco-loader/components/artdeco-loader","msg-ui/components/artdeco-loader")
define.alias("artdeco-modal/components/container","msg-ui/components/artdeco-modal-container")
define.alias("artdeco-modal/components/artdeco-modal-content","msg-ui/components/artdeco-modal-content")
define.alias("artdeco-modal/components/artdeco-modal-footer","msg-ui/components/artdeco-modal-footer")
define.alias("artdeco-modal/components/artdeco-modal-header","msg-ui/components/artdeco-modal-header")
define.alias("artdeco-modal/components/artdeco-modal","msg-ui/components/artdeco-modal")
define.alias("artdeco-pill/components/artdeco-pill-choice-group","msg-ui/components/artdeco-pill-choice-group")
define.alias("artdeco-pill/components/artdeco-pill-choice","msg-ui/components/artdeco-pill-choice")
define.alias("artdeco-pill/components/artdeco-pill-dismiss","msg-ui/components/artdeco-pill-dismiss")
define.alias("artdeco-pill/components/artdeco-pill-input","msg-ui/components/artdeco-pill-input")
define.alias("artdeco-pill/components/artdeco-pill-link","msg-ui/components/artdeco-pill-link")
define.alias("artdeco-pill/components/artdeco-pill-toggle","msg-ui/components/artdeco-pill-toggle")
define.alias("artdeco-slider/components/artdeco-slider","msg-ui/components/artdeco-slider")
define.alias("artdeco-text-input/components/artdeco-text-input-multi","msg-ui/components/artdeco-text-input-multi")
define.alias("artdeco-text-input/components/artdeco-text-input-single","msg-ui/components/artdeco-text-input-single")
define.alias("artdeco-text-input/components/artdeco-text-input","msg-ui/components/artdeco-text-input")
define.alias("artdeco-toggle/components/artdeco-toggle","msg-ui/components/artdeco-toggle")
define.alias("ember-cli-artdeco-typeahead/components/artdeco-typeahead-input","msg-ui/components/artdeco-typeahead-input")
define.alias("ember-cli-artdeco-typeahead/components/artdeco-typeahead-result","msg-ui/components/artdeco-typeahead-result")
define.alias("ember-cli-artdeco-typeahead/components/artdeco-typeahead-results-list","msg-ui/components/artdeco-typeahead-results-list")
define.alias("ember-cli-artdeco-typeahead/components/artdeco-typeahead","msg-ui/components/artdeco-typeahead")
define("msg-ui/components/away-message-reminder-banner",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/classPrivateFieldSet","@babel/runtime/helpers/esm/classPrivateFieldGet","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","ember","ember-lifeline","@ember/object","@ember/service","@glimmer/component","@glimmer/tracking"],(function(e,t,n,i,s,r,o,a,l,c,m,d,u,p,g){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var h,f,b,y,v,_,w,M
const k=(0,l.createTemplateFactory)({id:"VnC1rost",block:'[[[41,[30,0,["msgDataManager","awayMessageSettings","length"]],[[[1,"  "],[8,[39,1],[[24,0,"msg-away-message-reminder-banner"],[4,[38,5],[[28,[37,6],[[30,0,["handleStartTime"]],[30,0,["msgDataManager","awayMessageSettings","firstObject","timeRange","start"]]],null]],null],[4,[38,7],[[28,[37,6],[[30,0,["handleStartTime"]],[30,0,["msgDataManager","awayMessageSettings","firstObject","timeRange","start"]]],null]],null]],[["@message","@linkText","@onClick"],[[52,[30,0,["isActive"]],[28,[37,2],["i18n_away_message_on","msg-ui/components/away-message-reminder-banner"],null],[28,[37,2],["i18n_away_message_scheduled","msg-ui/components/away-message-reminder-banner"],null]],[28,[37,2],["i18n_update","msg-ui/components/away-message-reminder-banner"],null],[28,[37,3],["away_message_update",[28,[37,4],[[30,0],"awayMessageSettingsModalIsOpen",true],null]],null]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["awayMessageSettingsModalIsOpen"]],[[[1,"  "],[8,[39,8],null,[["@bundle"],["msg-shared-modals"]],[["default"],[[[[1,"\\n"],[41,[30,1,["state","fulfilled"]],[[[1,"      "],[8,[39,9],null,[["@closeModal"],[[28,[37,4],[[30,0],"awayMessageSettingsModalIsOpen",false],null]]],null],[1,"\\n"]],[]],null],[1,"  "]],[1]]]]],[1,"\\n"]],[]],null]],["assetLoader"],false,["if","artdeco-inline-feedback@artdeco-inline-feedback","t","ember-cli-pemberly-tracking@tracked-action","ember-set-helper@set","did-insert","fn","did-update","asset-loader@deferred-asset-loader","msg-shared-modals@away-message-settings-modal"]]',moduleName:"msg-ui/components/away-message-reminder-banner.hbs",isStrictMode:!1})
let C=(h=(0,u.inject)("date"),f=(0,u.inject)("msg-data@data-manager"),b=(M=new WeakMap,class extends p.default{constructor(){super(...arguments);(0,t.default)(this,"dateService",y,this);(0,t.default)(this,"msgDataManager",v,this);(0,t.default)(this,"currentTime",_,this);(0,t.default)(this,"isActive",w,this)
M.set(this,{writable:!0,value:null})}handleStartTime(e){if((0,s.default)(this,M)){(0,m.cancelTask)(this,(0,s.default)(this,M));(0,i.default)(this,M,null)}const t=e-this.dateService.now()
if(t>0){this.isActive=!1
c.default.testing||(0,i.default)(this,M,(0,m.runTask)(this,(()=>{this.isDestroying||(this.isActive=!0)}),t))}else this.isActive=!0}willDestroy(){super.willDestroy(...arguments);(0,m.runDisposables)(this)}}),y=(0,r.default)(b.prototype,"dateService",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=(0,r.default)(b.prototype,"msgDataManager",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=(0,r.default)(b.prototype,"currentTime",[g.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=(0,r.default)(b.prototype,"isActive",[g.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,r.default)(b.prototype,"handleStartTime",[d.action],Object.getOwnPropertyDescriptor(b.prototype,"handleStartTime"),b.prototype),b)
e.default=C;(0,a.setComponentTemplate)(k,C)}))
define("msg-ui/components/binary-reply-options",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const s=(0,n.createTemplateFactory)({id:"yyWz8BM/",block:'[[[1,"\\n"],[10,0],[14,0,"msg-binary-reply-options__prompts t-12 t-normal"],[12],[1,"\\n  "],[1,[30,1]],[1,"\\n"],[13],[1,"\\n"],[10,0],[14,0,"msg-binary-reply-options__actions display-flex"],[12],[1,"\\n  "],[8,[39,0],[[16,"aria-label",[30,2]],[16,"data-control-name",[28,[37,1],[[30,3],[30,4]],null]],[4,[38,2],["click",[30,7]],null]],[["@text","@color","@type","@class","@disabled"],[[30,5],"muted","tertiary","msg-binary-reply-options__reject-button full-width",[30,6]]],[["default"],[[[[1,"\\n    "],[1,[30,5]],[1,"\\n  "]],[]]]]],[1,"\\n  "],[8,[39,0],[[16,"aria-label",[30,8]],[16,"data-control-name",[28,[37,1],[[30,3],[30,9]],null]],[4,[38,2],["click",[30,11]],null]],[["@text","@type","@class","@disabled"],[[30,10],"tertiary","msg-binary-reply-options__accept-button full-width",[30,6]]],[["default"],[[[[1,"\\n    "],[1,[30,10]],[1,"\\n  "]],[]]]]],[1,"\\n"],[13]],["@promptText","@rejectA11yText","@actionTrackingPrefix","@rejectTrackingKey","@rejectText","@isReplyPending","@sendRejectReply","@acceptA11yText","@acceptTrackingKey","@acceptText","@sendAcceptReply"],false,["artdeco-button@artdeco-button","concat","on"]]',moduleName:"msg-ui/components/binary-reply-options.hbs",isStrictMode:!1})
var r=(0,t.setComponentTemplate)(s,(0,i.default)())
e.default=r}))
define("msg-ui/components/blocked-recipient",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const s=(0,n.createTemplateFactory)({id:"ISTxwAzr",block:'[[[11,0],[24,0,"msg-s-conversation-block-user p4 t-12 t-black--light t-normal"],[17,1],[12],[1,"\\n  "],[10,2],[14,0,"t-12 t-black t-normal"],[12],[1,"\\n    "],[1,[28,[35,0],["i18n_blocked_recipient","msg-ui/components/blocked-recipient"],null]],[1,"\\n  "],[13],[1,"\\n"],[13]],["&attrs"],false,["t"]]',moduleName:"msg-ui/components/blocked-recipient.hbs",isStrictMode:!1})
var r=(0,t.setComponentTemplate)(s,(0,i.default)())
e.default=r}))
define("msg-ui/components/compose-retry-loader",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const s=(0,n.createTemplateFactory)({id:"CKv1p7DU",block:'[[[10,0],[14,0,"msg-compose-retry-loader"],[12],[1,"\\n  "],[10,2],[14,0,"t-white text-align-center t-14 pt3"],[12],[1,[28,[35,0],["i18n_compose_sending","msg-ui/components/compose-retry-loader"],null]],[13],[1,"\\n  "],[8,[39,1],[[24,0,"msg-compose-retry-loader__spinner"]],[["@size"],["small"]],null],[1,"\\n"],[13]],[],false,["t","artdeco-loader@artdeco-loader"]]',moduleName:"msg-ui/components/compose-retry-loader.hbs",isStrictMode:!1})
var r=(0,t.setComponentTemplate)(s,(0,i.default)())
e.default=r}))
define("msg-ui/components/compose",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@ember/object","@ember/service","rsvp","@glimmer/tracking"],(function(e,t,n,i,s,r,o,a,l,c,m,d){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var u,p,g,h,f,b,y,v,_,w
const M=(0,o.createTemplateFactory)({id:"8qbeWevE",block:'[[[1,"\\n"],[41,[30,1],[[[1,"  "],[8,[39,1],null,[["@onNext","@prefilledRecipients","@prefilledMsgGroupName","@nextButtonDataControlName","@actionTrackingPrefix"],[[30,2],[30,3],[30,4,["name"]],[30,5],[30,6]]],null],[1,"\\n"]],[]],[[[41,[30,7],[[[1,"  "],[8,[39,2],null,[["@contextUrn","@targetUrl"],[[30,0,["firstRecipient","entityUrn"]],[30,8]]],null],[1,"\\n"]],[]],[[[41,[30,0,["projectShineAnimationsEnabled"]],[[[1,"    "],[8,[39,3],null,[["@renderIf","@delay","@hideClass"],[[30,0,["showConnectionsTypeahead"]],132,"msg-connections-typeahead__animate-fade-out"]],[["default"],[[[[1,"\\n      "],[8,[39,4],[[24,0,"mbA"]],[["@a11yText","@placeholder","@prefilledRecipients","@recipientsChanged","@openConversation","@composeToNonConnection","@setComposeContext","@includeCoworkerResults","@includeGroupConversationResults","@includeNonConnectionResults","@enableGroupMessageRequests","@recipientSuggestionEnabled","@searchResultContainerClass","@hasInitialFocus","@withSuggestedList"],[[28,[37,5],["i18n_new_compose_recipients_label","msg-ui/components/compose"],null],[52,[30,9],[30,9],[28,[37,5],["i18n_type_name_or_multiple_names","msg-ui/components/compose"],null]],[30,3],[30,0,["recipientsChanged"]],[30,10],[30,11],[30,12],true,true,true,true,[30,13],[52,[30,14],"msg-connections-typeahead__search-results--jumbo-bubble-expanded","msg-connections-typeahead__search-results--expanded"],"true",[30,0,["enableComposeRecipientSuggestion"]]]],[["default"],[[[[1,"\\n"],[41,[30,0,["showSuggestedRecipientTray"]],[[[1,"          "],[8,[39,6],null,[["@addRecipientToTypeahead","@suggestedRecipients"],[[30,15,["addRecipient"]],[30,0,["suggestedRecipients"]]]],null],[1,"\\n"]],[]],null],[1,"      "]],[15]]]]],[1,"\\n    "]],[]]]]],[1,"\\n"]],[]],[[[41,[30,0,["showConnectionsTypeahead"]],[[[1,"      "],[8,[39,4],[[24,0,"mbA"]],[["@a11yText","@placeholder","@prefilledRecipients","@recipientsChanged","@openConversation","@composeToNonConnection","@setComposeContext","@includeCoworkerResults","@includeGroupConversationResults","@includeNonConnectionResults","@enableGroupMessageRequests","@recipientSuggestionEnabled","@searchResultContainerClass","@withSuggestedList"],[[28,[37,5],["i18n_new_compose_recipients_label","msg-ui/components/compose"],null],[52,[30,9],[30,9],[28,[37,5],["i18n_type_name_or_multiple_names","msg-ui/components/compose"],null]],[30,3],[30,0,["recipientsChanged"]],[30,10],[30,11],[30,12],true,true,true,true,[30,13],[52,[30,14],"msg-connections-typeahead__search-results--jumbo-bubble-expanded","msg-connections-typeahead__search-results--expanded"],[30,0,["enableComposeRecipientSuggestion"]]]],[["default"],[[[[1,"\\n"],[41,[30,0,["showSuggestedRecipientTray"]],[[[1,"          "],[8,[39,6],null,[["@addRecipientToTypeahead","@suggestedRecipients"],[[30,16,["addRecipient"]],[30,0,["suggestedRecipients"]]]],null],[1,"\\n"]],[]],null],[1,"      "]],[16]]]]],[1,"\\n"]],[]],null]],[]]],[1,"\\n"],[41,[30,0,["showNewConversationRename"]],[[[1,"    "],[10,0],[14,0,"msg-s-thread-actions-tray__item msg-s-thread-actions-tray__item--rename msg-s-thread-actions-tray__item--rename-is-for-new-conversation pv2 ph3"],[12],[1,"\\n      "],[10,"label"],[14,0,"mb1 mt0"],[15,"for",[28,[37,7],["msg-s-thread-actions-tray__rename-input-",[30,17]],null]],[12],[1,"\\n        "],[1,[28,[35,5],["i18n_group_name","msg-ui/components/compose"],null]],[1,"\\n      "],[13],[1,"\\n      "],[8,[39,8],[[24,"maxlength","300"],[24,0,"msg-s-thread-actions-tray__rename-input t-20 t-black t-light"],[16,1,[28,[37,7],["msg-s-thread-actions-tray__rename-input-",[30,17]],null]],[16,"placeholder",[28,[37,5],["i18n_group_name_placeholder","msg-ui/components/compose"],null]]],[["@type","@value"],["text",[30,18]]],null],[1,"\\n    "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["showGroupProfileCard"]],[[[1,"    "],[8,[39,9],null,[["@bundle"],["msg-conversation-ui"]],[["default"],[[[[1,"\\n"],[41,[30,19,["state","fulfilled"]],[[[1,"        "],[8,[39,10],null,[["@classNames","@isOverlay","@conversation","@recipientProfiles","@recipientNames","@showDraftGroupConversation","@customRollupClickAction"],["pv4",[30,20],[30,4],[30,4,["recipients"]],[30,4,["participantNames"]],[30,21],[30,22]]],null],[1,"\\n"]],[]],null],[1,"    "]],[19]]]]],[1,"\\n"]],[]],null],[1,"\\n"],[1,"  "],[8,[39,11],null,[["@bubbleId","@bubble","@draftConversation","@openConversation","@noConvoHistoryInNewConvo","@setNoConvoHistoryInNewConvo","@composeToNonConnection","@showRenameConversationForm","@toggleShowRenameConversation","@renamePageKey","@mutePageKey","@addParticipantsPageKey","@isOverlay","@handleSuccessfulDiscardRequest","@isOriginalSize","@quickRepliesUseCase","@messagingSettings","@messageActions","@composeViewContext","@forwardedEvent","@invitationUrn","@isOpenedFromMsgButton","@hasDraft","@setHasDraft","@hasPrefilledConversationName","@conversation","@messageRecipients","@messageContext","@isGroupChatCompose","@isNew","@isInMailCompose","@msgAdapterOptions","@customPlaceholderText","@prefilledAttachments","@prefilledMessage","@showOneToOneProfileCard","@subject","@update","@smpContent","@is1on1Compose","@fetchedEventsProxy","@isMessageRequestCompose","@didSubmitMessage","@dragAndDropTrackingKeys","@sendMessageControlName","@customTrackingObject","@conversationDetailModuleKey","@muteConversationControlName","@fileUploadControlName","@imageUploadControlName","@imagePasteControlName","@composeModuleKey","@actionTrackingPrefix","@contextByRecipients","@contextWidth","@conversationName"],[[30,17],[30,23],[30,4],[30,10],[30,0,["noConvoHistoryInNewConvo"]],[30,0,["setNoConvoHistoryInNewConvo"]],[30,11],[30,24],[30,25],[30,26],[30,27],[30,28],[30,20],[30,29],[30,30],[30,31],[30,32],[30,33],[30,34],[30,35],[30,36],[30,37],[30,38],[30,39],[30,40],[30,41],[30,3],[30,42],[30,21],[30,43],[30,44],[30,45],[30,46],[30,47],[30,48],[30,0,["showOneToOneProfileCard"]],[30,49],[30,50],[30,51],[30,52],[30,53],[30,0,["isMessageRequestCompose"]],[30,0,["didSubmitMessage"]],[30,54],[30,55],[30,56],[30,57],[30,58],[30,59],[30,60],[30,61],[30,62],[30,6],[30,63],[30,64],[30,18]]],null],[1,"\\n"]],[]]]],[]]]],["@showGroupEditScreen","@createDraftGroupConversation","@messageRecipients","@draftConversation","@nextButtonDataControlName","@actionTrackingPrefix","@showPremiumUpsell","@targetUrl","@messageBarText","@openConversation","@composeToNonConnection","@setComposeContext","@recipientSuggestionEnabled","@shouldShowExpandedTypeahead","typeahead","typeahead","@bubbleId","@conversationName","assetLoader","@isOverlay","@showDraftGroupConversation","@openEditGroupScreen","@bubble","@showRenameConversationForm","@toggleShowRenameConversation","@renamePageKey","@mutePageKey","@addParticipantsPageKey","@handleSuccessfulDiscardRequest","@isOriginalSize","@quickRepliesUseCase","@messagingSettings","@messageActions","@composeViewContext","@forwardedEvent","@invitationUrn","@isOpenedFromMsgButton","@hasDraft","@setHasDraft","@hasPrefilledConversationName","@conversation","@messageContext","@isNew","@isInMailCompose","@msgAdapterOptions","@customPlaceholderText","@prefilledAttachments","@prefilledMessage","@subject","@update","@smpContent","@is1on1Compose","@fetchedEventsProxy","@dragAndDropTrackingKeys","@sendMessageControlName","@customTrackingObject","@conversationDetailModuleKey","@muteConversationControlName","@fileUploadControlName","@imageUploadControlName","@imagePasteControlName","@composeModuleKey","@contextByRecipients","@contextWidth"],false,["if","msg-ui@msg-group-form/msg-group-form","msg-ui@premium-upsell","msg-ui@delay-remove-from-dom","msg-typeahead@connections-typeahead","t","msg-conversation-ui@suggested-recipients-tray","concat","input","asset-loader@deferred-asset-loader","msg-conversation-ui@profile-card-group","msg-ui@thread"]]',moduleName:"msg-ui/components/compose.hbs",isStrictMode:!1})
let k=(u=(0,c.inject)("jet"),p=(0,c.inject)("lix"),g=(0,c.inject)("msg-data@data-manager"),h=class extends a.default{get showNewConversationRename(){return this.args.isNew&&(0,l.get)(this.args,"messageRecipients.length")>1&&!(0,l.get)(this.args,"conversation.id")&&!this.args.showDraftGroupConversation}get showSuggestedRecipientTray(){return this.args.isNew&&this.hasEnoughRecipientsToTriggerSuggestionsTray&&!this.args.showDraftGroupConversation}get hasEnoughRecipientsToTriggerSuggestionsTray(){var e
const t=null!==(e=(0,l.get)(this.args,"messageRecipients.length"))&&void 0!==e?e:0
return!!(this.args.update&&t>=1)||t>1}get showConnectionsTypeahead(){return this.args.isNew&&!(this.isMessageRequestCompose&&this.args.isOpenedFromMsgButton)&&!this.args.showDraftGroupConversation&&!this.args.showGroupEditScreen&&!this.args.is1on1Compose}get firstRecipient(){return(0,l.get)(this.args,"messageRecipients.0")}get showOneToOneProfileCard(){return!this.args.isInMailCompose&&!this.loadingConvoHistory&&1===(0,l.get)(this.args,"messageRecipients.length")}get showGroupProfileCard(){return this.args.showDraftGroupConversation&&!(0,l.get)(this.args,"conversation.id")}get isHighIntentMessagingCompose(){return(0,l.get)(this.args,"messageContext")&&"HIGH_INTENT"===(0,l.get)(this.args,"messageContext.composeOptionType")&&this.lix.getTreatmentIsEnabled("voyager.web.smp-enable-high-intent-messaging")}get isMessageRequestCompose(){return!this.isHighIntentMessagingCompose&&(0,l.get)(this.args,"messageContext")}get projectShineAnimationsEnabled(){return this.lix.getTreatmentIsEnabled("voyager.web.messaging-compose-animations")&&this.lix.getTreatmentIsEnabled("voyager.web.enable-shine-week-changes")}constructor(){super(...arguments);(0,t.default)(this,"jet",f,this);(0,t.default)(this,"lix",b,this);(0,t.default)(this,"msgDataManager",y,this);(0,t.default)(this,"noConvoHistoryInNewConvo",v,this);(0,t.default)(this,"loadingConvoHistory",_,this);(0,t.default)(this,"suggestedRecipients",w,this)
this.args.hasPrefilledConversationName||!(0,l.get)(this.args,"messageRecipients.length")||this.groupConversationName||this.args.showGroupEditScreen||this._setConvoHistoryWithRecipients(this.args.messageRecipients)}_setConvoHistoryWithRecipients(e){if(!e||!e.length){this.noConvoHistoryInNewConvo=!1
return m.default.reject()}this.loadingConvoHistory=!0
return this.msgDataManager.fetchLatestConversationByRecipients(e).then((e=>{if(!this.isDestroying){if(e){var t,n
null===(t=(n=this.args).onConversationFetched)||void 0===t||t.call(n,e,(0,l.get)(e,"id"),this.args.isNew)
this.args.isInMailCompose&&this.jet.info(new Error("Loaded conversation history with InMail compose"),["convo-history_inmail-compose"],{shouldRethrow:!1})
this.args.invitationUrn&&this.jet.info(new Error("Loaded conversation history with invitation urn"),["convo-history_invitation"],{shouldRethrow:!1})}this.noConvoHistoryInNewConvo=!e}})).finally((()=>{this.loadingConvoHistory=!1}))}_fetchSuggestedRecipients(){const e=(0,l.get)(this.args,"messageRecipients").map((e=>(0,l.get)(e,"entityUrn")))
return this.msgDataManager.fetchSuggestedRecipients(!1,e)}_filterOutSelectedRecipients(e){const t=new Set((0,l.get)(this.args,"messageRecipients").map((e=>(0,l.get)(e,"entityUrn"))))
return null==e?void 0:e.filter((e=>!t.has((0,l.get)(e,"entityUrn"))))}recipientsChanged(e,t){this.args.recipientsChanged(e,t)
this.args.hasPrefilledConversationName||this._setConvoHistoryWithRecipients(e)
this.hasEnoughRecipientsToTriggerSuggestionsTray&&this._fetchSuggestedRecipients().then((e=>{this.isDestroying||(this.suggestedRecipients=this._filterOutSelectedRecipients(e))}))}didSubmitMessage(e){var t,n
this.noConvoHistoryInNewConvo=!1
null===(t=(n=this.args).didSubmitMessage)||void 0===t||t.call(n,e)}},f=(0,i.default)(h.prototype,"jet",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=(0,i.default)(h.prototype,"lix",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=(0,i.default)(h.prototype,"msgDataManager",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=(0,i.default)(h.prototype,"noConvoHistoryInNewConvo",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=(0,i.default)(h.prototype,"loadingConvoHistory",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=(0,i.default)(h.prototype,"suggestedRecipients",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,i.default)(h.prototype,"recipientsChanged",[l.action],Object.getOwnPropertyDescriptor(h.prototype,"recipientsChanged"),h.prototype),(0,i.default)(h.prototype,"didSubmitMessage",[l.action],Object.getOwnPropertyDescriptor(h.prototype,"didSubmitMessage"),h.prototype),h)
e.default=k;(0,r.setComponentTemplate)(M,k)}))
define("msg-ui/components/conversation-error-state",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const s=(0,n.createTemplateFactory)({id:"j0hgvpmn",block:'[[[10,"article"],[14,0,"flex-1"],[12],[1,"\\n  "],[10,"section"],[14,0,"msg-overlay-conversation-error-state relative flex-grow-1"],[12],[1,"\\n    "],[8,[39,0],null,[["@actionText","@headline","@illustration","@mercadoSize","@message","@onButtonClick","@size"],[[28,[37,1],["i18n_try_again","msg-ui/components/conversation-error-state"],null],[28,[37,1],["i18n_load_failed_headline","msg-ui/components/conversation-error-state"],null],"error-crossing",2,[28,[37,1],["i18n_load_failed_message","msg-ui/components/conversation-error-state"],null],[28,[37,2],[[30,1,["retryMethod"]],[30,1,["paramsForRetryMethod"]]],null],2]],null],[1,"\\n  "],[13],[1,"\\n"],[13]],["@bubble"],false,["artdeco-empty-state@artdeco-empty-state","t","fn"]]',moduleName:"msg-ui/components/conversation-error-state.hbs",isStrictMode:!1})
var r=(0,t.setComponentTemplate)(s,(0,i.default)())
e.default=r}))
define("msg-ui/components/conversation-loading-state",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const s=(0,n.createTemplateFactory)({id:"iGtmfaP4",block:'[[[10,"article"],[14,0,"msg-overlay-conversation-loading-state flex-1"],[12],[1,"\\n  "],[10,"section"],[14,0,"msg-overlay-conversation-loading-state__loader"],[12],[1,"\\n    "],[8,[39,0],null,[["@size"],["small"]],null],[1,"\\n  "],[13],[1,"\\n"],[13]],[],false,["artdeco-loader@artdeco-loader"]]',moduleName:"msg-ui/components/conversation-loading-state.hbs",isStrictMode:!1})
var r=(0,t.setComponentTemplate)(s,(0,i.default)())
e.default=r}))
define("msg-ui/components/conversation-preview",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@glimmer/tracking","@ember/object","@ember/service","urn-utils","extended/config/environment","msg-shared/utils/user-visible-exception-helper","global-helpers/helpers/load"],(function(e,t,n,i,s,r,o,a,l,c,m,d,u,p,g){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var h,f,b,y,v,_,w,M,k,C,T,S,x,E,P,D,I,O,A,j
const R=(0,o.createTemplateFactory)({id:"E4zQUqvS",block:'[[[10,"article"],[14,0,"msg-overlay-conversation-preview display-flex flex-column flex-1"],[12],[1,"\\n"],[41,[30,0,["conversationPreviewLoadState","isLoading"]],[[[1,"    "],[10,"section"],[14,0,"msg-overlay-conversation-preview__loader"],[12],[1,"\\n      "],[8,[39,1],[[24,0,"center-both"]],null,null],[1,"\\n    "],[13],[1,"\\n"]],[]],[[[41,[30,0,["isVoyagerApiUserVisibleError"]],[[[1,"    "],[10,"section"],[14,0,"msg-overlay-conversation-preview__section relative flex-grow-1"],[12],[1,"\\n      "],[10,0],[14,0,"msg-overlay-conversation-preview__user-visible-error"],[12],[1,"\\n        "],[10,0],[14,0,"msg-overlay-conversation-preview__user-visible-error-illustration"],[12],[13],[1,"\\n        "],[10,2],[14,0,"msg-overlay-conversation-preview__user-visible-error-text"],[12],[1,"\\n          "],[1,[30,0,["localizedErrorMessageFromApi"]]],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n"]],[]],[[[41,[30,0,["isNotJoinableError"]],[[[1,"    "],[10,"section"],[14,0,"msg-overlay-conversation-preview__section relative flex-grow-1"],[12],[1,"\\n      "],[8,[39,2],[[24,0,"msg-overlay-conversation-preview__error-state"]],[["@headline","@illustration","@message","@size"],[[28,[37,3],["i18n_error_not_joinable_headline","msg-ui/components/conversation-preview"],null],"missing-piece",[28,[37,3],["i18n_error_not_joinable_message","msg-ui/components/conversation-preview"],null],2]],null],[1,"\\n    "],[13],[1,"\\n"]],[]],[[[41,[30,0,["isRetrievalError"]],[[[1,"    "],[10,"section"],[14,0,"msg-overlay-conversation-preview__section relative flex-grow-1"],[12],[1,"\\n      "],[8,[39,2],[[24,0,"msg-overlay-conversation-preview__error-state"]],[["@headline","@illustration","@message","@size"],[[28,[37,3],["i18n_error_preview_failed_headline","msg-ui/components/conversation-preview"],null],"sad-browser",[28,[37,3],["i18n_error_preview_failed_message","msg-ui/components/conversation-preview"],null],2]],null],[1,"\\n      "],[11,"button"],[24,0,"artdeco-button artdeco-button--secondary artdeco-button--2 block mt2 mhA"],[24,4,"button"],[4,[38,4],["click",[30,0,["retryPreview"]]],null],[12],[1,"\\n        "],[1,[28,[35,3],["i18n_error_preview_retry_message","msg-ui/components/conversation-preview"],null]],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n"]],[]],[[[1,"    "],[10,0],[14,0,"display-flex flex-column flex-grow-1 relative"],[12],[1,"\\n      "],[10,"section"],[14,0,"msg-overlay-conversation-preview__header-box flex-grow-zero text-align-center p4"],[12],[1,"\\n        "],[10,"h3"],[14,0,"t-18 t-bold mb2"],[12],[1,[30,0,["preview","title"]]],[13],[1,"\\n        "],[10,"h4"],[14,0,"t-12 t-black--light"],[12],[1,[30,0,["preview","subtitle"]]],[13],[1,"\\n      "],[13],[1,"\\n\\n      "],[10,"h3"],[14,0,"t-14 t-black mt4 mb2 ml3"],[12],[1,[28,[35,3],["i18n_people_header","msg-ui/components/conversation-preview"],null]],[13],[1,"\\n      "],[10,"section"],[14,0,"msg-overlay-conversation-preview__participants-section relative flex-grow-1"],[12],[1,"\\n        "],[10,0],[14,0,"msg-overlay-conversation-preview__participants-box scrollable"],[12],[1,"\\n          "],[10,"ul"],[14,0,"msg-overlay-conversation-preview__participant-list pl3"],[12],[1,"\\n"],[42,[28,[37,6],[[28,[37,6],[[30,0,["preview","participants"]]],null]],null],null,[[[1,"              "],[10,"li"],[14,0,"msg-overlay-conversation-preview__participant-card display-flex"],[12],[1,"\\n"],[6,[39,7],["profile.view",[30,1,["messagingMember","miniProfile","publicIdentifier"]]],[["class","data-control-name"],["mr2 pv2 flex-shrink-zero","overlay.ltj_preview_click_profile"]],[["default"],[[[[1,"                  "],[8,[39,8],null,[["@imageClasses","@miniProfile","@size"],["overlay-conversation-preview__participant-img",[30,1,["messagingMember","miniProfile"]],3]],null],[1,"\\n"]],[]]]]],[1,"\\n"],[1,"                "],[10,0],[14,0,"msg-overlay-conversation-preview__participant-name-headline flex-grow-1 overflow-hidden pv2 pr3"],[12],[1,"\\n"],[6,[39,7],["profile.view",[30,1,["messagingMember","miniProfile","publicIdentifier"]]],[["data-control-name"],["overlay.ltj_preview_click_profile"]],[["default"],[[[[1,"                    "],[10,1],[14,0,"t-14 t-black t-bold"],[12],[1,"\\n                      "],[1,[28,[35,3],["i18n_participant_fullname","msg-ui/components/conversation-preview"],[["participant"],[[28,[37,9],[[30,1,["messagingMember","miniProfile"]]],null]]]]],[1,"\\n                    "],[13],[1,"\\n"]],[]]]]],[1,"                  "],[10,1],[14,0,"t-12 t-black--light pl1"],[12],[1,"\\n                    "],[1,[28,[35,3],["i18n_participant_distance","msg-ui/components/conversation-preview"],[["distance"],[[30,1,["distance","value"]]]]]],[1,"\\n                  "],[13],[1,"\\n                  "],[10,2],[14,0,"t-14 t-black--light t-normal overflow-hidden truncate"],[12],[1,"\\n                    "],[1,[30,1,["messagingMember","miniProfile","occupation"]]],[1,"\\n                  "],[13],[1,"\\n                "],[13],[1,"\\n              "],[13],[1,"\\n"]],[1]],null],[1,"          "],[13],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n"],[41,[30,0,["conversationPreviewLoadState","isLoading"]],[[[1,"        "],[10,"section"],[14,0,"msg-overlay-conversation-preview__loader msg-overlay-conversation-preview__loader-with-mask"],[12],[1,"\\n          "],[8,[39,1],[[24,0,"center-both"]],null,null],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"    "],[13],[1,"\\n    "],[10,"footer"],[14,0,"msg-overlay-conversation-preview__footer flex-grow-zero"],[12],[1,"\\n"],[41,[30,0,["voyagerApiNotJoinableReason"]],[[[1,"        "],[10,0],[14,0,"msg-overlay-conversation-preview__not-joinable-display"],[12],[1,"\\n          "],[8,[39,10],null,[["@type","@message"],["note",[30,0,["voyagerApiNotJoinableReason"]]]],null],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"      "],[10,0],[14,0,"pv3 ph4"],[12],[1,"\\n        "],[11,"button"],[24,0,"artdeco-button artdeco-button--primary artdeco-button--3 full-width"],[16,"disabled",[30,0,["isJoinButtonDisabled"]]],[24,"data-control-name","overlay.ltj_preview_join_groupchat"],[24,4,"button"],[4,[38,4],["click",[30,0,["onJoin"]]],null],[12],[1,"\\n          "],[1,[28,[35,3],["i18n_join_group_chat","msg-ui/components/conversation-preview"],null]],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n  "]],[]]]],[]]]],[]]]],[]]],[13]],["participant"],false,["if","artdeco-loader@artdeco-loader","artdeco-empty-state@artdeco-empty-state","t","on","each","-track-array","ember-engines@link-to-external","presence@entity-with-presence","global-helpers@name","artdeco-inline-feedback"]]',moduleName:"msg-ui/components/conversation-preview.hbs",isStrictMode:!1})
let N=(h=(0,m.inject)("store"),f=(0,m.inject)("i18n"),b=(0,m.inject)("jet"),y=(0,m.inject)("client-sensor-web@client-sensor"),v=(0,m.inject)("msg-data@data-manager"),_=(0,m.inject)("persistent-toast-manager@persistent-toast-manager"),w=class extends a.default{get isJoinButtonDisabled(){var e
return this.voyagerApiNotJoinableReason||(null===(e=this.conversationJoinLoadState)||void 0===e?void 0:e.isLoading)}constructor(){super(...arguments);(0,t.default)(this,"conversationPreviewLoadState",M,this);(0,t.default)(this,"conversationJoinLoadState",k,this);(0,t.default)(this,"isVoyagerApiUserVisibleError",C,this);(0,t.default)(this,"isRetrievalError",T,this);(0,t.default)(this,"isNotJoinableError",S,this);(0,t.default)(this,"voyagerApiNotJoinableReason",x,this);(0,t.default)(this,"localizedErrorMessageFromApi",E,this);(0,n.default)(this,"conversationPreviewURL","/messaging/conversationAccessCodePreviews?q=accessCode&accessCode=");(0,n.default)(this,"conversationJoinURL","/messaging/conversations?action=addViewerThroughAccessCode");(0,t.default)(this,"store",P,this);(0,t.default)(this,"i18n",D,this);(0,t.default)(this,"jet",I,this);(0,t.default)(this,"clientSensor",O,this);(0,t.default)(this,"msgDataManager",A,this);(0,t.default)(this,"persistentToastManager",j,this)
this.conversationPreviewLoadState=this._getConversationPreviewData(this.args.bubble.previewKey)}_showConversation(e){const{showConversation:t}=this.args
return t?t(e):this.msgDataManager.fetchConversation(e).then((t=>{if(!this.isDestroying){const n=this.msgDataManager.initEventCollection({name:e,conversationId:e}).fetchAndLoad();(0,c.setProperties)(this.args.bubble,{conversation:t,fetchedEventsProxy:n,isConversationPreview:!1,isNew:!1})}}))}_getConversationPreviewData(e){return(0,g.load)(this.store.queryURL(`/${u.default.namespace}${this.conversationPreviewURL}${e}`,{reload:!0,method:"GET"}).then((e=>{if(!this.isDestroying){const t=(0,c.get)(e,"elements.firstObject")
if(t){if((0,c.get)(t,"viewerInConversation")){const e=(0,d.extractEntityInfoFromUrn)((0,c.get)(t,"conversationUrn")).id
return this._showConversation(e)}this.preview={title:(0,c.get)(t,"conversationTitle.text"),subtitle:(0,c.get)(t,"conversationSubtitle.text"),participants:(0,c.get)(t,"participants")};(0,c.get)(t,"conversationJoinable")||(this.voyagerApiNotJoinableReason=(0,c.get)(t,"conversationNotJoinableReason.text"))}else this.isRetrievalError=!0}})).catch((t=>{if(!this.isDestroying){this.localizedErrorMessageFromApi=(0,p.default)(t)
if(this.localizedErrorMessageFromApi){this.isVoyagerApiUserVisibleError=!0
this.jet.error(new Error("Failed to load messenger group chat preview"),[this.localizedErrorMessageFromApi,e])}else{const n=(0,c.get)(t,"errors.firstObject.status")
if(n){404===parseInt(n,10)?this.isNotJoinableError=!0:this.isRetrievalError=!0
this.jet.error(new Error("Failed to load messenger group chat preview"),[n,e])}else this.isRetrievalError=!0}}throw t})))}retryPreview(){if(this.args.bubble.previewKey){this.isVoyagerApiUserVisibleError=!1
this.isNotJoinableError=!1
this.isRetrievalError=!1
this.conversationPreviewLoadState=this._getConversationPreviewData(this.args.bubble.previewKey)}}onJoin(){this.conversationJoinLoadState=(0,g.load)(this.store.adapterFor("-ember-m3").ajax(`/${u.default.namespace}${this.conversationJoinURL}`,"POST",{data:{accessCode:this.args.bubble.previewKey}}).then((e=>{this.clientSensor.incrementMetricCounter({groupName:"messaging",metricName:"link-to-join-conversation-success"})
const t=(0,d.extractEntityInfoFromUrn)((0,c.get)(e,"data.value")).id
this._showConversation(t)})).catch((e=>{this.clientSensor.incrementMetricCounter({groupName:"messaging",metricName:"link-to-join-conversation-failure"})
if(!this.isDestroying){const t=(0,p.default)(e)
if(t){this.persistentToastManager.error({message:t})
this.jet.error(new Error("Failed to join group chat"),[t,this.args.bubble.previewKey])}else{const t=(0,c.get)(e,"errors.firstObject.status"),n=this.i18n.lookupTranslation("components/msg-ui@conversation-preview","i18n_join_failed_message")()
if(t){this.persistentToastManager.error({message:n})
this.jet.error(new Error("Failed to join group chat"),[n,this.args.bubble.previewKey])}else this.persistentToastManager.error({message:n})}}throw e})))}},M=(0,i.default)(w.prototype,"conversationPreviewLoadState",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=(0,i.default)(w.prototype,"conversationJoinLoadState",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=(0,i.default)(w.prototype,"isVoyagerApiUserVisibleError",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),T=(0,i.default)(w.prototype,"isRetrievalError",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S=(0,i.default)(w.prototype,"isNotJoinableError",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=(0,i.default)(w.prototype,"voyagerApiNotJoinableReason",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=(0,i.default)(w.prototype,"localizedErrorMessageFromApi",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,i.default)(w.prototype,"store",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=(0,i.default)(w.prototype,"i18n",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=(0,i.default)(w.prototype,"jet",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=(0,i.default)(w.prototype,"clientSensor",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,i.default)(w.prototype,"msgDataManager",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=(0,i.default)(w.prototype,"persistentToastManager",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,i.default)(w.prototype,"retryPreview",[c.action],Object.getOwnPropertyDescriptor(w.prototype,"retryPreview"),w.prototype),(0,i.default)(w.prototype,"onJoin",[c.action],Object.getOwnPropertyDescriptor(w.prototype,"onJoin"),w.prototype),w)
e.default=N;(0,r.setComponentTemplate)(R,N)}))
define("msg-ui/components/conversation-unspam",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@ember/service","@glimmer/component","msg-shared/utils/custom-tracking","msg-shared/utils/constants","@ember/object"],(function(e,t,n,i,s,r,o,a,l,c,m,d){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var u,p,g,h,f,b,y,v,_,w,M
const k=(0,o.createTemplateFactory)({id:"NJwnSy1W",block:'[[[11,0],[24,0,"msg-s-conversation-unspam pt2 pb3 ph3 text-align-center"],[17,1],[12],[1,"\\n  "],[10,2],[14,0,"t-12 t-black t-normal pb2"],[12],[1,"\\n    "],[1,[28,[35,0],["i18n_spam_info_message","msg-ui/components/conversation-unspam"],null]],[1,"\\n  "],[13],[1,"\\n  "],[8,[39,1],null,[["@class","@click","@type"],["full-width",[30,0,["unspamConversation"]],"secondary"]],[["default"],[[[[1,"\\n    "],[1,[28,[35,0],["i18n_move_to_inbox","msg-ui/components/conversation-unspam"],null]],[1,"\\n  "]],[]]]]],[1,"\\n"],[13]],["&attrs"],false,["t","artdeco-button@artdeco-button"]]',moduleName:"msg-ui/components/conversation-unspam.hbs",isStrictMode:!1}),{ACTION_TYPES:C,CONTROL_NAMES:T}=m.default
let S=(u=(0,a.inject)("msg-data@data-manager"),p=(0,a.inject)("i18n"),g=(0,a.inject)("persistent-toast-manager@persistent-toast-manager"),h=(0,a.inject)("tracking"),f=(0,a.inject)("lix"),b=class extends l.default{constructor(){super(...arguments);(0,t.default)(this,"msgDataManager",y,this);(0,t.default)(this,"i18n",v,this);(0,t.default)(this,"persistentToastManager",_,this);(0,t.default)(this,"tracking",w,this);(0,t.default)(this,"lix",M,this)}unspamConversation(){this.msgDataManager.unspamConversation(this.args.conversation).then((()=>{var e,t
const n=this.i18n.lookupTranslation("components/msg-ui@i18n-shared","i18n_unspam_success")()
this.persistentToastManager.success({message:n})
c.default.fireDetailActionEvent({actionType:C.UNSPAM,controlName:T.CONVERSATION.UNSPAM,conversation:this.args.conversation,trackingService:this.tracking})
null===(e=(t=this.args).redirectToActiveConversation)||void 0===e||e.call(t,(0,d.get)(this.args,"conversation.id"))})).catch((e=>{const t=this.i18n.lookupTranslation("components/msg-ui@i18n-shared","i18n_unspam_failed")()
this.persistentToastManager.error({message:t})
throw e}))}},y=(0,i.default)(b.prototype,"msgDataManager",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=(0,i.default)(b.prototype,"i18n",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=(0,i.default)(b.prototype,"persistentToastManager",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=(0,i.default)(b.prototype,"tracking",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=(0,i.default)(b.prototype,"lix",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,i.default)(b.prototype,"unspamConversation",[d.action],Object.getOwnPropertyDescriptor(b.prototype,"unspamConversation"),b.prototype),b)
e.default=S;(0,r.setComponentTemplate)(k,S)}))
define.alias("ember-vector-images/components/custom-image","msg-ui/components/custom-image")
define("msg-ui/components/declined-message-request-accept-banner",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@ember/object","@glimmer/tracking"],(function(e,t,n,i,s,r,o,a,l,c){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var m,d
const u=(0,o.createTemplateFactory)({id:"P4f0Hsbd",block:'[[[11,0],[24,0,"msg-declined-message-request-accept-banner"],[17,1],[12],[1,"\\n  "],[10,0],[14,0,"msg-declined-message-request-accept-banner__description t-12 t-black--light t-normal"],[12],[1,"\\n    "],[1,[28,[35,0],["i18n_declined_message_request_description_v2","msg-ui/components/declined-message-request-accept-banner"],[["senderName"],[[30,2]]]]],[1,"\\n  "],[13],[1,"\\n  "],[8,[39,1],[[16,"aria-label",[28,[37,0],["i18n_a11y_accept","msg-ui/components/declined-message-request-accept-banner"],[["senderName"],[[30,2]]]]]],[["@text","@size","@type","@class","@click","@disabled"],[[28,[37,0],["i18n_accept","msg-ui/components/declined-message-request-accept-banner"],null],3,"secondary","full-width",[30,0,["acceptDeclinedMessageRequest"]],[30,0,["isReplyPending"]]]],[["default"],[[[[1,"\\n    "],[1,[28,[35,0],["i18n_accept","msg-ui/components/declined-message-request-accept-banner"],null]],[1,"\\n  "]],[]]]]],[1,"\\n"],[13]],["&attrs","@senderName"],false,["t","artdeco-button@artdeco-button"]]',moduleName:"msg-ui/components/declined-message-request-accept-banner.hbs",isStrictMode:!1})
let p=(m=class extends a.default{constructor(){super(...arguments);(0,t.default)(this,"isReplyPending",d,this)}acceptDeclinedMessageRequest(){this.isReplyPending=!0
this.args.acceptMessageRequest().finally((()=>{this.isDestroying||(this.isReplyPending=!1)}))}},d=(0,i.default)(m.prototype,"isReplyPending",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,i.default)(m.prototype,"acceptDeclinedMessageRequest",[l.action],Object.getOwnPropertyDescriptor(m.prototype,"acceptDeclinedMessageRequest"),m.prototype),m)
e.default=p;(0,r.setComponentTemplate)(u,p)}))
define("msg-ui/components/delay-remove-from-dom",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@ember/object","@glimmer/tracking","@ember/runloop"],(function(e,t,n,i,s,r,o,a,l,c,m){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var d,u
const p=(0,o.createTemplateFactory)({id:"amuepCco",block:'[[[11,0],[16,0,[29,[[52,[30,0,["shouldRender"]],[30,1]]]]],[4,[38,1],[[30,0,["onUpdate"]],[30,2]],null],[4,[38,2],[[30,0,["onUpdate"]]],null],[12],[1,"\\n"],[41,[30,0,["shouldRender"]],[[[1,"    "],[10,0],[15,0,[29,[[30,1]," ",[52,[30,2],"",[30,3]]]]],[12],[1,"\\n      "],[18,4,null],[1,"\\n    "],[13],[1,"\\n"]],[]],null],[13]],["@containerClass","@renderIf","@hideClass","&default"],false,["if","did-update","did-insert","yield"]]',moduleName:"msg-ui/components/delay-remove-from-dom.hbs",isStrictMode:!1})
let g=(d=class extends a.default{constructor(){super(...arguments);(0,t.default)(this,"shouldRender",u,this)}onUpdate(){this.args.renderIf?this.shouldRender=!0:(0,m.later)((()=>{this.shouldRender=!1}),this.args.delay)}},u=(0,i.default)(d.prototype,"shouldRender",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,i.default)(d.prototype,"onUpdate",[l.action],Object.getOwnPropertyDescriptor(d.prototype,"onUpdate"),d.prototype),d)
e.default=g;(0,r.setComponentTemplate)(p,g)}))
define.alias("ember-wormhole/components/ember-wormhole","msg-ui/components/ember-wormhole")
define("msg-ui/components/forward-preview",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@ember/object","@ember/service","@ember/debug","@glimmer/component"],(function(e,t,n,i,s,r,o,a,l,c,m){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var d,u,p
const g=(0,o.createTemplateFactory)({id:"5uefJwvY",block:'[[[10,0],[14,0,"msg-s-forward-preview__forwarded-item mv2 t-14 t-black"],[12],[1,"\\n  "],[10,0],[14,0,"msg-s-forward-preview__forwarded-from"],[12],[1,"\\n    "],[8,[39,0],null,[["@sender","@size"],[[30,0,["from"]],1]],null],[1,"\\n    "],[10,0],[12],[1,"\\n      "],[8,[39,1],[[4,[38,2],["view_profile"],null]],[["@route","@model","@class"],["profile.view",[30,0,["publicIdentifier"]],"msg-s-message-group__profile-link"]],[["default"],[[[[1,"\\n        "],[10,1],[14,0,"msg-s-message-group__name t-14 t-black t-bold hoverable-link-text"],[12],[1,"\\n          "],[1,[30,0,["from","fullName"]]],[1,"\\n        "],[13],[1,"\\n      "]],[]]]]],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"],[1,"  "],[10,2],[14,0,"msg-s-forward-preview__forwarded-body msg-form__reshared-content t-14 t-normal"],[12],[1,"\\n    "],[1,[30,0,["message"]]],[1,"\\n  "],[13],[1,"\\n  "],[10,0],[14,0,"msg-s-forward-preview__forwarded-details t-12 t-black--light t-normal"],[12],[1,"\\n    "],[10,1],[12],[1,"\\n      "],[1,[28,[35,3],["i18n_forwarded_label","msg-ui/components/forward-preview"],null]],[1,"\\n    "],[13],[1,"\\n    "],[10,"time"],[14,0,"msg-s-message-group__timestamp white-space-nowrap"],[12],[1,"\\n      "],[1,[28,[35,3],["i18n_original_sent_date","msg-ui/components/forward-preview"],[["dayMonth","hourMinute"],[[28,[37,4],[[30,0,["createdAt"]]],[["format","useTimeZone"],["fmt_md_medium",true]]],[28,[37,5],[[30,0,["createdAt"]]],[["format","useTimeZone"],["fmt_hm",true]]]]]]],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"],[13]],[],false,["msg-ui@primitives/event-listitem-avatar","ember-engines@link-to-external","ember-cli-pemberly-tracking@track-interaction","t","ember-cli-pemberly-i18n@format-date","ember-cli-pemberly-i18n@format-time"]]',moduleName:"msg-ui/components/forward-preview.hbs",isStrictMode:!1})
let h=(d=(0,l.inject)("msg-data@data-manager"),u=class extends m.default{constructor(){super(...arguments);(0,t.default)(this,"msgDataManager",p,this)
if(this.args.forwardedEvent)(0,a.setProperties)(this,{from:(0,a.get)(this.args.forwardedEvent,"from"),publicIdentifier:(0,a.get)(this.args.forwardedEvent,"from.miniProfile.publicIdentifier"),createdAt:(0,a.get)(this.args.forwardedEvent,"createdAt"),message:(0,a.get)(this.args.forwardedEvent,"eventContent.attributedBody.text")})
else{const e=(0,a.get)(this.args.forwardedContent,"originalFrom"),t=this.msgDataManager.viewModelWrappers.wrapMessagingEntity(e),n=(0,a.get)(this.args.forwardedContent,"originalFrom.miniProfile.publicIdentifier"),i=(0,a.get)(this.args.forwardedContent,"originalCreatedAt"),s=(0,a.get)(this.args.forwardedContent,"forwardedBody.text");(0,a.setProperties)(this,{from:t,publicIdentifier:n,createdAt:i,message:s})}}},p=(0,i.default)(u.prototype,"msgDataManager",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u)
e.default=h;(0,r.setComponentTemplate)(g,h)}))
define.alias("ember-highcharts/components/high-charts","msg-ui/components/high-charts")
define("msg-ui/components/i18n-shared",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const s=(0,n.createTemplateFactory)({id:"pvtskthM",block:'[[[1,"\\n"]],[],false,[]]',moduleName:"msg-ui/components/i18n-shared.hbs",isStrictMode:!1})
var r=(0,t.setComponentTemplate)(s,(0,i.default)())
e.default=r}))
define("msg-ui/components/inbox-onboarding-widget",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@ember/object","@ember/service","rsvp","@glimmer/tracking"],(function(e,t,n,i,s,r,o,a,l,c,m,d){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var u,p,g,h,f,b
const y=(0,o.createTemplateFactory)({id:"R5Bifv7t",block:'[[[41,[30,0,["widgetTrackingToken"]],[[[41,[28,[37,1],[[30,0,["widgetType"]],"simple"],null],[[[1,"    "],[11,0],[24,0,"msg-inbox-onboarding-widget--simple-layout"],[17,1],[12],[1,"\\n      "],[10,2],[14,0,"t-14 t-black--light"],[12],[1,"\\n        "],[1,[30,2]],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n"]],[]],[[[41,[28,[37,1],[[30,0,["widgetType"]],"basic"],null],[[[1,"    "],[11,0],[24,0,"msg-inbox-onboarding-widget--basic-layout"],[17,1],[12],[1,"\\n      "],[8,[39,2],null,[["@class","@message","@linkText","@onClick","@type"],["mr1",[30,2],[30,3],[30,0,["legoWidgetPrimaryAction"]],"note"]],null],[1,"\\n      "],[8,[39,3],null,[["@class","@icon","@type","@color","@size","@circle","@click"],["msg-inbox-onboarding-widget--basic-cancel","cancel-icon","tertiary","muted",[30,0,["dismissButtonSize"]],true,[30,0,["legoWidgetDismissAction"]]]],null],[1,"\\n    "],[13],[1,"\\n"]],[]],[[[41,[28,[37,1],[[30,0,["widgetType"]],"full"],null],[[[1,"    "],[11,0],[24,0,"msg-inbox-onboarding-widget"],[17,1],[12],[1,"\\n"],[41,[48,[30,7]],[[[1,"        "],[10,0],[14,0,"msg-inbox-onboarding-widget__left-section-container"],[12],[1,"\\n          "],[18,7,[[28,[37,6],null,[["leftSection"],[[50,"dummy-yield-wrapper@dummy-yield-wrapper",0,null,null]]]]]],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"      "],[10,0],[14,0,"pt3"],[12],[1,"\\n        "],[10,0],[14,0,"display-flex justify-space-between align-items-center"],[12],[1,"\\n          "],[10,1],[14,0,"t-14 t-bold t-black mb1"],[12],[1,"\\n            "],[1,[30,4]],[1,"\\n          "],[13],[1,"\\n\\n"],[41,[30,5],[[[1,"            "],[10,0],[14,0,"pr1"],[12],[1,"\\n              "],[8,[39,3],null,[["@icon","@type","@color","@size","@circle","@click"],["cancel-icon","tertiary","muted",1,true,[30,0,["legoWidgetDismissAction"]]]],null],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[1,"        "],[13],[1,"\\n\\n        "],[10,2],[14,0,"t-12 t-black--light pr3 pb4"],[12],[1,"\\n          "],[1,[30,2]],[1,"\\n        "],[13],[1,"\\n\\n"],[41,[30,6],[[[1,"          "],[8,[39,3],null,[["@text","@type","@size","@click"],[[30,3],"secondary",1,[30,0,["legoWidgetPrimaryAction"]]]],null],[1,"\\n"]],[]],null],[1,"      "],[13],[1,"\\n    "],[13],[1,"\\n  "]],[]],null]],[]]]],[]]]],[]],null]],["&attrs","@text","@primaryActionText","@title","@onDismiss","@onPrimary","&default"],false,["if","global-helpers@eq","artdeco-inline-feedback@artdeco-inline-feedback","artdeco-button@artdeco-button","has-block","yield","hash","component"]]',moduleName:"msg-ui/components/inbox-onboarding-widget.hbs",isStrictMode:!1})
let v=(u=(0,c.inject)("lego@resolver"),p=(0,c.inject)("lego@tracking"),g=class extends a.default{get widgetType(){var e
return null!==(e=this.args.type)&&void 0!==e?e:"full"}get dismissButtonSize(){var e
return null!==(e=this.args.dismissButtonSize)&&void 0!==e?e:1}get impressOnRender(){var e
return null===(e=this.args.impressOnRender)||void 0===e||e}get sendPrimaryActionOnPrimaryActionClick(){var e
return null===(e=this.args.sendPrimaryActionOnPrimaryActionClick)||void 0===e||e}constructor(){super(...arguments);(0,t.default)(this,"legoResolver",h,this);(0,t.default)(this,"legoTracking",f,this);(0,t.default)(this,"widgetTrackingToken",b,this)
this._fetchLegoWidget()}_fetchLegoWidget(){return this.legoResolver.fireLegoCall(this.args.legoConfig).then((e=>{if(!this.isDestroying){if(!e){var t,n
null===(t=(n=this.args).onDismiss)||void 0===t||t.call(n)
return(0,m.reject)()}this.widgetTrackingToken=(0,l.get)(e,"trackingToken")
if(this.widgetTrackingToken){var i,s
this.impressOnRender&&this._sendLegoImpression()
null===(i=(s=this.args).onImpression)||void 0===i||i.call(s)
this.args.dismissOnImpression&&this.legoTracking.sendLegoAction(this.widgetTrackingToken,this.legoTracking.LEGO_ACTION_DISMISS,1)}else{var r,o
null===(r=(o=this.args).onDismiss)||void 0===r||r.call(o)}return e}}))}_sendLegoImpression(){this.legoTracking.sendLegoImpression(this.widgetTrackingToken,this.legoTracking.LEGO_IMPRESSION_VISIBILITY_SHOW)}legoWidgetPrimaryAction(){var e,t
this.sendPrimaryActionOnPrimaryActionClick&&this.legoTracking.sendLegoAction(this.widgetTrackingToken,this.legoTracking.LEGO_ACTION_PRIMARY,1)
null===(e=(t=this.args).onPrimary)||void 0===e||e.call(t)}legoWidgetDismissAction(){var e,t
this.legoTracking.sendLegoAction(this.widgetTrackingToken,this.legoTracking.LEGO_ACTION_DISMISS,1)
null===(e=(t=this.args).onDismiss)||void 0===e||e.call(t)}},h=(0,i.default)(g.prototype,"legoResolver",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=(0,i.default)(g.prototype,"legoTracking",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=(0,i.default)(g.prototype,"widgetTrackingToken",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),(0,i.default)(g.prototype,"legoWidgetPrimaryAction",[l.action],Object.getOwnPropertyDescriptor(g.prototype,"legoWidgetPrimaryAction"),g.prototype),(0,i.default)(g.prototype,"legoWidgetDismissAction",[l.action],Object.getOwnPropertyDescriptor(g.prototype,"legoWidgetDismissAction"),g.prototype),g)
e.default=v;(0,r.setComponentTemplate)(y,v)}))
define("msg-ui/components/inmail-compose-form",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@glimmer/tracking","@ember/service","@ember/utils","@ember/object","msg-shared/utils/constants","global-utils/utils/urn-converter","rsvp"],(function(e,t,n,i,s,r,o,a,l,c,m,d,u,p,g){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var h,f,b,y,v,_,w,M,k,C,T,S,x,E,P,D
const I=(0,o.createTemplateFactory)({id:"QOkmleBN",block:'[[[11,0],[17,1],[24,0,"msg-inmail-compose-form-v2 relative flex-1 white display-flex flex-column"],[4,[38,0],null,[["pageKey","routeName","currentRoute"],["flagship3_messaging_compose_inmail",[28,[37,1],[[53,"outletState"],"render.name"],null],[28,[37,1],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n  "],[8,[39,3],null,[["@classNames","@size"],["msg-compose__inmail-compose-entity-lockup",2]],[["default"],[[[[1,"\\n    "],[8,[39,4],null,[["@route","@model"],["profile.view",[30,3,["firstObject","publicIdentifier"]]]],[["default"],[[[[1,"\\n      "],[8,[30,2,["image"]],null,[["@type"],["circle"]],[["default"],[[[[1,"\\n        "],[8,[39,5],null,[["@class","@miniProfile","@size"],["mr2",[30,3,["firstObject"]],2]],null],[1,"\\n      "]],[]]]]],[1,"\\n    "]],[]]]]],[1,"\\n    "],[8,[30,2,["content"]],null,null,[["default"],[[[[1,"\\n      "],[8,[30,2,["title"]],null,[["@altLink"],[true]],[["default"],[[[[1,"\\n        "],[8,[39,4],null,[["@route","@model","@class"],["profile.view",[30,3,["firstObject","publicIdentifier"]],"msg-compose__profile-link"]],[["default"],[[[[1,"\\n          "],[1,[28,[35,6],null,[["firstName","lastName","type"],[[30,3,["firstObject","firstName"]],[30,3,["firstObject","lastName"]],"full"]]]],[1,"\\n        "]],[]]]]],[1,"\\n      "]],[]]]]],[1,"\\n      "],[8,[30,2,["subtitle"]],[[24,0,"msg-compose__occupation"]],null,[["default"],[[[[1,"\\n        "],[1,[30,3,["firstObject","occupation"]]],[1,"\\n      "]],[]]]]],[1,"\\n    "]],[]]]]],[1,"\\n  "]],[2]]]]],[1,"\\n\\n  "],[8,[39,7],null,[["@subject","@updateSubject"],[[30,0,["subject"]],[30,0,["updateSubject"]]]],null],[1,"\\n\\n  "],[10,0],[14,0,"full-height"],[12],[1,"\\n    "],[8,[39,8],[[16,0,[29,[[52,[51,[30,4]],"msg-form--thread"]," full-height"]]]],[["@msgAdapterOptions","@prefilledMessage","@beforeUpload","@submitMessage","@subject","@isInMailCompose","@isOverlay","@composeIsFullyExpanded","@smpContent","@validateForm"],[[30,5],[30,6],[30,7],[30,8],[30,0,["subject"]],true,[30,4],true,[30,9],[30,0,["validateForm"]]]],[["default"],[[[[1,"\\n      "],[8,[30,10,["attachmentDragAndDrop"]],null,[["@composeIsFullyExpanded","@trackingKeys"],[true,[30,13]]],null],[1,"\\n"],[41,[51,[30,12,["showMiniAttachmentPreviews"]]],[[[1,"        "],[8,[30,10,["uploadAttachmentPreviews"]],null,null,null],[1,"\\n"],[41,[30,12,["attachmentDropErrorType"]],[[[1,"          "],[8,[30,10,["attachmentDragAndDropErrorDisplay"]],null,null,null],[1,"\\n"]],[]],null]],[]],null],[1,"      "],[8,[30,10,["messageContentContainer"]],[[24,0,"msg-form__message-texteditor relative flex-grow-1 display-flex"]],[["@composeIsFullyExpanded","@labelText","@smpContent"],[true,[28,[37,11],["i18n_write_message","msg-ui/components/inmail-compose-form"],null],[30,9]]],null],[1,"\\n"],[41,[30,0,["messageExceedsLength"]],[[[1,"        "],[8,[39,12],null,[["@classNames","@type","@message"],["msg-form__compose-error p2","error",[28,[37,11],["i18n_inmail_too_long","msg-ui/components/inmail-compose-form"],[["messagelength"],[[30,0,["messageLength"]]]]]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,14],[[[41,[30,14,["footerText"]],[[[1,"          "],[10,"section"],[15,0,[29,["msg-inmail-credits-display pv2 ph4\\n              ",[52,[30,15],"justify-flex-end"]]]],[12],[1,"\\n"],[41,[30,14,["footerIcon"]],[[[1,"              "],[10,1],[14,0,"a11y-text"],[12],[1,"\\n                "],[1,[28,[35,11],["i18n_a11y_premium_badge","msg-ui/components/inmail-compose-form"],null]],[1,"\\n              "],[13],[1,"\\n              "],[1,[28,[35,13],null,[["type","size"],["premium-badge","8dp"]]]],[1,"\\n"]],[]],null],[1,"            "],[10,2],[14,0,"t-12 t-black--light t-normal"],[12],[1,"\\n              "],[1,[28,[35,14],[[30,14,["footerText"]]],null]],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n"]],[]],null]],[]],[[[1,"        "],[8,[39,15],null,[["@bundle"],["msg-conversation-ui"]],[["default"],[[[[1,"\\n"],[41,[30,16,["state","fulfilled"]],[[[1,"            "],[8,[30,10,["inmailCreditsDisplay"]],null,[["@recipient","@inmailCredits","@isOpenLink","@loading","@recipientOpenToFreeMessages"],[[30,3,["firstObject"]],[30,0,["inmailCredits"]],[30,0,["isOpenLink"]],[30,0,["loadingInmailCreditsData"]],[30,5,["recipientOpenToFreeMessages"]]]],null],[1,"\\n"]],[]],null],[1,"        "]],[16]]]]],[1,"\\n"]],[]]],[1,"      "],[10,"footer"],[14,0,"msg-form__footer"],[12],[1,"\\n        "],[10,0],[14,0,"msg-form__left-actions display-flex"],[12],[1,"\\n          "],[8,[30,10,["uploadAttachment"]],null,[["@buttonClasses","@icon","@labelText","@acceptTypes","@trackingPrefix"],["artdeco-button artdeco-button--tertiary artdeco-button--circle artdeco-button--muted m0",[28,[37,13],null,[["type"],["image-icon"]]],[28,[37,11],["i18n_attach_image","msg-ui/components/inmail-compose-form"],null],[30,12,["supportedImageAttachmentTypes"]],"image"]],null],[1,"\\n          "],[8,[30,10,["uploadAttachment"]],null,[["@buttonClasses","@icon","@labelText","@acceptTypes","@trackingPrefix"],["artdeco-button artdeco-button--tertiary artdeco-button--circle artdeco-button--muted m0",[28,[37,13],null,[["type"],["paperclip-icon"]]],[28,[37,11],["i18n_attach_file","msg-ui/components/inmail-compose-form"],null],[30,12,["supportedFileAttachmentTypes"]],"file"]],null],[1,"\\n          "],[8,[39,15],null,[["@bundle"],["emoji-picker"]],[["default"],[[[[1,"\\n"],[41,[30,17,["state","fulfilled"]],[[[1,"              "],[8,[39,16],null,[["@doNotFocusTrigger","@handleEmojiSelect","@hoverableIdPrefix","@onHoverableHide","@size","@trackingClosePickerString","@trackingOpenPickerString","@trackingSelectEmojiString","@trackingSelectSearchedEmojiString","@triggerClasses"],[true,[30,11,["updateTextarea"]],"msg_pillar_emoji",[30,11,["focusTextarea"]],2,"msg.close_emoji_picker","msg.open_emoji_picker","msg.select_emoji","msg.select_searched_emoji","msg-form__footer-action"]],null],[1,"\\n"]],[]],null],[1,"          "]],[17]]]]],[1,"\\n        "],[13],[1,"\\n        "],[10,0],[14,0,"msg-form__right-actions display-flex align-items-center"],[12],[1,"\\n          "],[8,[30,10,["sendControls"]],null,[["@buttonClass","@isEnterToSendEnabled"],["artdeco-button artdeco-button--1",false]],null],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n    "]],[10,11,12]]]]],[1,"\\n  "],[13],[1,"\\n"],[13]],["&attrs","elements","@recipients","@isOverlay","@msgAdapterOptions","@prefilledMessage","@beforeUpload","@submitMessage","@smpContent","components","actions","props","@dragAndDropTrackingKeys","@composeViewContext","@recipientOpenToFreeMessages","assetLoader","assetLoader"],false,["ember-cli-pemberly-tracking@track-render","get","-get-dynamic-var","artdeco-entity-lockup@artdeco-entity-lockup","ember-engines@link-to-external","presence@entity-with-presence","ember-cli-pemberly-i18n@format-name","msg-ui@msg-form/primitives/subject-line-input","msg-ui@msg-form/base-form","unless","if","t","artdeco-inline-feedback@artdeco-inline-feedback","artdeco-icons-web@li-icon","text-view-model@text-view-model","asset-loader@deferred-asset-loader","emoji-picker@emoji-hoverable"]]',moduleName:"msg-ui/components/inmail-compose-form.hbs",isStrictMode:!1}),{INMAIL_MAX_CHARACTERS:O}=u.default
let A=(h=(0,c.inject)("global-services@a11y-notification"),f=(0,c.inject)("profile-services@identity-store"),b=(0,c.inject)("msg-data@data-manager"),y=(0,c.inject)("i18n"),v=class extends a.default{constructor(){var e,i
super(...arguments);(0,t.default)(this,"a11yNotification",_,this);(0,t.default)(this,"identityStore",w,this);(0,t.default)(this,"msgDataManager",M,this);(0,t.default)(this,"i18n",k,this);(0,t.default)(this,"subject",C,this);(0,t.default)(this,"messageLength",T,this);(0,t.default)(this,"messageExceedsLength",S,this);(0,t.default)(this,"inmailCredits",x,this);(0,t.default)(this,"creditsDataLoaded",E,this);(0,t.default)(this,"isOpenLink",P,this);(0,n.default)(this,"composeViewContextEnabled",!1);(0,t.default)(this,"loadingInmailCreditsData",D,this)
this.composeViewContextEnabled=this.args.composeViewContext
this.subject=null!==(e=null===(i=this.args.subject)||void 0===i?void 0:i.string)&&void 0!==e?e:this.args.subject
this.loadingInmailCreditsData=!(0,m.isPresent)(this.args.composeViewContext)
this._fetchInmailComposeData().finally((()=>{this.isDestroying||(this.loadingInmailCreditsData=!1)}))}_fetchInmailComposeData(){return g.default.all([this._fetchInMailCredits(),this._fetchIsOpenLink()])}_fetchInMailCredits(){return this.msgDataManager.fetchInmailCredits().then((e=>{this.isDestroying||(this.inmailCredits=(0,d.get)(e,"inMail"))}))}_fetchIsOpenLink(){const e=(0,p.fromUrn)((0,d.get)(this.args,"recipients.firstObject.entityUrn")).id
return this.identityStore.findRecord("com.linkedin.voyager.identity.profile.MemberBadges",e,{reload:!0}).then((e=>{this.isDestroying||(this.isOpenLink=e&&(0,d.get)(e,"openLink"))}))}a11yNotify(e){const t=this.i18n.lookupTranslation("components/msg-ui@i18n-shared",e)
this.a11yNotification.setTextInLiveRegion(t([]))}updateSubject(e){this.subject=e.target.value}validateForm(e){const t=this.messageExceedsLength,n=e.length>O
if(n){t||this.a11yNotify("i18n_inmail_too_long")
this.messageLength=e.length}else t&&this.a11yNotify("i18n_inmail_not_too_long_any_more")
this.messageExceedsLength=n
return!(!(0,m.isPresent)(e)||n)&&(!(!this.composeViewContextEnabled&&!this.isOpenLink)||!!this.inmailCredits)}},_=(0,i.default)(v.prototype,"a11yNotification",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=(0,i.default)(v.prototype,"identityStore",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=(0,i.default)(v.prototype,"msgDataManager",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=(0,i.default)(v.prototype,"i18n",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=(0,i.default)(v.prototype,"subject",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,i.default)(v.prototype,"messageLength",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,i.default)(v.prototype,"messageExceedsLength",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=(0,i.default)(v.prototype,"inmailCredits",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),E=(0,i.default)(v.prototype,"creditsDataLoaded",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P=(0,i.default)(v.prototype,"isOpenLink",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=(0,i.default)(v.prototype,"loadingInmailCreditsData",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,i.default)(v.prototype,"updateSubject",[d.action],Object.getOwnPropertyDescriptor(v.prototype,"updateSubject"),v.prototype),(0,i.default)(v.prototype,"validateForm",[d.action],Object.getOwnPropertyDescriptor(v.prototype,"validateForm"),v.prototype),v)
e.default=A;(0,r.setComponentTemplate)(I,A)}))
define("msg-ui/components/inmail-reply-panel",["exports","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@ember/component","@ember/template-factory","@glimmer/component","@ember/debug","@ember/object","msg-shared/utils/constants"],(function(e,t,n,i,s,r,o,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var l
const c=(0,i.createTemplateFactory)({id:"ujtYGLCI",block:'[[[10,0],[14,0,"msg-inmail-reply-panel display-flex flex-column pt1 ph3"],[12],[1,"\\n  "],[10,0],[14,0,"msg-inmail-reply-panel__header display-flex justify-space-between align-items-center"],[12],[1,"\\n    "],[10,1],[14,0,"msg-inmail-reply-panel__signal-text t-14 t-black--medium"],[12],[1,[30,1,["text"]]],[13],[1,"\\n    "],[8,[39,0],[[16,"data-control-name",[28,[37,1],[[30,2],[30,0,["inmailType"]],"_inmail_",[30,0,["signal"]],"_back"],null]]],[["@class","@type","@color","@size","@circle","@icon","@click","@text"],["msg-inmail-reply-panel__cancel-icon","tertiary","muted","1","true","cancel-icon",[30,3],[28,[37,2],["a11y_cancel_button","msg-ui/components/inmail-reply-panel"],null]]],null],[1,"\\n  "],[13],[1,"\\n  "],[8,[39,3],[[24,0,"msg-inmail-reply-panel__message mb2"],[16,"data-control-name",[28,[37,1],[[30,2],[30,0,["inmailType"]],"_inmail_",[30,0,["signal"]],"_edit"],null]],[4,[38,4],["input",[30,0,["textInputHandler"]]],null]],[["@value"],[[30,0,["messageBody"]]]],null],[1,"  "],[10,0],[14,0,"msg-inmail-reply-panel__footer display-flex justify-flex-end pb2"],[12],[1,"\\n"],[41,[30,0,["isDecline"]],[[[1,"      "],[8,[39,0],[[16,"data-control-name",[28,[37,1],[[30,2],[30,0,["inmailType"]],"_inmail_no_send_no_message"],null]]],[["@class","@type","@size","@disabled","@text","@aria-label","@click"],["msg-inmail-reply-panel__decline-without-a-message-button mr2","secondary","1",[30,0,["sendInProgress"]],[28,[37,2],["i18n_decline_without_a_message_button_text","msg-ui/components/inmail-reply-panel"],null],[28,[37,2],["a11y_decline_without_a_message_button","msg-ui/components/inmail-reply-panel"],null],[30,0,["sendDeclineWithoutMessageBody"]]]],null],[1,"\\n"]],[]],null],[1,"    "],[8,[39,0],[[16,"data-control-name",[28,[37,1],[[30,2],[30,0,["inmailType"]],"_inmail_",[30,0,["signal"]],"_send"],null]]],[["@class","@type","@size","@click","@text","@aria-label","@disabled"],["msg-inmail-reply-panel__send-button","primary","1",[28,[37,6],[[30,4],[30,1,["reply"]],[30,0,["messageBody"]]],null],[28,[37,2],["i18n_send_button_text","msg-ui/components/inmail-reply-panel"],null],[52,[30,0,["isAccept"]],[28,[37,2],["a11y_send_accept","msg-ui/components/inmail-reply-panel"],null],[28,[37,2],["a11y_send_decline","msg-ui/components/inmail-reply-panel"],null]],[28,[37,7],[[30,0,["sendInProgress"]],[28,[37,8],[[30,0,["messageBody"]],""],null]],null]]],null],[1,"\\n  "],[13],[1,"\\n"],[13]],["@quickReply","@trackingPrefix","@cancel","@send"],false,["artdeco-button@artdeco-button","concat","t","textarea","on","if","fn","global-helpers@or","global-helpers@eq"]]',moduleName:"msg-ui/components/inmail-reply-panel.hbs",isStrictMode:!1}),{SMART_ACTIONS:m}=a.default
let d=(l=class extends s.default{constructor(){super(...arguments)
this.replyType=(0,o.get)(this.args.quickReply.reply,"replyType")
this.isAccept=this.replyType===m.INMAIL_ACCEPT
this.isDecline=this.replyType===m.INMAIL_DECLINE
"INMAIL"===(0,o.get)(this.args.replyTo,"subtype")&&"RECRUITER"===(0,o.get)(this.args.replyTo,"eventContent.customContent.inmailProductType")?this.inmailType="lts":"INMAIL"===(0,o.get)(this.args.replyTo,"subtype")&&"SALES"===(0,o.get)(this.args.replyTo,"eventContent.customContent.inmailProductType")?this.inmailType="lss":this.inmailType="premium"
this.signal=this.isAccept?"yes":"no";(0,o.set)(this,"sendInProgress",!1)
this.messageBody=(0,o.get)(this.args.quickReply.reply,"quickActionPrefillText")}sendDeclineWithoutMessageBody(){(0,o.set)(this,"sendInProgress",!0)
this.args.send((0,o.get)(this.args.quickReply,"reply"),"").finally((()=>{(0,o.set)(this,"sendInProgress",!1)}))}textInputHandler(e){const t=e.target
t.style.height="auto"
t.scrollHeight!==t.clientHeight&&(t.style.height=`${t.scrollHeight+2}px`)}},(0,t.default)(l.prototype,"sendDeclineWithoutMessageBody",[o.action],Object.getOwnPropertyDescriptor(l.prototype,"sendDeclineWithoutMessageBody"),l.prototype),l)
e.default=d;(0,n.setComponentTemplate)(c,d)}))
define.alias("ember-vector-images/components/lazy-background","msg-ui/components/lazy-background")
define.alias("ember-vector-images/components/lazy-image","msg-ui/components/lazy-image")
define.alias("ember-line-clamp/components/line-clamp","msg-ui/components/line-clamp")
define.alias("artdeco-icons-web/components/linkedin-logo","msg-ui/components/linkedin-logo")
define("msg-ui/components/loader",["exports","@ember/component","@ember/template-factory","@glimmer/component","@ember/debug"],(function(e,t,n,i,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const r=(0,n.createTemplateFactory)({id:"cthc3EZk",block:'[[[1,"\\n"],[11,0],[16,0,[29,["msg-loader display-flex align-items-center\\n    ",[30,0,["positionClass"]],"\\n    ",[30,0,["borderClass"]]]]],[17,1],[12],[1,"\\n  "],[8,[39,0],null,[["@size","@type","@class"],[[30,0,["size"]],[30,0,["type"]],"mh2"]],null],[1,"\\n"],[41,[30,2],[[[1,"    "],[10,0],[14,0,"t-14 t-bold t-black--light"],[12],[1,"\\n      "],[1,[30,2]],[1,"\\n    "],[13],[1,"\\n"]],[]],null],[13]],["&attrs","@text"],false,["artdeco-loader@artdeco-loader","if"]]',moduleName:"msg-ui/components/loader.hbs",isStrictMode:!1}),o={right:"flex-row",left:"flex-row-reverse",top:"flex-column-reverse",bottom:"flex-column"},a={top:"msg-loader--border-top",bottom:"msg-loader--border-bottom"}
class l extends i.default{constructor(){super(...arguments)
const{textPosition:e}=this.args}get positionClass(){var e
return o[null!==(e=this.args.textPosition)&&void 0!==e?e:"right"]}get borderClass(){var e
return null!==(e=a[this.args.border])&&void 0!==e?e:""}get size(){var e
return null!==(e=this.args.size)&&void 0!==e?e:"default"}get type(){var e
return null!==(e=this.args.type)&&void 0!==e?e:"standard"}}e.default=l;(0,t.setComponentTemplate)(r,l)}))
define.alias("ember-media-player/components/media-player","msg-ui/components/media-player")
define.alias("ember-media-player/components/media-player/big-play-button","msg-ui/components/media-player/big-play-button")
define.alias("ember-media-player/components/media-player/caption","msg-ui/components/media-player/caption")
define.alias("ember-media-player/components/media-player/control/back-to-start","msg-ui/components/media-player/control/back-to-start")
define.alias("ember-media-player/components/media-player/control/captions-menu","msg-ui/components/media-player/control/captions-menu")
define.alias("ember-media-player/components/media-player/control/custom","msg-ui/components/media-player/control/custom")
define.alias("ember-media-player/components/media-player/control/fullscreen","msg-ui/components/media-player/control/fullscreen")
define.alias("ember-media-player/components/media-player/control/next","msg-ui/components/media-player/control/next")
define.alias("ember-media-player/components/media-player/control/playback-rate","msg-ui/components/media-player/control/playback-rate")
define.alias("ember-media-player/components/media-player/control/previous","msg-ui/components/media-player/control/previous")
define.alias("ember-media-player/components/media-player/control/settings","msg-ui/components/media-player/control/settings")
define.alias("ember-media-player/components/media-player/control/settings/auto-advance","msg-ui/components/media-player/control/settings/auto-advance")
define.alias("ember-media-player/components/media-player/control/settings/autoplay","msg-ui/components/media-player/control/settings/autoplay")
define.alias("ember-media-player/components/media-player/control/settings/quality","msg-ui/components/media-player/control/settings/quality")
define.alias("ember-media-player/components/media-player/control/skipahead","msg-ui/components/media-player/control/skipahead")
define.alias("ember-media-player/components/media-player/control/skipback","msg-ui/components/media-player/control/skipback")
define.alias("ember-media-player/components/media-player/control/theater-mode","msg-ui/components/media-player/control/theater-mode")
define.alias("ember-media-player/components/media-player/end-screen","msg-ui/components/media-player/end-screen")
define.alias("ember-media-player/components/media-player/error-screen","msg-ui/components/media-player/error-screen")
define("msg-ui/components/message-list-scroller",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","ember","@ember-decorators/component","@ember/object","@ember/runloop","@ember/service","@ember/object/computed","msg-shared/utils/constants","msg-shared/helpers/is-current-user","global-utils/utils/scroller","infinite-scroll/components/infinite-scroll-container","infinite-scroll/mixins/infinite-scroll","ember-batcher","global-helpers/helpers/load","global-utils/utils/intersection-observer","global-utils/utils/is-browser","msg-shared/utils/msg-anchoring-helpers","msg-shared/helpers/is-sponsored-conversation","msg-shared/helpers/is-inmail-conversation","ember-lifeline"],(function(e,t,n,i,s,r,o,a,l,c,m,d,u,p,g,h,f,b,y,v,_,w,M,k,C,T){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var S,x,E,P,D,I,O,A,j,R,N,F,z,L,U,B,H,q,V,W,G,K,$,Q,Y,J,Z
const X=(0,o.createTemplateFactory)({id:"i8gru/Oi",block:'[[[1,"\\n"],[18,1,[[28,[37,1],null,[["props","actions"],[[28,[37,1],null,[["isLoading","hasNewMessages","scrollingPastThreshold","messageIndexToBeAnchored"],[[30,0,["isLoading"]],[30,0,["hasNewMessages"]],[30,0,["scrollingPastThreshold"]],[30,0,["messageIndexToBeAnchored"]]]]],[28,[37,1],null,[["scrollToNewMessages"],[[30,0,["scrollToNewMessages"]]]]]]]]]]],["&default"],false,["yield","hash"]]',moduleName:"msg-ui/components/message-list-scroller.hbs",isStrictMode:!1}),{MESSAGE_LIST_SCROLLBLOCK_THRESHOLD:ee}=p.default
function te(){if(w.default)return new window.ResizeObserver(...arguments)}let ne=(S=(0,l.classNames)("msg-s-message-list-container","relative","display-flex"),x=(0,l.classNameBindings)("showMessagesStartingFromTop:mbA:mtA","composeIsFullyExpanded:message-list-container--collapsed"),E=(0,l.tagName)("div"),P=(0,d.inject)("i18n"),D=(0,d.inject)("lix"),I=(0,d.inject)("global-services@a11y-notification"),O=(0,d.inject)("authentication@authenticated-user"),A=(0,d.inject)("rum"),j=(0,d.inject)("client-sensor-web@client-sensor"),R=(0,c.computed)("elementId"),N=(0,u.reads)("eventTarget"),F=(0,c.computed)("eventsLoading","conversation.id","_lastConversationId").readOnly(),z=(0,c.computed)("latestEvent.id","_lastEventId").readOnly(),L=(0,c.computed)("renderingNewEvent").readOnly(),U=(0,u.gte)("typingParticipants.length",1).readOnly(),B=(0,c.computed)("conversation.latestEvent.subtype"),H=(0,c.computed)("initialEventsState.isLoading"),S(q=x(q=E(q=(V=class extends f.default{constructor(){super(...arguments);(0,n.default)(this,"pageKey","flagship3_messaging_comp_message_list");(0,n.default)(this,"rumComponentId","messaging/message-list-scroller");(0,t.default)(this,"i18n",W,this);(0,t.default)(this,"lix",G,this);(0,t.default)(this,"a11yNotification",K,this);(0,t.default)(this,"authenticatedUser",$,this);(0,t.default)(this,"rum",Q,this);(0,t.default)(this,"clientSensor",Y,this);(0,n.default)(this,"scrollBuffer",250);(0,n.default)(this,"triggerOnInsert",!1);(0,n.default)(this,"triggerInfiniteScrollOnInsert",!1);(0,n.default)(this,"infiniteScrollDirection",b.SCROLL_DIRECTIONS.UP);(0,t.default)(this,"scrollingElementSelector",J,this);(0,n.default)(this,"_lastConversationId","-1");(0,n.default)(this,"_lastEventId","-1");(0,n.default)(this,"hasNewMessages",!1);(0,n.default)(this,"hasScrolledToAnchoredPosition",!1);(0,n.default)(this,"hasMoreMessagesToLoad",!0);(0,t.default)(this,"showTypingIndicators",Z,this)}get eventTarget(){return`#${this.elementId} .msg-s-message-list`}get renderingNewConversation(){const e=this.conversation.id!==this._lastConversationId
return this.scrollingRefactorEnabled&&this.eventsLoading||e}get renderingNewEvent(){const e=(0,c.get)(this,"latestEvent.id")
return!e||e!==this._lastEventId}get receivedNewEventFromSomeone(){return this.renderingNewEvent&&!(0,g.isCurrentUser)(this.authenticatedUser,(0,c.get)(this,"latestEvent.from"))}get showMessagesStartingFromTop(){return(0,C.isInmailConversation)(this.conversation)||(0,k.isSponsoredConversation)(this.conversation)}get eventsLoading(){return this.initialEventsState&&this.initialEventsState.isLoading}get scrollingRefactorEnabled(){return this.lix.getTreatmentIsEnabled("voyager.web.messaging-scroller-refactor")}scroll(){if(!this.renderingNewConversation){super.scroll(...arguments)
const{scrollingElement:e}=this;(0,y.readDOM)((()=>{if(!this.isDestroying&&e){const t=Math.abs(e.scrollHeight-e.offsetHeight-e.scrollTop)
this.userIsScrolling=t>this.scrollingRefactorEnabled?25:0;(0,c.set)(this,"scrollingPastThreshold",t>=ee)
this.scrollingPastThreshold||(0,c.set)(this,"hasNewMessages",!1)}}))}}didInsertElement(){super.didInsertElement(...arguments)
this._registerObservers()}didReceiveAttrs(){super.didReceiveAttrs(...arguments)
this.initialEventsRequest&&"function"==typeof this.initialEventsRequest.then&&(0,c.set)(this,"initialEventsState",(0,v.load)(this.initialEventsRequest))}didRender(){super.didRender(...arguments)
this.scrollingRefactorEnabled?(0,T.debounceTask)(this,"_resetScrollPosition",75,!0):this._resetScrollPosition()
if(!this.eventsLoading){const{messageIndexToBeAnchored:e}=this
e||(0,c.set)(this,"messageIndexToBeAnchored",this._getAnchoredMessageIndex())}}willDestroyElement(){var e
super.willDestroyElement(...arguments)
null===(e=this._observer)||void 0===e||e.disconnect()
if(this.scrollingRefactorEnabled){var t
null===(t=this._resizeObserver)||void 0===t||t.disconnect();(0,T.runDisposables)(this)}}_resetScrollPosition(){const{renderingNewConversation:e}=this
if(e){this.userIsScrolling=!1
const e=(0,c.get)(this,"conversation.eventCollection")
null!=e&&e.hasPendingFetch()&&e.loadFetched().then((()=>{this.isDestroying||this.scrollToBottom()
const e=this.rum.startPerfMeasurement("messaging-message-list-load-messages")
e.isOverlapping?e.cancel():(0,m.schedule)("afterRender",(()=>{!e||e.isCanceled||e.isClosed||this.rum.endPerfMeasurement(e)}))}))
this.resetInfiniteScroll()
this.scrollToBottom()
this.hasMoreMessagesToLoad=!0}else(0,c.get)(this,"latestEvent.id")!==this._lastEventId?!this.scrollingPastThreshold||(0,g.isCurrentUser)(this.authenticatedUser,(0,c.get)(this,"latestEvent.from"))?this.scrollToBottom({animate:!0}):(0,c.set)(this,"hasNewMessages",this.receivedNewEventFromSomeone&&this.scrollingPastThreshold):this.userIsScrolling||(this.messageIndexToBeAnchored?this.lix.getTreatmentIsEnabled("voyager.web.messaging-anchor-last-unread")&&!this.hasScrolledToAnchoredPosition&&this._scrollToAnchoredPosition(this.messageIndexToBeAnchored):this.scrollingRefactorEnabled?this.scrollToBottom():this.scrollToBottom({animate:!0}));(0,c.setProperties)(this,{_lastConversationId:(0,c.get)(this,"conversation.id"),_lastEventId:(0,c.get)(this,"latestEvent.id")})}infiniteScroll(){if(this.renderingNewConversation)return!0
if(this.hasMoreMessagesToLoad){a.default.testing&&console.log("---------- fetchAndLoadMore about to be triggered ----------")
return this.loadMore(this.conversation).then((e=>{const t=e.length
if(!this.isDestroying){const e=this.i18n.lookupTranslation("components/msg-ui@i18n-shared","i18n_a11y_infinite_scroll_messages")
this.a11yNotification.setTextInLiveRegion(e([{newRecordCount:t}]));(0,c.set)(this,"hasMoreMessagesToLoad",!!t)
this.messageIndexToBeAnchored&&(0,c.set)(this,"messageIndexToBeAnchored",this.messageIndexToBeAnchored+t)}const n=this.rum.startPerfMeasurement("messaging-message-list-load-more")
n.isOverlapping?n.cancel():(0,m.schedule)("afterRender",(()=>{!n||n.isCanceled||n.isClosed||this.rum.endPerfMeasurement(n)}))
return t}))}return!1}_scrollToBottom(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,y.readDOM)((()=>{let t
if(this.isDestroying)return
const{scrollingElement:n}=this
t=n.scrollHeight
if("INMAIL"===(0,c.get)(this,"latestEvent.subtype"))if((0,c.get)(this,"latestEvent.isFirstMessageInThread"))t=0
else{t=n.querySelector("li:last-of-type").offsetTop-45}(0,c.set)(this,"hasNewMessages",!1)
this._scrollTo(t,e)}))}scrollToBottom(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
this.scrollingRefactorEnabled?(0,T.debounceTask)(this,"_scrollToBottom",e,75,!0):this._scrollToBottom(...arguments)}_scrollTo(e,t){let{animate:n=!1}=t
if(!this.isDestroying)if(this.scrollingRefactorEnabled){const{scrollingElement:t}=this
if(t){t.scrollHeight===e&&(0,c.setProperties)(this,{scrollingPastThreshold:!1,userIsScrolling:!1})
h.default.scrollTo(t,{animate:n,top:e})}}else(0,y.mutateDOM)((()=>{if(this.isDestroying)return
const{scrollingElement:t}=this
if(t){if(t.scrollHeight===e){(0,c.set)(this,"scrollingPastThreshold",!1);(0,c.set)(this,"userIsScrolling",!1)}h.default.scrollTo(t,{animate:n,top:e})}}))}_scrollToAnchoredPosition(e){const{scrollingElement:t}=this,n=t.querySelectorAll(".msg-s-message-list__event")
n.length&&e>=0&&(0,y.readDOM)((()=>{if(this.isDestroying)return
let t=0
for(let i=0;i<e;i++)t+=n[i].clientHeight
const i=this.element.clientHeight,s=this.element.querySelector(".msg-s-profile-card"),r=t+((null==s?void 0:s.clientHeight)||0)-i/2+n[e].clientHeight
this.hasScrolledToAnchoredPosition=!0
this._scrollTo(r,{animate:!0})}))}_registerObservers(){const{scrollingElement:e}=this,t=t=>{!this.isDestroying&&e&&t.forEach((e=>{1===e.intersectionRatio&&(0,c.set)(this,"scrollingPastThreshold",!1)}))}
if(w.default){this._observer=new _.default(t)
this._observer.observe(this.element.querySelector(".msg-s-message-list__bottom-of-list"))
if(this.scrollingRefactorEnabled){const e=document.querySelector(`${this.eventTarget} .msg-s-message-list-content`)
if(!e)return
this._resizeObserver=new te((()=>{this.userIsScrolling||this.scrollToBottom()}))
this._resizeObserver.observe(e)}}}_getAnchoredMessageIndex(){const e=(0,c.get)(this,"conversation.lastReadAt"),t=!!e&&e>=(0,c.get)(this,"conversation.eventCollection.oldestEvent.createdAt")
!t&&e&&this.clientSensor.incrementMetricCounter({groupName:"messaging",metricName:"anchoring-EV-unread"})
if(t&&e<(0,c.get)(this,"conversation.latestEvent.createdAt")&&!this.isDestroying)return(0,M.getMessageIndexToBeAnchored)(e,(0,c.get)(this,"conversation.eventCollection.data"),this.authenticatedUser)}scrollToNewMessages(){return this.scrollToBottom({animate:!0})}},W=(0,i.default)(V.prototype,"i18n",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=(0,i.default)(V.prototype,"lix",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=(0,i.default)(V.prototype,"a11yNotification",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=(0,i.default)(V.prototype,"authenticatedUser",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=(0,i.default)(V.prototype,"rum",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=(0,i.default)(V.prototype,"clientSensor",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,i.default)(V.prototype,"eventTarget",[R],Object.getOwnPropertyDescriptor(V.prototype,"eventTarget"),V.prototype),J=(0,i.default)(V.prototype,"scrollingElementSelector",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,i.default)(V.prototype,"renderingNewConversation",[F],Object.getOwnPropertyDescriptor(V.prototype,"renderingNewConversation"),V.prototype),(0,i.default)(V.prototype,"renderingNewEvent",[z],Object.getOwnPropertyDescriptor(V.prototype,"renderingNewEvent"),V.prototype),(0,i.default)(V.prototype,"receivedNewEventFromSomeone",[L],Object.getOwnPropertyDescriptor(V.prototype,"receivedNewEventFromSomeone"),V.prototype),Z=(0,i.default)(V.prototype,"showTypingIndicators",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,i.default)(V.prototype,"showMessagesStartingFromTop",[B],Object.getOwnPropertyDescriptor(V.prototype,"showMessagesStartingFromTop"),V.prototype),(0,i.default)(V.prototype,"eventsLoading",[H],Object.getOwnPropertyDescriptor(V.prototype,"eventsLoading"),V.prototype),(0,i.default)(V.prototype,"scrollToNewMessages",[c.action],Object.getOwnPropertyDescriptor(V.prototype,"scrollToNewMessages"),V.prototype),V))||q)||q)||q)
e.default=ne;(0,r.setComponentTemplate)(X,ne)}))
define("msg-ui/components/message-list",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@ember/object","@ember/object/compat","@ember/service","@glimmer/component","global-utils/utils/is-browser","msg-ui/utils/events-grouper","msg-shared/helpers/is-sponsored-conversation","msg-shared/helpers/is-inmail-conversation"],(function(e,t,n,i,s,r,o,a,l,c,m,d,u,p,g){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var h,f,b,y,v,_,w,M,k,C,T,S,x
const E=(0,o.createTemplateFactory)({id:"ItHxKmr9",block:'[[[11,0],[16,0,[29,["msg-s-message-list",[52,[51,[30,1,["eventCollection","oldestEvent","isFirstMessageInThread"]]]," msg-s-message-list--scroll-buffer"],"\\n    full-width scrollable"]]],[17,2],[12],[1,"\\n  "],[10,"ul"],[15,0,[29,["msg-s-message-list-content",[52,[28,[37,2],[[30,1],[30,0,["isMessagingInmailHeadersEnabled"]]],null]," full-height"],"\\n      list-style-none full-width"]]],[12],[1,"\\n"],[41,[28,[37,2],[[30,1],[30,0,["isMessagingInmailHeadersEnabled"]]],null],[[[1,"      "],[10,"li"],[14,0,"msg-s-message-list__top-banner"],[12],[1,"\\n        "],[10,0],[14,0,"display-flex"],[12],[1,"\\n"],[41,[51,[28,[37,3],[[30,1]],null]],[[[1,"            "],[1,[28,[35,4],null,[["type","size","class"],["linkedin-inbug-color-icon","small","mr2"]]]],[1,"\\n"]],[]],null],[1,"          "],[10,2],[14,0,"t-12 t-black--light t-normal"],[12],[1,"\\n"],[41,[28,[37,5],[[30,1,["eventCollection","oldestEvent","eventContent","customContent","inmailProductType"]],"RECRUITER"],null],[[[1,"              "],[1,[28,[35,6],["i18n_top_banner_recruiter","msg-ui/components/message-list"],null]],[1,"\\n"]],[]],[[[41,[28,[37,3],[[30,1]],null],[[[1,"              "],[1,[52,[30,1,["sponsoredConversationMetadata","advertiserLabel"]],[28,[37,6],[[30,1,["sponsoredConversationMetadata","advertiserLabel"]],"msg-ui/components/message-list"],null],[28,[37,6],["i18n_top_banner_sponsored","msg-ui/components/message-list"],null]]],[1,"\\n"]],[]],[[[1,"              "],[1,[28,[35,6],["i18n_top_banner_sales","msg-ui/components/message-list"],null]],[1,"\\n            "]],[]]]],[]]],[1,"          "],[13],[1,"\\n        "],[13],[1,"\\n        "],[10,"time"],[14,0,"white-space-nowrap pl3 t-12 t-black--light t-normal"],[12],[1,"\\n          "],[1,[28,[35,7],[[30,1,["eventCollection","oldestEvent","createdAt"]]],[["format","useTimeZone"],[[52,[28,[37,8],[[30,1,["eventCollection","oldestEvent","createdAt"]]],null],"fmt_md_medium","fmt_mdy_medium"],true]]]],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n"]],[]],null],[41,[30,0,["showProfileCard"]],[[[1,"      "],[10,"li"],[12],[1,"\\n        "],[8,[39,9],null,[["@bundle"],["msg-conversation-ui"]],[["default"],[[[[1,"\\n"],[41,[30,3,["state","fulfilled"]],[[[41,[30,1,["groupChat"]],[[[1,"              "],[8,[39,10],null,[["@isOverlay","@conversation","@recipientProfiles","@recipientNames","@addParticipantsPageKey","@actionTrackingPrefix","@toggleShowRenameConversation"],[[30,4],[30,1],[30,0,["recipientProfiles"]],[28,[37,11],[[30,1]],null],[30,5],[30,0,["actionTrackingPrefix"]],[30,6]]],null],[1,"\\n"]],[]],[[[1,"              "],[8,[39,12],[[24,0,"ph3"]],[["@inlineLayout","@recipientProfile","@contextText"],[[30,7],[30,1,["participants","firstObject","miniProfile"]],[30,1,["contextText"]]]],null],[1,"\\n"]],[]]]],[]],null],[1,"        "]],[3]]]]],[1,"\\n      "],[13],[1,"\\n"]],[]],null],[1,"    "],[10,"li"],[15,0,[29,["msg-s-message-list__loader",[52,[51,[30,8]]," hidden"]]]],[12],[1,"\\n      "],[8,[39,13],null,[["@size"],["small"]],null],[1,"\\n    "],[13],[1,"\\n"],[42,[28,[37,15],[[28,[37,15],[[28,[37,16],[[30,1,["eventCollection","data"]],[30,9],[30,0,["isMessagingInmailHeadersEnabled"]],[30,0,["isMessagingSendingIndicatorEnabled"]],[30,1],[30,0,["conversationSeenReceipts"]]],null]],null]],null],"id",[[[1,"      "],[10,"li"],[15,0,[29,["msg-s-message-list__event clearfix\\n          ",[52,[28,[37,17],[[30,0,["projectShineAnimationsEnabled"]],[28,[37,5],[[30,11],[28,[37,18],[[30,0,["groupedEvents","length"]],1],null]],null]],null],"msg-s-message-list__event--slide-in"]]]],[12],[1,"\\n"],[41,[28,[37,17],[[30,10,["dateBoundary"]],[30,10,["isOldestUnreadEvent"]]],null],[[[1,"          "],[10,0],[14,0,"msg-s-message-list__new-message-time-heading t-12 t-bold"],[12],[1,"\\n            "],[10,"time"],[14,0,"msg-s-message-list__new-message-heading--timestamp t-black--light"],[12],[1,"\\n              "],[1,[28,[35,19],[[30,10,["dateBoundary","timestamp"]]],null]],[1,"\\n            "],[13],[1,"\\n\\n            "],[10,"time"],[14,0,"msg-s-message-list__new-message-heading--text"],[12],[1,"\\n              "],[1,[28,[35,6],["i18n_new_message_divider_text","msg-ui/components/message-list"],null]],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n"]],[]],[[[41,[30,10,["dateBoundary"]],[[[1,"          "],[10,"time"],[14,0,"msg-s-message-list__time-heading t-12 t-black--light t-bold"],[12],[1,"\\n            "],[1,[28,[35,19],[[30,10,["dateBoundary","timestamp"]]],null]],[1,"\\n          "],[13],[1,"\\n"]],[]],[[[41,[30,10,["isOldestUnreadEvent"]],[[[1,"          "],[10,"time"],[14,0,"msg-s-message-list__new-message-heading t-12 t-bold"],[12],[1,"\\n            "],[1,[28,[35,6],["i18n_new_message_divider_text","msg-ui/components/message-list"],null]],[1,"\\n          "],[13],[1,"\\n        "]],[]],null]],[]]]],[]]],[1,"\\n"],[41,[30,10,["senderGroupMessageCount"]],[[[1,"          "],[10,1],[14,0,"msg-s-event-listitem--group-a11y-heading visually-hidden"],[12],[1,"\\n            "],[1,[28,[35,6],["i18n_a11y_pre_message_text","msg-ui/components/message-list"],[["actorName","count","timestamp"],[[28,[37,20],[[30,10,["event","from","miniProfile"]]],null],[30,10,["senderGroupMessageCount"]],[28,[37,21],[[30,10,["event","createdAt"]]],[["format","useTimeZone"],["fmt_hm",true]]]]]]],[1,"\\n          "],[13],[1,"\\n"]],[]],null],[1,"        "],[8,[39,22],[[16,"data-event-urn",[30,10,["event","entityUrn"]]]],[["@blockedByNoResponse","@hasSeenReceipts","@event","@isLastInGroup","@isSystemMessagePrecededByM2MMessage","@isSystemMessageFollowedByM2MMessage","@isM2MMessageFollowedByDateBoundary","@messageIndex","@isOverlay","@moduleKey","@resendMessage"],[[30,12],[52,[28,[37,17],[[30,0,["isSeenReceiptsV2Enabled"]],[30,0,["isConvoNotPendingRequest"]]],null],[28,[37,23],[[28,[37,24],[[30,0,["conversationSeenReceipts"]],[30,1],[30,10,["event"]]],null],"length"],null],[30,10,["event","seenReceipts","length"]]],[30,10,["event"]],[30,10,["isLastInGroup"]],[30,10,["isSystemMessagePrecededByM2MMessage"]],[30,10,["isSystemMessageFollowedByM2MMessage"]],[30,10,["isM2MMessageFollowedByDateBoundary"]],[30,10,["messageIndex"]],[30,4],[52,[30,4],"overlay_compose"],[30,13]]],[["default"],[[[[1,"\\n"],[41,[30,10,["showMeta"]],[[[41,[28,[37,5],[[30,10,["event","subtype"]],"SPONSORED_MESSAGE"],null],[[[1,"              "],[8,[39,25],null,[["@sender","@isCompanySender"],[[30,10,["event","from"]],[30,15]]],null],[1,"\\n"]],[]],[[[41,[28,[37,26],[[30,14,["isSystemMessage"]]],null],[[[1,"              "],[8,[39,27],null,[["@sender","@showPresence","@size"],[[30,10,["event","from"]],[30,1,["groupChat"]],"2"]],null],[1,"\\n            "]],[]],null]],[]]],[1,"\\n            "],[10,0],[14,0,"msg-s-message-group__meta"],[12],[1,"\\n"],[41,[28,[37,5],[[30,10,["event","subtype"]],"SPONSORED_MESSAGE"],null],[[[41,[30,15],[[[1,"                  "],[8,[39,28],null,[["@route","@model"],["companies.company",[28,[37,29],[[30,10,["event","from","miniCompany","entityUrn"]]],null]]],[["default"],[[[[1,"\\n                    "],[10,1],[14,0,"msg-s-message-group__name hoverable-link-text t-14 t-black t-bold"],[12],[1,"\\n                      "],[1,[30,10,["event","from","miniCompany","name"]]],[1,"\\n                    "],[13],[1,"\\n                  "]],[]]]]],[1,"\\n"]],[]],[[[1,"                  "],[10,1],[14,0,"msg-s-message-group__name t-14 t-black t-bold"],[12],[1,"\\n                    "],[1,[30,10,["event","from","fullName"]]],[1,"\\n                  "],[13],[1,"\\n"]],[]]]],[]],[[[6,[39,28],["profile.view",[30,10,["event","from","miniProfile","publicIdentifier"]]],[["class","data-control-name"],["msg-s-message-group__profile-link","view_profile"]],[["default"],[[[[41,[28,[37,20],[[30,10,["event","from","miniProfile"]]],null],[[[1,"                    "],[10,1],[14,0,"msg-s-message-group__name t-14 t-black t-bold hoverable-link-text"],[12],[1,"\\n                      "],[1,[28,[35,6],["i18n_default_listitem_actor_full_name","msg-ui/components/message-list"],[["actorName"],[[28,[37,20],[[30,10,["event","from","miniProfile"]]],null]]]]],[1,"\\n                    "],[13],[1,"\\n"]],[]],null]],[]]]]]],[]]],[1,"              "],[8,[39,30],[[24,0,"t-12 t-black--light t-normal"]],[["@pronounsObject"],[[30,10,["event","from","miniProfile"]]]],null],[1,"\\n"],[41,[28,[37,31],[[28,[37,26],[[28,[37,2],[[30,1],[30,0,["isMessagingInmailHeadersEnabled"]]],null]],null],[30,11]],null],[[[1,"                "],[10,"time"],[14,0,"msg-s-message-group__timestamp white-space-nowrap t-12 t-black--light t-normal"],[12],[1,"\\n                  "],[1,[28,[35,21],[[30,10,["event","createdAt"]]],[["format","useTimeZone"],["fmt_hm",true]]]],[1,"\\n                "],[13],[1,"\\n"]],[]],null],[1,"            "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,14,["isSystemMessage"]],[[[1,"            "],[8,[39,32],null,[["@event","@handleSuccessfulDiscardRequest"],[[30,10,["event"]],[30,16]]],null],[1,"\\n"]],[]],[[[1,"            "],[8,[39,33],null,[["@event","@isMsgSeenByNone","@redirectToActiveConversation","@showMessageEditForm","@onEmojiHoverableShow","@onEmojiHoverableHide","@blockedByNoResponse","@isOverlay","@trackingPrefix"],[[30,10,["event"]],[30,10,["isEventSeenByNone"]],[30,17],[30,18],[30,0,["onEmojiHoverableShow"]],[30,0,["onEmojiHoverableHide"]],[30,12],[30,4],[52,[30,4],"overlay.",""]]],null],[1,"\\n"]],[]]],[1,"\\n          "],[18,30,[[28,[37,35],null,[["props"],[[28,[37,35],null,[["groupedEvent"],[[30,10]]]]]]]]],[1,"\\n        "]],[14]]]]],[1,"\\n"],[41,[52,[28,[37,17],[[30,0,["isSeenReceiptsV2Enabled"]],[30,0,["isConvoNotPendingRequest"]]],null],[28,[37,23],[[28,[37,24],[[30,0,["conversationSeenReceipts"]],[30,1],[30,10,["event"]]],null],"length"],null],[30,10,["event","seenReceipts","length"]]],[[[1,"          "],[10,0],[14,0,"msg-s-event-listitem__seen-receipts t-12 t-black--light t-normal"],[12],[1,"\\n"],[41,[30,0,["isSeenReceiptsV2Enabled"]],[[[42,[28,[37,15],[[28,[37,15],[[28,[37,24],[[30,0,["conversationSeenReceipts"]],[30,1],[30,10,["event"]]],null]],null]],null],"id",[[[41,[30,19,["miniProfile"]],[[[1,"                  "],[8,[39,36],null,[["@image","@alt","@title","@class","@desiredWidth","@desiredHeight","@ghostType"],[[30,19,["miniProfile","picture"]],[28,[37,6],["i18n_seen_receipt_alt_and_title_text","msg-ui/components/message-list"],[["senderName","seenAt"],[[28,[37,20],[[30,19,["miniProfile"]]],null],[30,19,["seenAt"]]]]],[28,[37,6],["i18n_seen_receipt_alt_and_title_text","msg-ui/components/message-list"],[["senderName","seenAt"],[[28,[37,20],[[30,19,["miniProfile"]]],null],[28,[37,21],[[30,19,["seenAt"]]],[["format","useTimeZone"],["fmt_hm",true]]]]]],"msg-s-event-listitem__seen-receipt-photo EntityPhoto-circle-1",100,100,"person"]],null],[1,"\\n"]],[]],null]],[19]],null]],[]],[[[42,[28,[37,15],[[28,[37,15],[[30,10,["event","seenReceipts"]]],null]],null],"id",[[[41,[30,20,["miniProfile"]],[[[1,"                  "],[8,[39,36],null,[["@image","@alt","@title","@class","@desiredWidth","@desiredHeight","@ghostType"],[[30,20,["miniProfile","picture"]],[28,[37,6],["i18n_seen_receipt_alt_and_title_text","msg-ui/components/message-list"],[["senderName","seenAt"],[[28,[37,20],[[30,20,["miniProfile"]]],null],[30,20,["seenAt"]]]]],[28,[37,6],["i18n_seen_receipt_alt_and_title_text","msg-ui/components/message-list"],[["senderName","seenAt"],[[28,[37,20],[[30,20,["miniProfile"]]],null],[28,[37,21],[[30,20,["seenAt"]]],[["format","useTimeZone"],["fmt_hm",true]]]]]],"msg-s-event-listitem__seen-receipt-photo EntityPhoto-circle-1",100,100,"person"]],null],[1,"\\n"]],[]],null]],[20]],null]],[]]],[1,"          "],[13],[1,"\\n"]],[]],null],[1,"      "],[13],[1,"\\n"]],[10,11]],null],[1,"  "],[13],[1,"\\n\\n  "],[10,0],[15,0,[52,[52,[28,[37,17],[[30,0,["isSeenReceiptsV2Enabled"]],[30,0,["isConvoNotPendingRequest"]]],null],[28,[37,23],[[28,[37,24],[[30,0,["conversationSeenReceipts"]],[30,1],[30,1,["latestEvent"]]],null],"length"],null],[30,1,["latestEvent","seenReceipts","length"]]],"msg-s-message-list__typing-indicator-container--with-seen-receipt","msg-s-message-list__typing-indicator-container--without-seen-receipt"]],[12],[1,"\\n"],[41,[30,1,["typingParticipants","length"]],[[[1,"      "],[8,[39,9],null,[["@bundle"],["msg-conversation-ui"]],[["default"],[[[[1,"\\n"],[41,[30,21,["state","fulfilled"]],[[[1,"          "],[8,[39,37],null,[["@typingParticipants"],[[30,1,["typingParticipants"]]]],null],[1,"\\n"]],[]],null],[1,"      "]],[21]]]]],[1,"\\n"]],[]],null],[1,"  "],[13],[1,"\\n\\n"],[41,[30,22],[[[41,[30,0,["enableDismissQRWhenScrolling"]],[[[1,"      "],[8,[39,38],null,[["@conversation","@eventId","@quickReplies","@useCase","@trackingPrefix","@controlActionEventName","@saveReply","@openGIFPopover","@handleInMailReplySmartAction","@handleInMailDeclineSmartAction","@openVirtualMeetingModal","@contextWidth"],[[30,1],[30,1,["latestEvent","id"]],[30,23],[30,24],[30,0,["actionTrackingPrefix"]],"mebc_quick_reply",[30,25],[30,26],[30,0,["openInMailReplyPanel"]],[30,27],[30,28],[30,29]]],null],[1,"\\n"]],[]],null]],[]],null],[1,"\\n  "],[10,0],[14,0,"msg-s-message-list__bottom-of-list"],[12],[13],[1,"\\n"],[13]],["@conversation","&attrs","assetLoader","@isOverlay","@addParticipantsPageKey","@toggleShowRenameConversation","@inlineProfileCardLayout","@isLoading","@messageIndexToBeAnchored","groupedEvent","index","@blockedByNoResponse","@resendMessage","item","@isCompanySender","@handleSuccessfulDiscardRequest","@redirectToActiveConversation","@showMessageEditForm","receipt","receipt","assetLoader","@showQuickReplies","@quickRepliesList","@quickRepliesUseCase","@submitQuickReply","@openGIFPopover","@showInmailDeclineReasonModal","@openVirtualMeetingModal","@contextWidth","&default"],false,["unless","if","msg-ui@has-convo-top-banner","msg-shared@is-sponsored-conversation","artdeco-icons-web@li-icon","global-helpers@eq","t","ember-cli-pemberly-i18n@format-date","msg-ui@is-current-year","asset-loader@deferred-asset-loader","msg-conversation-ui@profile-card-group","msg-shared@participant-names-with-self","msg-conversation-ui@profile-card-one-to-one","artdeco-loader@artdeco-loader","each","-track-array","msg-ui@group-events","global-helpers@and","global-helpers@sub","msg-ui@date-group-heading","global-helpers@name","ember-cli-pemberly-i18n@format-time","msg-ui@primitives/event-listitem","get","msg-ui@get-event-seen-receipts","msg-ui@primitives/event-listitem-advertiser-avatar","global-helpers@not","msg-ui@primitives/event-listitem-avatar","ember-engines@link-to-external","global-helpers@urn-to-id","pronouns@pronouns","global-helpers@or","msg-ui@primitives/event-listitem-system-event","msg-ui@primitives/event-listitem-user-event","yield","hash","ember-vector-images@lazy-image","msg-conversation-ui@typing-indicators","msg-ui@quick-replies"]]',moduleName:"msg-ui/components/message-list.hbs",isStrictMode:!1})
let P=(h=(0,c.inject)("global-services@a11y-notification"),f=(0,c.inject)("i18n"),b=(0,c.inject)("lix"),y=(0,c.inject)("authentication@authenticated-user"),v=(0,c.inject)("tracking"),_=(0,c.inject)("msg-data@data-manager"),w=class extends m.default{constructor(){super(...arguments);(0,t.default)(this,"a11yNotification",M,this);(0,t.default)(this,"i18n",k,this);(0,t.default)(this,"lix",C,this);(0,t.default)(this,"authenticatedUser",T,this);(0,t.default)(this,"tracking",S,this);(0,t.default)(this,"msgDataManager",x,this);(0,n.default)(this,"_lastTypingParticipants",0)
this.isMessagingInmailHeadersEnabled=this.lix.getTreatmentIsEnabled("voyager.web.messaging-inmail-headers")
this.isMessagingSendingIndicatorEnabled=this.lix.getTreatmentIsEnabled("voyager.web.messaging-sending-indicator")}get groupedEvents(){return u.default.groupEvents((0,a.get)(this,"args.conversation.eventCollection.data"),this.args.messageIndexToBeAnchored,this.isMessagingInmailHeadersEnabled)}get showProfileCard(){return(0,a.get)(this,"args.conversation.eventCollection.oldestEvent.isFirstMessageInThread")&&!this.args.isLoading&&!(0,p.isSponsoredConversation)((0,a.get)(this,"args.conversation"))&&(!(0,g.isInmailConversation)((0,a.get)(this.args,"conversation"))||this.lix.getTreatmentIsEnabled("voyager.web.messaging-inmail-headers"))}get recipientProfiles(){const e=(0,a.get)(this,"args.conversation.participants").mapBy("miniProfile");(0,a.get)(this,"args.conversation.viewerCurrentParticipant")&&e.push((0,a.get)(this,"authenticatedUser.miniProfile"))
return e}get enableDismissQRWhenScrolling(){return this.lix.getTreatmentIsEnabled("voyager.web.messaging-dismiss-quick-replies-scrolling")}get isSeenReceiptsV2Enabled(){return this.lix.getTreatmentIsEnabled("voyager.web.messaging-seen-receipts-no-cp")}get isConvoNotPendingRequest(){return"PENDING"!==(0,a.get)(this.args,"conversation.messageRequestState")}get conversationSeenReceipts(){return this.msgDataManager.seenReceiptsManager.getSeenReceipts((0,a.get)(this.args,"conversation.entityUrn"))}get projectShineAnimationsEnabled(){return this.lix.getTreatmentIsEnabled("voyager.web.messaging-compose-animations")&&this.lix.getTreatmentIsEnabled("voyager.web.enable-shine-week-changes")}willUpdate(){this._checkTypingParticipants()}_checkTypingParticipants(){if("INMAIL"===!(0,a.get)(this,"args.conversation.latestEvent.subtype")){var e
const t=null!==(e=this._lastTypingParticipants)&&void 0!==e?e:0,n=(0,a.get)(this.args,"conversation.typingParticipants.length")
if(t!==n){this._announceTypingIndicators(n)
this._lastTypingParticipants=n}}}_a11yNotify(e,t){const n=this.i18n.lookupTranslation("components/msg-ui@i18n-shared",e)
this.a11yNotification.setTextInLiveRegion(n([t]))}_announceTypingIndicators(e){1===e?this._a11yNotify("i18n_a11y_user_is_typing",{user:(0,a.get)(this,"args.conversation.typingParticipants.firstObject.name")}):this._a11yNotify("i18n_a11y_users_are_typing",{usercount:e})}onEmojiHoverableShow(e){if(null!=e&&e.currentTrigger){const n=e.currentTrigger.closest(".msg-s-message-list")
null==(t=n)||t.classList.add("msg-s-message-list--inactive")
const i=this.args.isOverlay?"flagship3_messaging_overlay_reaction_picker":"flagship3_messaging_reaction_picker"
this.tracking.firePageViewEvent(i)}var t}onEmojiHoverableHide(){d.default&&document.querySelectorAll(".msg-s-message-list--inactive").forEach((e=>{e.classList.remove("msg-s-message-list--inactive")}))}},M=(0,i.default)(w.prototype,"a11yNotification",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=(0,i.default)(w.prototype,"i18n",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=(0,i.default)(w.prototype,"lix",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,i.default)(w.prototype,"authenticatedUser",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,i.default)(w.prototype,"tracking",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=(0,i.default)(w.prototype,"msgDataManager",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,i.default)(w.prototype,"conversationSeenReceipts",[l.dependentKeyCompat],Object.getOwnPropertyDescriptor(w.prototype,"conversationSeenReceipts"),w.prototype),(0,i.default)(w.prototype,"onEmojiHoverableShow",[a.action],Object.getOwnPropertyDescriptor(w.prototype,"onEmojiHoverableShow"),w.prototype),(0,i.default)(w.prototype,"onEmojiHoverableHide",[a.action],Object.getOwnPropertyDescriptor(w.prototype,"onEmojiHoverableHide"),w.prototype),w)
e.default=P;(0,r.setComponentTemplate)(E,P)}))
define("msg-ui/components/message-request-banner-v2",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const s=(0,n.createTemplateFactory)({id:"NSkkO4hM",block:'[[[11,0],[24,0,"msg-message-request-banner-v2"],[17,1],[12],[1,"\\n  "],[10,1],[14,0,"t-14 t-bold t-black display-flex align-items-center"],[12],[1,"\\n    "],[1,[28,[35,0],["i18n_inbox_label","msg-ui/components/message-request-banner-v2"],null]],[1,"\\n  "],[13],[1,"\\n\\n"],[41,[30,2],[[[1,"    "],[8,[39,2],[[4,[38,3],[[30,3]],null],[4,[38,4],["click",[30,4]],null]],[["@size","@type"],[1,"tertiary"]],[["default"],[[[[1,"\\n      "],[8,[39,5],null,[["@tvm"],[[30,2,["heading"]]]],null],[1,"\\n    "]],[]]]]],[1,"\\n"]],[]],null],[13]],["&attrs","@messageRequestBundle","@trackingKey","@openMessageRequestConversationList"],false,["t","if","artdeco-button@artdeco-button","ember-cli-pemberly-tracking@track-interaction","on","text-view-model@text-view-model-v2"]]',moduleName:"msg-ui/components/message-request-banner-v2.hbs",isStrictMode:!1})
var r=(0,t.setComponentTemplate)(s,(0,i.default)())
e.default=r}))
define("msg-ui/components/message-request-list-header",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const s=(0,n.createTemplateFactory)({id:"AGV62Kzw",block:'[[[10,0],[14,0,"msg-message-request-list-header p3"],[12],[1,"\\n  "],[10,0],[14,0,"visually-hidden"],[14,"aria-live","polite"],[12],[1,"\\n    "],[1,[52,[30,1],[28,[37,1],["i18n_a11y_declined_mesage_requests","msg-ui/components/message-request-list-header"],null],[28,[37,1],["i18n_a11y_message_requests","msg-ui/components/message-request-list-header"],null]]],[1,"\\n  "],[13],[1,"\\n  "],[10,"h4"],[14,0,"t-14 t-bold"],[12],[1,"\\n    "],[1,[52,[30,1],[28,[37,1],["i18n_declined_mesage_requests","msg-ui/components/message-request-list-header"],null],[28,[37,1],["i18n_message_requests","msg-ui/components/message-request-list-header"],null]]],[1,"\\n  "],[13],[1,"\\n  "],[10,2],[14,0,"t-12 pt1"],[12],[1,"\\n    "],[1,[52,[30,1],[28,[37,1],["i18n_declined_message_request_description","msg-ui/components/message-request-list-header"],null],[28,[37,1],["i18n_message_request_description","msg-ui/components/message-request-list-header"],null]]],[1,"\\n  "],[13],[1,"\\n  "],[11,"button"],[24,0,"msg-message-request-list-header__back-button t-14 t-bold pt1"],[24,4,"button"],[4,[38,2],["click",[30,2]],null],[4,[38,3],[[30,3]],null],[12],[1,"\\n    "],[1,[52,[30,1],[28,[37,1],["i18n_back_to_message_request_inbox","msg-ui/components/message-request-list-header"],null],[28,[37,1],["i18n_go_to_inbox","msg-ui/components/message-request-list-header"],null]]],[1,"\\n  "],[13],[1,"\\n"],[13]],["@isDeclinedList","@goBack","@trackingKey"],false,["if","t","on","ember-cli-pemberly-tracking@track-interaction"]]',moduleName:"msg-ui/components/message-request-list-header.hbs",isStrictMode:!1})
var r=(0,t.setComponentTemplate)(s,(0,i.default)())
e.default=r}))
define("msg-ui/components/message-snippet",["exports","@ember/component","@ember/template-factory","@glimmer/component","@ember/object"],(function(e,t,n,i,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const r=(0,n.createTemplateFactory)({id:"iQZPh7C+",block:'[[[1,"\\n"],[11,1],[17,1],[12],[1,"\\n"],[41,[30,2,["eventContent","recalledAt"]],[[[1,"    "],[1,[28,[35,1],["i18n_message_deleted","msg-ui/components/message-snippet"],null]],[1,"\\n"]],[]],[[[41,[28,[37,2],[[30,2,["eventContent","messageBodyRenderFormat"]],"SYSTEM"],null],[[[1,"    "],[1,[28,[35,3],[[30,2,["eventContent","attributedBody"]]],null]],[1,"\\n"]],[]],[[[41,[28,[37,2],[[30,2,["subtype"]],"PARTICIPANT_CHANGE"],null],[[[41,[30,2,["eventContent","addedParticipants","length"]],[[[1,"      "],[10,1],[14,0,"msg-conversation-card__message-snippet-body"],[12],[1,"\\n        "],[1,[28,[35,4],null,[["type","size","class"],["connect-icon","small","msg-conversation-card__message-snippet-icon"]]]],[1,"\\n"],[41,[28,[37,2],[[30,2,["eventContent","addedParticipants","length"]],1],null],[[[41,[28,[37,2],[[30,2,["from","entityUrn"]],[30,2,["eventContent","addedParticipants","firstObject","entityUrn"]]],null],[[[1,"            "],[1,[52,[28,[37,5],[[30,2,["from"]]],null],[28,[37,1],["i18n_you_joined_conversation","msg-ui/components/message-snippet"],null],[28,[37,1],["i18n_other_user_joined_conversation","msg-ui/components/message-snippet"],[["usersName","joinedUserName"],[[30,2,["from","fullName"]],[28,[37,6],[[28,[37,7],[[30,2,["eventContent","addedParticipants"]]],null],"firstObject"],null]]]]]],[1,"\\n"]],[]],[[[1,"            "],[1,[52,[28,[37,5],[[30,2,["from"]]],null],[28,[37,1],["i18n_you_added_single_participant_to_conversation","msg-ui/components/message-snippet"],[["addedUserName"],[[28,[37,6],[[28,[37,7],[[30,2,["eventContent","addedParticipants"]]],null],"firstObject"],null]]]],[28,[37,1],["i18n_other_user_added_single_participant_to_conversation","msg-ui/components/message-snippet"],[["usersName","addedUserName"],[[30,2,["from","fullName"]],[28,[37,6],[[28,[37,7],[[30,2,["eventContent","addedParticipants"]]],null],"firstObject"],null]]]]]],[1,"\\n"]],[]]]],[]],[[[1,"          "],[1,[52,[28,[37,5],[[30,2,["from"]]],null],[28,[37,1],["i18n_you_added_multiple_participants_to_conversation","msg-ui/components/message-snippet"],[["addedUserNames"],[[28,[37,7],[[30,2,["eventContent","addedParticipants"]]],null]]]],[28,[37,1],["i18n_other_user_added_multiple_participants_to_conversation","msg-ui/components/message-snippet"],[["usersName","addedUserNames"],[[30,2,["from","fullName"]],[28,[37,7],[[30,2,["eventContent","addedParticipants"]]],null]]]]]],[1,"\\n"]],[]]],[1,"      "],[13],[1,"\\n"]],[]],[[[41,[28,[37,2],[[30,2,["from","id"]],[30,2,["eventContent","removedParticipants","firstObject","id"]]],null],[[[1,"      "],[10,1],[14,0,"msg-conversation-card__message-snippet-body"],[12],[1,"\\n        "],[1,[28,[35,4],null,[["type","size","class"],["leave-icon","small","msg-conversation-card__message-snippet-icon"]]]],[1,"\\n"],[41,[28,[37,2],[[30,2,["eventContent","removedParticipants","length"]],1],null],[[[1,"          "],[1,[52,[28,[37,5],[[30,2,["from"]]],null],[28,[37,1],["i18n_you_left_conversation","msg-ui/components/message-snippet"],null],[28,[37,1],["i18n_single_other_user_left_conversation","msg-ui/components/message-snippet"],[["removedUserName"],[[28,[37,6],[[28,[37,7],[[30,2,["eventContent","removedParticipants"]]],null],"firstObject"],null]]]]]],[1,"\\n"]],[]],[[[1,"          "],[1,[28,[35,1],["i18n_multiple_other_users_left_conversation","msg-ui/components/message-snippet"],[["removedUserNames"],[[28,[37,7],[[30,2,["eventContent","removedParticipants"]]],null]]]]],[1,"\\n"]],[]]],[1,"      "],[13],[1,"\\n"]],[]],[[[41,[28,[37,5],[[30,2,["eventContent","removedParticipants","firstObject"]]],null],[[[1,"      "],[10,1],[14,0,"msg-conversation-card__message-snippet-body"],[12],[1,"\\n        "],[1,[28,[35,4],null,[["type","size","class"],["leave-icon","small","msg-conversation-card__message-snippet-icon"]]]],[1,"\\n        "],[1,[28,[35,1],["i18n_you_were_removed","msg-ui/components/message-snippet"],[["removersName"],[[30,2,["from","name"]]]]]],[1,"\\n      "],[13],[1,"\\n"]],[]],[[[1,"      "],[10,1],[14,0,"msg-conversation-card__message-snippet-body"],[12],[1,"\\n        "],[1,[28,[35,4],null,[["type","size","class"],["leave-icon","small","msg-conversation-card__message-snippet-icon"]]]],[1,"\\n"],[41,[28,[37,2],[[30,2,["eventContent","removedParticipants","length"]],1],null],[[[1,"          "],[1,[52,[28,[37,5],[[30,2,["from"]]],null],[28,[37,1],["i18n_you_removed_single_participant_from_conversation","msg-ui/components/message-snippet"],[["removedUserName"],[[28,[37,6],[[28,[37,7],[[30,2,["eventContent","removedParticipants"]]],null],"firstObject"],null]]]],[28,[37,1],["i18n_other_user_removedd_single_participant_from_conversation","msg-ui/components/message-snippet"],[["removersName","removedUserName"],[[30,2,["from","name"]],[28,[37,6],[[28,[37,7],[[30,2,["eventContent","removedParticipants"]]],null],"firstObject"],null]]]]]],[1,"\\n"]],[]],[[[1,"          "],[1,[52,[28,[37,5],[[30,2,["from"]]],null],[28,[37,1],["i18n_you_removed_multiple_participants_from_conversation","msg-ui/components/message-snippet"],[["removedUserNames"],[[28,[37,7],[[30,2,["eventContent","removedParticipants"]]],null]]]],[28,[37,1],["i18n_other_user_removed_multiple_participants_from_conversation","msg-ui/components/message-snippet"],[["removersName","removedUserNames"],[[30,2,["from","fullName"]],[28,[37,7],[[30,2,["eventContent","removedParticipants"]]],null]]]]]],[1,"\\n"]],[]]],[1,"      "],[13],[1,"\\n    "]],[]]]],[]]]],[]]]],[]],[[[41,[30,0,["shouldObfuscateMessage"]],[[[1,"    "],[1,[30,2,["obfuscatedMessageWarning","text"]]],[1,"\\n"]],[]],[[[41,[28,[37,2],[[30,3,["latestEvent","subtype"]],"SPONSORED_INMAIL"],null],[[[1,"    "],[10,1],[14,0,"msg-conversation-card__pill t-14 t-black t-bold pr1"],[12],[1,"\\n      "],[1,[52,[30,2,["eventContent","customContent","advertiserLabel"]],[28,[37,1],["i18n_spinmail_advertiser_label","msg-ui/components/message-snippet"],[["label"],[[30,2,["eventContent","customContent","advertiserLabel"]]]]],[28,[37,1],["i18n_spinmail_label","msg-ui/components/message-snippet"],null]]],[1,"\\n    "],[13],[1,"\\n    "],[1,[30,2,["eventContent","subject"]]],[1,"\\n"]],[]],[[[41,[28,[37,2],[[30,2,["subtype"]],"INMAIL"],null],[[[1,"    "],[10,1],[14,0,"msg-conversation-card__pill t-14 t-black t-bold pr1"],[12],[1,[28,[35,1],["i18n_inmail_label","msg-ui/components/message-snippet"],null]],[13],[1,[52,[30,2,["eventContent","subject"]],[30,2,["eventContent","subject"]],[30,2,["eventContent","attributedBody","text"]]]],[1,"\\n"]],[]],[[[41,[30,2,["eventContent","customContent","forwardedContentType"]],[[[41,[28,[37,5],[[30,2,["from"]]],null],[[[1,"      "],[1,[28,[35,1],["i18n_you_forwarded","msg-ui/components/message-snippet"],null]],[1,"\\n"]],[]],[[[1,"      "],[1,[28,[35,1],["i18n_other_user_forwarded","msg-ui/components/message-snippet"],[["usersName"],[[28,[37,8],[[30,2,["from","miniProfile"]]],null]]]]],[1,"\\n"]],[]]]],[]],[[[1,"    "],[10,1],[14,0,"msg-conversation-card__message-snippet-body"],[12],[1,"\\n"],[41,[28,[37,9],[[30,3]],null],[[[1,"        "],[10,1],[14,0,"msg-conversation-card__pill t-14 t-black t-bold pr1"],[12],[1,"\\n          "],[1,[52,[30,3,["sponsoredConversationMetadata","advertiserLabel"]],[28,[37,1],["i18n_spinmail_advertiser_label","msg-ui/components/message-snippet"],[["label"],[[30,3,["sponsoredConversationMetadata","advertiserLabel"]]]]],[28,[37,1],["i18n_spinmail_label","msg-ui/components/message-snippet"],null]]],[1,"\\n        "],[13],[1,"\\n        "],[10,1],[14,0,"msg-conversation-card__pill t-14 t-black pr1"],[12],[1,"\\n          "],[1,[30,2,["eventContent","attributedBody","text"]]],[1,"\\n        "],[13],[1,"\\n"]],[]],[[[41,[30,2,["eventContent","attachments","length"]],[[[1,"          "],[1,[28,[35,4],null,[["type","size","class"],["paperclip-icon","small","msg-conversation-card__message-snippet-icon msg-conversation-card__message-snippet-icon--attachment"]]]],[1,"\\n          "],[1,[52,[28,[37,5],[[30,2,["from"]]],null],[28,[37,1],["i18n_you_sent_x_attachments","msg-ui/components/message-snippet"],[["count"],[[30,2,["eventContent","attachments","length"]]]]],[28,[37,1],["i18n_sender_sent_x_attachments_v2","msg-ui/components/message-snippet"],[["senderName","count"],[[28,[37,10],[[30,2,["from"]],"familiarName"],null],[30,2,["eventContent","attachments","length"]]]]]]],[1,"\\n"]],[]],[[[41,[30,2,["eventContent","customContent","media"]],[[[1,"          "],[1,[52,[28,[37,5],[[30,2,["from"]]],null],[28,[37,1],["i18n_you_sent_gif","msg-ui/components/message-snippet"],null],[28,[37,1],["i18n_sender_sent_gif","msg-ui/components/message-snippet"],[["senderName"],[[28,[37,8],[[30,2,["from","miniProfile"]]],null]]]]]],[1,"\\n"]],[]],[[[41,[30,2,["eventContent","mediaAttachments"]],[[[41,[28,[37,2],[[30,2,["eventContent","mediaAttachments","firstObject","mediaType"]],"AUDIO"],null],[[[1,"            "],[1,[52,[28,[37,5],[[30,2,["from"]]],null],[28,[37,1],["i18n_you_sent_voice_message","msg-ui/components/message-snippet"],null],[28,[37,1],["i18n_sender_sent_voice_message","msg-ui/components/message-snippet"],[["senderName"],[[28,[37,8],[[30,2,["from","miniProfile"]]],null]]]]]],[1,"\\n"]],[]],[[[41,[28,[37,2],[[30,2,["eventContent","mediaAttachments","firstObject","mediaType"]],"VIDEO"],null],[[[1,"            "],[1,[52,[28,[37,5],[[30,2,["from"]]],null],[28,[37,1],["i18n_you_sent_video","msg-ui/components/message-snippet"],null],[28,[37,1],["i18n_sender_sent_video","msg-ui/components/message-snippet"],[["senderName"],[[28,[37,8],[[30,2,["from","miniProfile"]]],null]]]]]],[1,"\\n"]],[]],[[[1,"            "],[1,[52,[28,[37,5],[[30,2,["from"]]],null],[28,[37,1],["i18n_you_sent_x_attachments","msg-ui/components/message-snippet"],[["count"],[[30,2,["eventContent","mediaAttachments","length"]]]]],[28,[37,1],["i18n_sender_sent_x_attachments_v2","msg-ui/components/message-snippet"],[["senderName","count"],[[28,[37,10],[[30,2,["from"]],"familiarName"],null],[30,2,["eventContent","mediaAttachments","length"]]]]]]],[1,"\\n          "]],[]]]],[]]]],[]],[[[41,[30,0,["hasLocationSharePreview"]],[[[1,"          "],[1,[28,[35,4],null,[["type","size","class"],["map-marker-icon","small","msg-conversation-card__message-snippet-icon msg-conversation-card__message-snippet-icon--location"]]]],[1,"\\n          "],[1,[52,[28,[37,5],[[30,2,["from"]]],null],[28,[37,1],["i18n_you_sent_location","msg-ui/components/message-snippet"],null],[28,[37,1],["i18n_sender_sent_location","msg-ui/components/message-snippet"],[["senderName"],[[28,[37,8],[[30,2,["from","miniProfile"]]],null]]]]]],[1,"\\n"]],[]],[[[41,[30,0,["showStorySentSnippet"]],[[[41,[28,[37,5],[[30,2,["from"]]],null],[[[1,"            "],[1,[28,[35,1],["i18n_you_sent_story","msg-ui/components/message-snippet"],null]],[1,"\\n"]],[]],[[[1,"            "],[1,[28,[35,1],["i18n_sent_you_story","msg-ui/components/message-snippet"],[["senderName"],[[28,[37,8],[[30,2,["from","miniProfile"]]],null]]]]],[1,"\\n"]],[]]]],[]],[[[41,[30,2,["eventContent","attributedBody","text"]],[[[1,"            "],[1,[52,[28,[37,5],[[30,2,["from"]]],null],[28,[37,1],["i18n_you_said_message","msg-ui/components/message-snippet"],[["body"],[[30,2,["eventContent","attributedBody","text"]]]]],[28,[37,1],["i18n_sender_said_message_v2","msg-ui/components/message-snippet"],[["senderName","body"],[[30,2,["from","familiarName"]],[30,2,["eventContent","attributedBody","text"]]]]]]],[1,"\\n"]],[]],[[[41,[30,2,["eventContent","sticker"]],[[[1,"              "],[1,[52,[28,[37,5],[[30,2,["from"]]],null],[28,[37,1],["i18n_you_sent_sticker","msg-ui/components/message-snippet"],null],[28,[37,1],["i18n_sender_sent_sticker_v2","msg-ui/components/message-snippet"],[["senderName"],[[30,2,["from","familiarName"]]]]]]],[1,"\\n"]],[]],[[[41,[28,[37,11],[[30,2,["eventContent","feedUpdate"]]],null],[[[1,"                "],[1,[52,[28,[37,5],[[30,2,["from"]]],null],[28,[37,1],["i18n_you_sent_share_content_v3","msg-ui/components/message-snippet"],[["shareContentType"],[[28,[37,11],[[30,2,["eventContent","feedUpdate"]]],null]]]],[28,[37,1],["i18n_sender_share_content_v3","msg-ui/components/message-snippet"],[["senderName","shareContentType"],[[30,2,["from","familiarName"]],[28,[37,11],[[30,2,["eventContent","feedUpdate"]]],null]]]]]],[1,"\\n"]],[]],[[[41,[30,2,["eventContent","digitalMediaConferenceUrn"]],[[[1,"                  "],[1,[52,[28,[37,5],[[30,2,["from"]]],null],[28,[37,1],["i18n_you_sent_virtual_meeting","msg-ui/components/message-snippet"],null],[28,[37,1],["i18n_sent_you_a_virtual_meeting","msg-ui/components/message-snippet"],[["senderName"],[[28,[37,8],[[30,2,["from","miniProfile"]]],null]]]]]],[1,"\\n"]],[]],null]],[]]]],[]]]],[]]],[1,"        "]],[]]]],[]]]],[]]]],[]]]],[]]]],[]]],[1,"    "],[13],[1,"\\n  "]],[]]]],[]]]],[]]]],[]]]],[]]]],[]]]],[]]],[13]],["&attrs","@latestEvent","@conversation"],false,["if","t","global-helpers@eq","text-view-model@text-view-model","artdeco-icons-web@li-icon","msg-shared@is-current-user","get","msg-ui@extract-participant-names","global-helpers@name","msg-shared@is-sponsored-conversation","msg-shared@get-member-or-company-name","msg-shared@get-share-content-type"]]',moduleName:"msg-ui/components/message-snippet.hbs",isStrictMode:!1})
class o extends i.default{get hasLocationSharePreview(){var e
return(null!==(e=(0,s.get)(this.args,"latestEvent.eventContent.attributedBody.text"))&&void 0!==e?e:"").startsWith("https://www.bing.com/maps?cp=")}get shouldObfuscateMessage(){return(0,s.get)(this.args,"latestEvent.obfuscatedMessageWarning")&&!(0,s.get)(this.args,"latestEvent.conversation.blocked")}get showStorySentSnippet(){return(0,s.get)(this.args,"latestEvent.eventContent.storyItemUrn")&&!(0,s.get)(this.args,"latestEvent.eventContent.replyToContent")}}e.default=o;(0,t.setComponentTemplate)(r,o)}))
define("msg-ui/components/msg-edit-form/msg-edit-form",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@ember/object","@ember/service"],(function(e,t,n,i,s,r,o,a,l,c){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var m,d,u,p,g,h,f
const b=(0,o.createTemplateFactory)({id:"n+13KrD5",block:'[[[10,0],[14,0,"msg-edit-form"],[12],[1,"\\n  "],[8,[39,0],[[24,0,"msg-edit-form__base-form"]],[["@conversation","@prefilledMessage","@isMessageEditForm","@validateForm","@submitMessage"],[[30,1],[30,2],true,[30,0,["validateFormForEdits"]],[30,0,["onSaveEditedMessage"]]]],[["default"],[[[[1,"\\n"],[41,[30,5,["isOverCharLimit"]],[[[1,"      "],[8,[39,2],null,[["@isEditForm"],[true]],null],[1,"\\n"]],[]],null],[1,"    "],[10,0],[14,0,"t-14 t-black pl3 pv2"],[12],[1,"\\n      "],[1,[28,[35,3],["i18n_edit_message","msg-ui/components/msg-edit-form/msg-edit-form"],null]],[1,"\\n    "],[13],[1,"\\n"],[41,[30,5,["showMentionsPicker"]],[[[1,"      "],[8,[39,4],null,[["@bundle"],["msg-mentions"]],[["default"],[[[[1,"\\n"],[41,[30,6,["state","fulfilled"]],[[[1,"          "],[8,[30,3,["mentionsPicker"]],null,null,null],[1,"\\n"]],[]],null],[1,"      "]],[6]]]]],[1,"\\n"]],[]],null],[1,"    "],[10,0],[14,0,"msg-edit-form__content-container ph3"],[12],[1,"\\n      "],[8,[30,3,["messageContentContainer"]],[[24,0,"msg-form__message-texteditor msg-edit-form__message-texteditor relative flex-grow-1 display-flex"]],[["@expandButtonSize"],[1]],null],[1,"\\n    "],[13],[1,"\\n    "],[10,"footer"],[14,0,"msg-edit-form__footer flex-shrink-zero"],[12],[1,"\\n      "],[10,0],[14,0,"msg-form__left-actions display-flex"],[12],[1,"\\n        "],[8,[39,4],null,[["@bundle"],["emoji-picker"]],[["default"],[[[[1,"\\n"],[41,[30,7,["state","fulfilled"]],[[[1,"            "],[8,[39,5],null,[["@doNotFocusTrigger","@handleEmojiSelect","@hoverableIdPrefix","@onHoverableHide","@size","@trackingClosePickerString","@trackingOpenPickerString","@trackingSelectEmojiString","@trackingSelectSearchedEmojiString","@triggerClasses"],[true,[30,4,["updateTextarea"]],"msg_pillar_emoji",[30,4,["focusTextarea"]],2,"msg.close_emoji_picker","msg.open_emoji_picker","msg.select_emoji","msg.select_searched_emoji","msg-form__footer-action"]],null],[1,"\\n"]],[]],null],[1,"        "]],[7]]]]],[1,"\\n      "],[13],[1,"\\n      "],[10,0],[14,0,"msg-form__right-actions display-flex align-items-center"],[12],[1,"\\n        "],[8,[39,6],null,[["@class","@controlType","@size","@type","@text","@click"],["msg-edit-form__dismiss-button","button",1,"secondary",[28,[37,3],["i18n_cancel_button","msg-ui/components/msg-edit-form/msg-edit-form"],null],[30,0,["onDismissForm"]]]],null],[1,"\\n        "],[8,[39,6],[[4,[38,7],[[30,8]],null]],[["@class","@controlType","@size","@text","@disabled"],["msg-edit-form__save-button ml1","submit",1,[28,[37,3],["i18n_save_button","msg-ui/components/msg-edit-form/msg-edit-form"],null],[52,[30,5,["enableSend"]],false,true]]],null],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n  "]],[3,4,5]]]]],[1,"\\n"],[13]],["@conversation","@prefilledMessage","components","actions","props","assetLoader","assetLoader","@saveEditControlName"],false,["msg-ui@msg-form/base-form","if","msg-ui@msg-form/primitives/character-limit-banner","t","asset-loader@deferred-asset-loader","emoji-picker@emoji-hoverable","artdeco-button@artdeco-button","ember-cli-pemberly-tracking@track-interaction"]]',moduleName:"msg-ui/components/msg-edit-form/msg-edit-form.hbs",isStrictMode:!1})
let y=(m=(0,c.inject)("msg-data@data-manager"),d=(0,c.inject)("persistent-toast-manager@persistent-toast-manager"),u=(0,c.inject)("i18n"),p=class extends a.default{constructor(){super(...arguments);(0,t.default)(this,"msgDataManager",g,this);(0,t.default)(this,"persistentToastManager",h,this);(0,t.default)(this,"i18n",f,this)}willDestroy(){super.willDestroy(...arguments);(0,l.set)(this.args.event.conversation,"_draftMessage",void 0)}_showEditErrorToast(e){const t=e||"i18n_edit_generic_error",n=this.i18n.lookupTranslation("components/msg-ui@msg-edit-form/msg-edit-form",t)()
this.persistentToastManager.error({message:n})}onSaveEditedMessage(e){const t=this.args.event.get("createdAt")
if(n=t,Date.now()-n>36e5)this._showEditErrorToast("i18n_edit_timebox_expired_error")
else{this.actions.onDismissForm.call(this)
const t=this.args.event.conversation.id,n=(0,l.get)(this.args.event,"entityUrn")
t&&n&&e&&e.text||this._showEditErrorToast()
this.msgDataManager.editMessage(t,n,e).catch((e=>{this._showEditErrorToast()
throw e}))}var n}validateFormForEdits(e){return this.args.prefilledMessage!==e}onDismissForm(){(0,l.set)(this.args.event.conversation,"_draftMessage",void 0)
this.args.onDismissEditForm()}},g=(0,i.default)(p.prototype,"msgDataManager",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=(0,i.default)(p.prototype,"persistentToastManager",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=(0,i.default)(p.prototype,"i18n",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,i.default)(p.prototype,"onSaveEditedMessage",[l.action],Object.getOwnPropertyDescriptor(p.prototype,"onSaveEditedMessage"),p.prototype),(0,i.default)(p.prototype,"validateFormForEdits",[l.action],Object.getOwnPropertyDescriptor(p.prototype,"validateFormForEdits"),p.prototype),(0,i.default)(p.prototype,"onDismissForm",[l.action],Object.getOwnPropertyDescriptor(p.prototype,"onDismissForm"),p.prototype),p)
e.default=y;(0,r.setComponentTemplate)(b,y)}))
define("msg-ui/components/msg-form/base-form",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@ember/service","ember","@ember/utils","@ember/object","@ember/object/internals","@glimmer/component","@glimmer/tracking","@ember-decorators/object","global-utils/utils/api-compat","msg-shared/utils/constants","msg-ui/utils/send-typing-indicator","msg-ui/utils/attributed-text-manager","global-utils/utils/is-browser","msg-shared/utils/attachments-handler","rsvp","global-helpers/helpers/name","msg-ui/utils/conversation-properties","msg-shared/utils/decorate-attributed-body","ember-m3-pdsc-model-builder","global-helpers/helpers/load","ember-lifeline","msg-shared/helpers/is-inmail-conversation","@ember/runloop"],(function(e,t,n,i,s,r,o,a,l,c,m,d,u,p,g,h,f,b,y,v,_,w,M,k,C,T,S,x,E,P){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var D,I,O,A,j,R,N,F,z,L,U,B,H,q,V,W,G,K,$,Q,Y,J,Z,X,ee,te,ne,ie,se,re,oe,ae,le,ce,me,de,ue,pe,ge,he,fe
const be=(0,o.createTemplateFactory)({id:"TwuNJ9n9",block:'[[[11,"form"],[16,1,[29,[[30,0,["formId"]]]]],[16,0,[29,[[52,[30,1],"msg-form--is-fully-expanded"]," msg-form"]]],[17,2],[4,[38,1],["click",[30,0,["onClick"]]],null],[4,[38,1],["submit",[30,0,["onSubmit"]]],null],[4,[38,1],["change",[30,0,["onChange"]]],null],[4,[38,1],["focusout",[30,0,["onFocusOut"]]],null],[4,[38,2],[[30,0,["baseFormAfterInsert"]]],null],[4,[38,3],[[30,0,["checkForReset"]],[30,3],[30,4],[30,5],[30,6],[30,7],[30,8],[30,9],[30,10],[30,11],[30,12],[30,13],[30,14],[30,15],[30,16],[30,17],[30,18],[30,19],[30,20]],null],[12],[1,"\\n"],[41,[48,[30,22]],[[[1,"    "],[18,22,[[28,[37,6],null,[["uploadAttachmentPreviews","uploadAttachment","attachmentDragAndDrop","attachmentDragAndDropErrorDisplay","messageContentContainer","mentionsPicker","sendControls","sendModeToggle","inmailCreditsDisplay"],[[50,"msg-ui@rich-media/upload-attachment-previews",0,null,[["attachments","removeAttachment"],[[30,0,["attachments"]],[30,0,["removeAttachment"]]]]],[50,"msg-ui@msg-form/primitives/upload-attachment",0,null,[["addAttachment","beforeUpload","afterUpload","triggerDragAndDropLayer"],[[30,0,["addAttachment"]],[30,0,["onBeforeUpload"]],[30,0,["onValidateForm"]],[30,0,["triggerDragAndDropLayer"]]]]],[50,"msg-ui@rich-media/attachment-drag-and-drop",0,null,[["showUserEducationLayer","addAttachment","beforeUpload","afterUpload","onError"],[[30,0,["showDragAndDropUserEducationLayer"]],[30,0,["addAttachment"]],[30,0,["onBeforeUpload"]],[30,0,["afterDragAndDropUpload"]],[30,0,["handleAttachmentDropError"]]]]],[50,"msg-ui@rich-media/attachment-drag-and-drop-error-display",0,null,[["errorType","dismissError"],[[30,0,["attachmentDropErrorType"]],[30,0,["dismissAttachmentDropError"]]]]],[50,"msg-ui@msg-form/primitives/msg-content-container",0,null,[["overridePlaceholder","showPlaceholder","handleKeyDown","messageSendInProgress"],[[30,0,["_overridePlaceholder"]],[30,0,["showPlaceholder"]],[30,0,["onTextEditorKeyDown"]],[30,0,["messageSendInProgress"]]]]],[50,"msg-mentions@mentions-picker",0,null,[["connectionMentions","conversationMentions","mentionsTopPosition","mentionAll","showMentionAllOption","isTabbingThroughMentions","onKeyDown","selectMentionWithKeyDown","selectMention","closeMentions"],[[30,0,["connectionMentions"]],[30,0,["conversationMentions"]],[30,0,["mentionsTopPosition"]],[30,0,["mentionAll"]],[30,0,["showMentionAllOption"]],[30,0,["isTabbingThroughMentions"]],[30,0,["onMentionsPickerKeyDown"]],[30,0,["selectMentionWithKeyDown"]],[30,0,["selectMention"]],[30,0,["closeMentions"]]]]],[50,"msg-ui@msg-form/primitives/send-controls",0,null,[["enableSend"],[[30,0,["enableSend"]]]]],[50,"msg-ui@msg-form/primitives/send-mode-toggle",0,null,null],[50,"msg-conversation-ui@inmail-credits-display",0,null,null]]]],[28,[37,8],null,[["beforeUpload","validateForm","focusTextarea","addAttachment","updateTextarea","updateTextareaWithEmoji","focusComposeAfterEmojiPickerClose","handleGIFSend","toggleExpandComposeField","onSubmit"],[[30,0,["onBeforeUpload"]],[30,0,["onValidateForm"]],[30,0,["focusTextarea"]],[30,0,["addAttachment"]],[30,0,["updateTextarea"]],[30,0,["updateTextareaWithEmoji"]],[30,0,["focusComposeAfterEmojiPickerClose"]],[30,0,["handleGIFSend"]],[30,21],[30,0,["onSubmit"]]]]],[28,[37,8],null,[["attributedTextModel","showMentionsPicker","showMiniAttachmentPreviews","attachments","overridePlaceholder","showPlaceholder","isValidForm","isOverCharLimit","pressEnterToSend","isNotInmail","supportedFileAttachmentTypes","supportedImageAttachmentTypes","attachmentDropErrorType","enableSend","subjectDisplay"],[[30,0,["attributedTextModel"]],[30,0,["showMentionsPicker"]],[30,0,["showMiniAttachmentPreviews"]],[30,0,["attachments"]],[30,0,["_overridePlaceholder"]],[30,0,["showPlaceholder"]],[30,0,["isValidForm"]],[30,0,["isOverCharLimit"]],[30,11,["pressEnterToSend"]],[30,0,["isNotInmail"]],[30,0,["supportedFileAttachmentTypes"]],[30,0,["supportedImageAttachmentTypes"]],[30,0,["attachmentDropErrorType"]],[30,0,["enableSend"]],[30,0,["subjectDisplay"]]]]]]],[1,"\\n"]],[]],null],[13]],["@composeIsFullyExpanded","&attrs","@id","@bubbleId","@messageContext","@contextByRecipients","@conversation","@hasResharedContent","@externallyValid","@forwardedEvent","@messagingSettings","@msgAdapterOptions","@overridePlaceholder","@prefilledAttachments","@prefilledMessage","@subject","@update","@smpContent","@updateFormState","@validateForm","@toggleExpandComposeField","&default"],false,["if","on","did-insert","did-update","has-block","yield","global-helpers@lazy-hash","component","hash"]]',moduleName:"msg-ui/components/msg-form/base-form.hbs",isStrictMode:!1}),{CONTROL_NAMES:{MENTIONS:{OPEN_DROPDOWN:ye,SELECT_MENTION:ve}},KEYCODES:{TAB:_e,ENTER:we,ESC:Me,SPACEBAR:ke,UP_ARROW:Ce,DOWN_ARROW:Te,Z:Se},MESSAGE_TYPE:xe,MESSAGING_REALTIME:{STILL_TYPING_TIMEOUT:Ee}}=f.default,Pe=/(?:^|\s)([@](?:\S+\s)?(?:\S+\s)?\S*$)/
let De=(D=(0,a.inject)("global-services@a11y-notification"),I=(0,a.inject)("i18n"),O=(0,a.inject)("jet"),A=(0,a.inject)("lego@resolver"),j=(0,a.inject)("lego@tracking"),R=(0,a.inject)("lix"),N=(0,a.inject)("msg-data@data-manager"),F=(0,a.inject)("store"),z=(0,a.inject)("tracking"),L=(0,a.inject)("formatter"),U=(0,a.inject)("vector@vector-upload"),B=(0,a.inject)("msg-ui@update-message-compose"),H=(0,g.on)("updateMessageCompose"),q=(0,g.on)("focusMessageCompose"),V=class extends u.default{get showPlaceholder(){return!(0,m.get)(this,"attributedTextModel.text")}get showMiniAttachmentPreviews(){const{composeIsFullyExpanded:e,isInMailCompose:t}=this.args
return e&&!t}get formElement(){return v.default?document.getElementById(this.formId):null}get subjectDisplay(){var e
return(null===(e=this.args.subject)||void 0===e?void 0:e.string)||this.args.subject||""}set subjectDisplay(e){this.subjectDisplay=e
return e}get isNotInmail(){const{isInMailCompose:e,conversation:t}=this.args
return!(e||(0,E.isInmailConversation)(t))}get hasNewConversationMessageInFlight(){var e
return(null===(e=this.messageSendRequest)||void 0===e?void 0:e.isLoading)&&!this.args.conversation}get enableSend(){return this.isValidForm&&!this.hasNewConversationMessageInFlight}get projectShineAnimationsEnabled(){return this.lix.getTreatmentIsEnabled("voyager.web.messaging-compose-animations")&&this.lix.getTreatmentIsEnabled("voyager.web.enable-shine-week-changes")}constructor(){var e
super(...arguments);(0,n.default)(this,"pageKey","flagship3_messaging_msg_form");(0,n.default)(this,"rumComponentId","messaging/base-form");(0,t.default)(this,"a11yNotification",W,this);(0,t.default)(this,"i18n",G,this);(0,t.default)(this,"jet",K,this);(0,t.default)(this,"legoResolver",$,this);(0,t.default)(this,"legoTracking",Q,this);(0,t.default)(this,"lix",Y,this);(0,t.default)(this,"msgDataManager",J,this);(0,t.default)(this,"store",Z,this);(0,t.default)(this,"tracking",X,this);(0,t.default)(this,"formatter",ee,this);(0,t.default)(this,"vectorUpload",te,this);(0,t.default)(this,"updateMessageComposeService",ne,this);(0,t.default)(this,"attributedTextModel",ie,this);(0,t.default)(this,"showMentionsPicker",se,this);(0,t.default)(this,"mentionsTopPosition",re,this);(0,t.default)(this,"messageSendRequest",oe,this);(0,t.default)(this,"isTabbingThroughMentions",ae,this);(0,t.default)(this,"isValidForm",le,this);(0,t.default)(this,"isOverCharLimit",ce,this);(0,t.default)(this,"conversationMentions",me,this);(0,t.default)(this,"connectionMentions",de,this);(0,t.default)(this,"showMentionsPicker",ue,this);(0,t.default)(this,"showDragAndDropUserEducationLayer",pe,this);(0,t.default)(this,"attachmentDropErrorType",ge,this);(0,t.default)(this,"attachments",he,this);(0,t.default)(this,"messageSendInProgress",fe,this);(0,n.default)(this,"inMailResponseAction",null);(0,n.default)(this,"lastSeenTyping",0);(0,n.default)(this,"supportedFileAttachmentTypes","image/*,.ai,.psd,.pdf,.doc,.docx,.csv,.zip,.rar,.ppt,.pptx,.pps,.ppsx,.odt,.rtf,.xls,.xlsx,.txt,.pub,.html,.7z,.eml");(0,n.default)(this,"supportedImageAttachmentTypes","image/*")
const{id:i,isOverlay:s,beforeUpload:r,conversation:o,overridePlaceholder:a,prefilledAttachments:l}=this.args
this._overridePlaceholder=a
this.attachments=l||[]
this.attachmentsHandler=new _.default({beforeUpload:r,vectorUpload:this.vectorUpload,afterUpload:this._validateForm.bind(this),tracking:this.tracking,jet:this.jet,updateUI:this._addAttachment.bind(this)})
this.formId=i||`base-form-${(0,d.guidFor)(this)}`
this.oldConvo=o
this.AttributedTextManager=new y.default
const c=(null===(e=this.args.prefilledMessage)||void 0===e?void 0:e.string)||this.args.prefilledMessage||(0,m.get)(this.args,"conversation._draftMessage")
if(c)if(this.args.isMessageEditForm&&"object"==typeof c&&(0,m.get)(c,"text")){const e=(0,C.default)(c,(0,m.get)(c,"text"),{url:!0,email:!0,hashtag:!0,goLink:this.lix.getTreatmentIsEnabled("voyager.client.staff")})
let t=0
e.forEach((e=>{if(e.mention){const n=this._getMentionsEntityByAttributeChunk(e)
n&&this.AttributedTextManager.insertAttribute({entity:n,typeaheadHit:n,entityUrn:e.entityUrn,match:{start:t,length:e.value.length,text:e.value},tokenSelection:{start:t,end:t+e.value.length},type:(0,T.buildModel)("com.linkedin.pemberly.text.Entity",{urn:e.entityUrn,type:"Entity"})})}else this.AttributedTextManager.insertText(e.value,{start:t,end:t})
t+=e.value.length}))}else this.AttributedTextManager.insertText(c,{start:0,end:0})
this._validateForm()
s&&(this.bubbleId=this.args.bubbleId)
this.updateMessageComposeService.setBaseFormSubscriber(this,s)}_toggleExpandComposeField(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]
"function"==typeof this.args.toggleExpandComposeField&&this.args.toggleExpandComposeField(e)}onClick(e){const t=this._getMessageTextEditor()
t.contains(e.target)&&this.AttributedTextManager.correctClickPosition(t)}onChange(){this._validateForm()}onSubmit(e){return this._onSubmit(e)}checkForReset(){const e=this.oldConvo&&(0,m.get)(this.oldConvo,"id"),t=(0,m.get)(this.args,"conversation.id")
if(e&&e!==t){const e=this.AttributedTextManager.getModel().text
e&&(0,m.set)(this.oldConvo,"_draftMessage",e)
this._resetForm()
this.oldConvo=this.args.conversation}this._validateForm()}willDestroy(){super.willDestroy(...arguments);(0,x.runDisposables)(this)
this.updateMessageComposeService.removeBaseFormSubscriber(this,this.args.isOverlay);(0,x.runDisposables)(this)}updateMessageComposeFromService(e){this._updateTextarea(e)}focusMessageComposeFromService(){this._focusTextarea()}shouldSubmitMessage(e){const{keyCode:t,metaKey:n,ctrlKey:i,shiftKey:s,altKey:r}=e
if(t===we){if((0,m.get)(this.args,"messagingSettings.pressEnterToSend")&&!this.args.isInMailCompose)return!(s||r||n||i)
if(n||i)return!0}return!1}_addAttachment(e){this.attachments.pushObject(e)}_updateTextarea(e){const t=(0,c.isPresent)(this._lastCursorPosition)?this._lastCursorPosition:this.AttributedTextManager.getCaretPosition(this._getMessageTextEditor(),v.default)
this.AttributedTextManager.insertText(e,t)
this.updateAttributedTextModel()
this._focusTextarea()
this._validateForm()}_onSubmit(e){var t,n
e.preventDefault()
null===(t=(n=this.args).onBeforeFormSubmit)||void 0===t||t.call(n,this)
const i=this._constructAttributedBody()
let s
if(this.args.isMessageEditForm)s=this.args.submitMessage(i)
else{var r
if(!this._validateForm())return w.Promise.reject()
const e={message:(0,m.get)(i,"text"),conversation:this.args.conversation,contextByRecipients:this.args.contextByRecipients,attributedBody:i,attachments:(null!==(r=this.attachments)&&void 0!==r?r:[]).rejectBy("isError"),messageReplyType:this.args.conversation?(0,k.getReplyMessageType)(this.args.conversation):xe.M2M,adapterOptions:this.args.msgAdapterOptions}
if(this.args.messageContext){e.contextEntityUrn=this.args.messageContext.contextEntityUrn
e.contextText=this.args.messageContext.contextText}"INMAIL"===(0,m.get)(this.args,"conversation.latestEvent.subtype")&&(0,m.get)(this.args,"conversation.withNonConnection")&&this._setupInmailResponseActionPayload(e)
this.args.isInMailCompose&&(e.subject=this.subjectDisplay)
this.args.smpContent&&(e.smpContent=this.args.smpContent)
this.args.update&&(e.update={id:(0,m.get)(this.args,"update.id"),type:(0,h.classNameOf)(this.args.update)})
this.projectShineAnimationsEnabled&&(this.messageSendInProgress=!0)
const t=!!this.args.conversation
t&&(this.projectShineAnimationsEnabled?this.delayedReset=(0,P.later)((()=>{this._resetForm(!0)
this.messageSendInProgress=!1}),400):this._resetForm(!0))
s=this.args.submitMessage(e).then((()=>{if(!t&&!this.isDestroying){this.projectShineAnimationsEnabled&&(this.messageSendInProgress=!1)
this._resetForm(!0)}}))}this.messageSendRequest=(0,S.load)(s)
return this.messageSendRequest}baseFormAfterInsert(){const e=this._getMessageTextEditor();(0,x.addEventListener)(this,this.formElement,"paste",(t=>{e&&e.contains(t.target)&&this._handlePasteEvent(t)}));(0,x.addEventListener)(this,this.formElement,"input",(t=>{e&&e.contains(t.target)&&this._onTextEditorChange(t)}))
const t=""!==this.AttributedTextManager.getModel().text.trim()
this.updateAttributedTextModel(t)
this._validateForm()}onFocusOut(e){if(e.target.classList.contains("msg-form__contenteditable")){const e=this.AttributedTextManager.getCaretPosition(this._getMessageTextEditor(),v.default)
this._lastCursorPosition=e
this.AttributedTextManager.updateModelCursorPosition(e.start)}}_constructAttributedBody(){var e
this.AttributedTextManager.removeMentionInProgress()
const t=this.AttributedTextManager.getModel()
let{attributes:n}=t
n=t.attributes.map((e=>{delete e.entity
return e}))
return{text:(null!==(e=(0,m.get)(t,"text"))&&void 0!==e?e:"").trim(),attributes:n}}getMentionedMembers(){return this.AttributedTextManager.getModel().attributes.filter((e=>{var t
return(null===(t=this.mentionAll)||void 0===t?void 0:t.entityUrn)!==e.urn})).map((e=>{const t=this.AttributedTextManager.EntityMap[e.urn]
return(0,m.get)(t,"miniProfile")}))}onBeforeUpload(e){let{attachment:t,isPasteEvent:n}=e
this.args.beforeUpload({attachment:t,isPasteEvent:n})
this.disableForm()}updateTextarea(e){let{body:t}=e
this._updateTextarea(t)}updateTextareaWithEmoji(e){let{body:t,triggerData:n}=e
this.updateMessageComposeService.triggerUpdateMessageCompose({bubbleId:n.bubbleId,isOverlay:this.args.isOverlay,messageText:t})}focusComposeAfterEmojiPickerClose(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
this.updateMessageComposeService.triggerFocusMessageCompose({bubbleId:e.bubbleId,isOverlay:this.args.isOverlay})}disableForm(){this.isValidForm=!1}handleGIFSend(e,t){this.messageSendRequest=(0,S.load)(this.args.submitMessage({gif:e,conversation:t,message:"",messageReplyType:t?(0,k.getReplyMessageType)(t):xe.M2M},!1).then((()=>{this.isDestroying||this._toggleExpandComposeField(!1)})))
return this.messageSendRequest}handleAttachmentDropError(e){this.attachmentDropErrorType=e
this._toggleExpandComposeField(!1)}dismissAttachmentDropError(){this.attachmentDropErrorType=""}onValidateForm(){this._validateForm()}afterDragAndDropUpload(){this._validateForm()
this._focusTextarea()}focusTextarea(){this._focusTextarea()}addAttachment(e){this._addAttachment(e)}removeAttachment(e){this.attachments.removeObject(e)
this._validateForm()}overridePlaceholderValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null
this._overridePlaceholder=e}onMentionsPickerKeyDown(e){if(!this.showMentionsPicker)return
e.preventDefault()
const{keyCode:t}=e
switch(t){case Me:this._closeMentionsDropdownUI()
this._focusTextarea()
e.stopPropagation()
break
case Te:this._arrowThroughDropdown(e,!1)
break
case Ce:this._arrowThroughDropdown(e,!0)
break
case _e:this._arrowThroughDropdown(e,e.shiftKey)}}onTextEditorKeyDown(e){if(this.projectShineAnimationsEnabled&&this.messageSendInProgress){(0,P.cancel)(this.delayedReset)
this._resetForm(!0)
this.messageSendInProgress=!1}const{keyCode:t,shiftKey:n,ctrlKey:i,metaKey:s}=e,r=this._getMessageTextEditor(),o=this.AttributedTextManager.getCaretPosition(r)
switch(t){case Se:if(i||s){e.preventDefault()
this.AttributedTextManager.handleUndoRedo(e)
this.updateAttributedTextModel()}break
case Me:if(this.showMentionsPicker){this._closeMentionsDropdownUI()
this._focusTextarea()
e.stopPropagation()}break
case Te:this.showMentionsPicker&&this._arrowThroughDropdown(e,!1)
break
case Ce:this.showMentionsPicker&&this._arrowThroughDropdown(e,!0)
break
case _e:this.showMentionsPicker&&this._arrowThroughDropdown(e,n)
break
case we:if(this.showMentionsPicker&&this._getCurrentMentionValue()){const t=this.showMentionAllOption?this.mentionAll:(0,m.get)(this,"conversationMentions.firstObject")||(0,m.get)(this,"connectionMentions.firstObject")
if(t){e.stopPropagation()
e.preventDefault()
this._selectAndAddMention(t)
this._closeMentionsDropdownUI()
break}}if(e.target!==r)break
if(this.shouldSubmitMessage(e)){this._onSubmit(e)
break}e.preventDefault()
this.AttributedTextManager.insertText("\n",o)
this.updateAttributedTextModel()
this._scrollToCaretPosition()}}selectMentionWithKeyDown(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
if(t.keyCode===we||t.keyCode===ke){t.stopPropagation()
t.preventDefault()
this._selectAndAddMention(e)}}selectMention(e){this._selectAndAddMention(e)}closeMentions(){this._closeMentionsDropdownUI()}triggerDragAndDropLayer(e){this.showDragAndDropUserEducationLayer=e}_selectAndAddMention(e){this.tracking.fireInteractionEvent(ve,"SHORT_PRESS")
this.AttributedTextManager.removeMentionInProgress()
this.AttributedTextManager.insertAttribute(e)
this.updateAttributedTextModel()
this._closeMentionsDropdownUI()}_sendTypingIndicator(){const e=(0,m.get)(this.args,"conversation.id")
e&&(0,b.default)(e,this.store)}_getMessageTextEditor(){return this.formElement.querySelector(".msg-form__contenteditable")}_getComposeScrollableArea(){return this.formElement.querySelector(".msg-form__msg-content-container--scrollable")}_focusTextarea(){const e=this._getMessageTextEditor()
""!==this.AttributedTextManager.getModel().text.trim()&&this.setCaretPosition()
e&&e.focus()}_resetForm(e){let t
if(e){t=""
this.args.conversation&&(0,m.get)(this.args,"conversation._draftMessage")&&(0,m.set)(this.args,"conversation._draftMessage",void 0)}else t=(0,m.get)(this.args,"conversation._draftMessage")||""
this.isValidForm=!1
this.attachments=[]
this._closeMentionsDropdownUI()
this.AttributedTextManager.resetModel()
this._lastCursorPosition=null
t&&this.AttributedTextManager.insertText(t,{start:0,end:0})
this.updateAttributedTextModel()
this._updateFormState()
this.attachmentDropErrorType=""
this._overridePlaceholder=null
this._toggleExpandComposeField(!1)}_updateFormState(){var e,t
const n=(0,m.get)(this,"attributedTextModel.text")
null===(e=(t=this.args).updateFormState)||void 0===e||e.call(t,n)}_validateForm(){const e=this.attachments||[],t=e.filter((e=>{let{isUploading:t,isError:n}=e
return t||n})),n=(0,m.get)(this,"attributedTextModel.text")
if((null==n?void 0:n.length)>=8e3){this.isValidForm=!1
this.isOverCharLimit=!0
return!1}this.isOverCharLimit=!1
let i=((0,c.isPresent)(n)||e.length>0||this.args.update||this.args.forwardedEvent)&&0===t.length
if(this.args.validateForm){var s
const e=null===(s=this.subjectDisplay)||void 0===s?void 0:s.trim()
i=i&&this.args.validateForm(n,e)}const r=this.args.externallyValid;(0,c.isPresent)(r)&&(i=i&&r)
this.isValidForm=i
return!this.hasNewConversationMessageInFlight&&!!i}_setupInmailResponseActionPayload(e){const t="INMAIL"===(0,m.get)(this.args,"conversation.latestEvent.subtype"),n=(0,m.get)(this.args,"conversation.latestEvent.eventContent.customContent.inmailProductType")
e.inMailResponseAction=!t||"RECRUITER"!==n&&"SALES"!==n?this.inMailResponseAction||"ACCEPT":this.inMailResponseAction||"NONE"}_handlePasteEvent(e){let{clipboardData:t}=e
if(t){const{files:n}=t
if(n&&n.length&&t.types&&t.types.length<3&&t.types.includes("Files")){e.preventDefault()
if(this.args.hasResharedContent||(0,m.get)(this.args,"messageContext.contextEntityUrn"))return
const[t]=n
t.type.match(/image/)&&this.attachmentsHandler.uploadAttachment(t,!0)
return}}e.preventDefault()
t&&t.getData?t=t.getData("text/plain"):v.default&&(t=window.clipboardData.getData("Text"))
const n=t.replace(/(\r\n|\n\r|\r)/g,"\n"),i=this.AttributedTextManager.getCaretPosition(this._getMessageTextEditor(),v.default)
this.AttributedTextManager.insertText(n,i)
this.updateAttributedTextModel()
if(this.args.conversation){const e=this.AttributedTextManager.getModel().text
e&&(0,m.set)(this.args,"conversation._draftMessage",e)}this._validateForm()
this._updateFormState()}_onTextEditorChange(){const e=this._getMessageTextEditor()
this.AttributedTextManager.updateModelFromHTML(e)
this.updateAttributedTextModel()
if(this.args.conversation){const e=this.AttributedTextManager.getModel().text
e&&(0,m.set)(this.args,"conversation._draftMessage",e)}this._triggerMentionDropdown();(0,x.debounceTask)(this,"_validateForm",150);(0,x.debounceTask)(this,"_updateFormState",150)
const t=Date.now()
if(t-this.lastSeenTyping>Ee){this.lastSeenTyping=t
this._sendTypingIndicator()}}updateAttributedTextModel(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0]
const t=this.AttributedTextManager.getModel()
this.attributedTextModel=t
if(this.AttributedTextManager.didAttributesChange){const t=this._getMessageTextEditor(),n=this.AttributedTextManager.createHTMLFromModel()
jSecure.setElementContent(t,n)
e&&this.setCaretPosition()}}setCaretPosition(e){const t=this.AttributedTextManager.getModel(),n=this._getMessageTextEditor()
this.AttributedTextManager.setCaretPosition(e||t.cursor,n)}_arrowThroughDropdown(e,t){e.stopPropagation()
e.preventDefault()
const n=this.formElement.querySelector("[data-mentions-picker]"),i=this.formElement.querySelectorAll("[data-mentions-picker-option]"),s=this.formElement.querySelector("[data-mentions-picker-option]:focus")
let r
if(s){r=Array.from(i).indexOf(s)
r=t?--r:++r}else r=t?i.length-1:1
if(i[r]&&r>0){i[r].focus()
this.isTabbingThroughMentions=!0}else{n.scrollTop=0
this._focusTextarea()
this.isTabbingThroughMentions=!1}}_getCurrentMentionValue(){const e=this.AttributedTextManager.getCaretPosition(this._getMessageTextEditor())
return(this.AttributedTextManager.getTextBeforeCursor(e).match(Pe)||[])[1]||""}_getCurrentMentionQuery(){return this._getCurrentMentionValue().substr(1).trim()}_triggerMentionDropdown(){const{start:e,end:t}=this.AttributedTextManager.getCaretPosition(this._getMessageTextEditor())
if(t!==e||this.AttributedTextManager.mentionAtPosition(t))return
const n=this._getCurrentMentionValue()
if((0,c.isPresent)(n)){const e=t-n.length,i=this._getCurrentMentionQuery()
this._fetchConversationMentions(i,{start:e,end:t})
if(i){const n=l.default.testing?0:100;(0,x.debounceTask)(this,"_fetchConnectionMentions",i,{start:e,end:t},n)}else{const e=this.conversationMentions||[],t=this.connectionMentions||[]
this.showMentionsPicker=e.length||t.length
this.tracking.fireInteractionEvent(ye,"KEYBOARD_SUBMIT")}this.AttributedTextManager.removeMentionInProgress()
this.AttributedTextManager.insertAttribute({mentionInProgress:!0,match:{start:e,length:n.length,text:n},tokenSelection:{start:e,end:t}})
this._setMentionsDropdownPosition()}else this._closeMentionsDropdownUI()
this.updateAttributedTextModel()}_getMentionsEntityByAttributeChunk(e){const t=(0,m.get)(this.args,"conversation.participants"),{entityUrn:n}=e
return t.findBy("miniProfile.entityUrn",n)}_fetchConversationMentions(e,t){const n=(0,m.get)(this.args,"conversation.participants")
if(!n)return
const i=n.filter((t=>{const n=(0,M.getName)((0,m.get)(t,"miniProfile"))
return this.formatter.formatName(n,"full").toLowerCase().indexOf(e.toLowerCase())>=0})).map(((e,n)=>{const i=`@${this.formatter.formatName((0,M.getName)((0,m.get)(e,"miniProfile")),"full")}`
return{index:n,tokenSelection:t,typeaheadHit:e,entity:e,entityUrn:(0,m.get)(e,"miniProfile.entityUrn"),match:{start:t.start,length:i.length,text:i}}})),s=this.i18n.lookupTranslation("components/msg-ui@msg-form/base-form","i18n_mention_all")()
if(this._shouldShowMentionAllOption(e,s)){const e=this._createMentionAllEntity(t,s)
this.mentionAll=e
this.showMentionAllOption=!0}else this.showMentionAllOption=!1
this.conversationMentions=i}_createMentionAllEntity(e,t){const n=`urn:li:fs_conversation:${(0,m.get)(this.args,"conversation.id")}`,i=m.default.create({miniProfile:m.default.create({firstName:t,lastName:"",entityUrn:n})})
return m.default.create({tokenSelection:e,entity:i,entityUrn:(0,m.get)(i,"miniProfile.entityUrn"),match:{length:t.length+1,start:e.start,text:`@${t}`}})}_shouldShowMentionAllOption(e,t){return(0,m.get)(this.args,"conversation.groupChat")&&t.toLowerCase().includes(e.toLowerCase())}_fetchConnectionMentions(e,t){const n=this.conversationMentions||[],i=n.mapBy("typeaheadHit.miniProfile.id")
return this.msgDataManager.fetchTypeaheadResults(e).then((s=>{if(this.isDestroying)return
if(e!==this._getCurrentMentionQuery())return
const r=s.reduce(((e,n)=>{const s=(0,m.get)(n,"miniProfile.id")
if(i.indexOf(s)>-1)return e
const r=`@${this.formatter.formatName((0,M.getName)((0,m.get)(n,"miniProfile")),"full")}`
return[...e,{index:e.length,tokenSelection:t,typeaheadHit:n,entity:n,entityUrn:(0,m.get)(n,"miniProfile.entityUrn"),match:{start:t.start,length:r.length,text:r}}]}),[])
this.showMentionsPicker=!(!r.length&&!n.length)
this.connectionMentions=r}))}_closeMentionsDropdownUI(){if(this.showMentionsPicker){this.AttributedTextManager.removeMentionInProgress()
this.showMentionsPicker=!1
this.mentionsTopPosition=!1
this.connectionMentions=null
this.conversationMentions=null
this.isTabbingThroughMentions=!1}}_setMentionsDropdownPosition(){if(!v.default)return
if(!this.args.composeIsFullyExpanded){const e=this.formElement.offsetHeight
this.mentionsTopPosition=`bottom: ${e}px`
return}const e=this._getCaretParentOffsets()
if(e){const t=20,n=this.formElement.querySelector(".msg-form__footer").offsetHeight,{scrollTop:i,offsetHeight:s}=this._getMessageTextEditor(),{caretParentOffsetTop:r,caretParentOffsetHeight:o}=e
let a=Math.round(o+r+4-i)
a+=this.formElement.offsetTop
let l="auto"
if(a>130){l=`${Math.round(s-r-o+n+t+i+4)}px`
a="auto"}else a=`${a}px`
this.mentionsTopPosition=`top: ${a}; bottom: ${l};`}}_scrollToCaretPosition(){const e=this._getCaretParentOffsets()
if(e){const{caretParentOffsetTop:t,caretParentOffsetHeight:n}=e,i=t+n,s=this._getComposeScrollableArea(),{scrollTop:r,offsetHeight:o}=s
i>r+o?s.scrollTop=i-o:t<r&&(s.scrollTop=t)}}_getCaretParentOffsets(){const e=this._getMessageTextEditor(),t=e.ownerDocument||e.document,n=t.defaultView||t.parentWindow
if(void 0!==n.getSelection){if(n.getSelection().rangeCount>0){const e=n.getSelection().getRangeAt(0),{offsetTop:t,offsetHeight:i}=e.commonAncestorContainer.parentNode
return{caretParentOffsetTop:t,caretParentOffsetHeight:i}}}}},W=(0,i.default)(V.prototype,"a11yNotification",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=(0,i.default)(V.prototype,"i18n",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=(0,i.default)(V.prototype,"jet",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=(0,i.default)(V.prototype,"legoResolver",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=(0,i.default)(V.prototype,"legoTracking",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=(0,i.default)(V.prototype,"lix",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=(0,i.default)(V.prototype,"msgDataManager",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=(0,i.default)(V.prototype,"store",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=(0,i.default)(V.prototype,"tracking",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=(0,i.default)(V.prototype,"formatter",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=(0,i.default)(V.prototype,"vectorUpload",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=(0,i.default)(V.prototype,"updateMessageComposeService",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=(0,i.default)(V.prototype,"attributedTextModel",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=(0,i.default)(V.prototype,"showMentionsPicker",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),re=(0,i.default)(V.prototype,"mentionsTopPosition",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),oe=(0,i.default)(V.prototype,"messageSendRequest",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=(0,i.default)(V.prototype,"isTabbingThroughMentions",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),le=(0,i.default)(V.prototype,"isValidForm",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ce=(0,i.default)(V.prototype,"isOverCharLimit",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),me=(0,i.default)(V.prototype,"conversationMentions",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),de=(0,i.default)(V.prototype,"connectionMentions",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ue=(0,i.default)(V.prototype,"showMentionsPicker",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),pe=(0,i.default)(V.prototype,"showDragAndDropUserEducationLayer",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ge=(0,i.default)(V.prototype,"attachmentDropErrorType",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),he=(0,i.default)(V.prototype,"attachments",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),fe=(0,i.default)(V.prototype,"messageSendInProgress",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,i.default)(V.prototype,"onClick",[m.action],Object.getOwnPropertyDescriptor(V.prototype,"onClick"),V.prototype),(0,i.default)(V.prototype,"onChange",[m.action],Object.getOwnPropertyDescriptor(V.prototype,"onChange"),V.prototype),(0,i.default)(V.prototype,"onSubmit",[m.action],Object.getOwnPropertyDescriptor(V.prototype,"onSubmit"),V.prototype),(0,i.default)(V.prototype,"checkForReset",[m.action],Object.getOwnPropertyDescriptor(V.prototype,"checkForReset"),V.prototype),(0,i.default)(V.prototype,"updateMessageComposeFromService",[H],Object.getOwnPropertyDescriptor(V.prototype,"updateMessageComposeFromService"),V.prototype),(0,i.default)(V.prototype,"focusMessageComposeFromService",[q],Object.getOwnPropertyDescriptor(V.prototype,"focusMessageComposeFromService"),V.prototype),(0,i.default)(V.prototype,"baseFormAfterInsert",[m.action],Object.getOwnPropertyDescriptor(V.prototype,"baseFormAfterInsert"),V.prototype),(0,i.default)(V.prototype,"onFocusOut",[m.action],Object.getOwnPropertyDescriptor(V.prototype,"onFocusOut"),V.prototype),(0,i.default)(V.prototype,"onBeforeUpload",[m.action],Object.getOwnPropertyDescriptor(V.prototype,"onBeforeUpload"),V.prototype),(0,i.default)(V.prototype,"updateTextarea",[m.action],Object.getOwnPropertyDescriptor(V.prototype,"updateTextarea"),V.prototype),(0,i.default)(V.prototype,"updateTextareaWithEmoji",[m.action],Object.getOwnPropertyDescriptor(V.prototype,"updateTextareaWithEmoji"),V.prototype),(0,i.default)(V.prototype,"focusComposeAfterEmojiPickerClose",[m.action],Object.getOwnPropertyDescriptor(V.prototype,"focusComposeAfterEmojiPickerClose"),V.prototype),(0,i.default)(V.prototype,"handleGIFSend",[m.action],Object.getOwnPropertyDescriptor(V.prototype,"handleGIFSend"),V.prototype),(0,i.default)(V.prototype,"handleAttachmentDropError",[m.action],Object.getOwnPropertyDescriptor(V.prototype,"handleAttachmentDropError"),V.prototype),(0,i.default)(V.prototype,"dismissAttachmentDropError",[m.action],Object.getOwnPropertyDescriptor(V.prototype,"dismissAttachmentDropError"),V.prototype),(0,i.default)(V.prototype,"onValidateForm",[m.action],Object.getOwnPropertyDescriptor(V.prototype,"onValidateForm"),V.prototype),(0,i.default)(V.prototype,"afterDragAndDropUpload",[m.action],Object.getOwnPropertyDescriptor(V.prototype,"afterDragAndDropUpload"),V.prototype),(0,i.default)(V.prototype,"focusTextarea",[m.action],Object.getOwnPropertyDescriptor(V.prototype,"focusTextarea"),V.prototype),(0,i.default)(V.prototype,"addAttachment",[m.action],Object.getOwnPropertyDescriptor(V.prototype,"addAttachment"),V.prototype),(0,i.default)(V.prototype,"removeAttachment",[m.action],Object.getOwnPropertyDescriptor(V.prototype,"removeAttachment"),V.prototype),(0,i.default)(V.prototype,"overridePlaceholderValue",[m.action],Object.getOwnPropertyDescriptor(V.prototype,"overridePlaceholderValue"),V.prototype),(0,i.default)(V.prototype,"onMentionsPickerKeyDown",[m.action],Object.getOwnPropertyDescriptor(V.prototype,"onMentionsPickerKeyDown"),V.prototype),(0,i.default)(V.prototype,"onTextEditorKeyDown",[m.action],Object.getOwnPropertyDescriptor(V.prototype,"onTextEditorKeyDown"),V.prototype),(0,i.default)(V.prototype,"selectMentionWithKeyDown",[m.action],Object.getOwnPropertyDescriptor(V.prototype,"selectMentionWithKeyDown"),V.prototype),(0,i.default)(V.prototype,"selectMention",[m.action],Object.getOwnPropertyDescriptor(V.prototype,"selectMention"),V.prototype),(0,i.default)(V.prototype,"closeMentions",[m.action],Object.getOwnPropertyDescriptor(V.prototype,"closeMentions"),V.prototype),(0,i.default)(V.prototype,"triggerDragAndDropLayer",[m.action],Object.getOwnPropertyDescriptor(V.prototype,"triggerDragAndDropLayer"),V.prototype),V)
e.default=De;(0,r.setComponentTemplate)(be,De)}))
define("msg-ui/components/msg-form/primitives/character-limit-banner",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const s=(0,n.createTemplateFactory)({id:"Wc7a4GlP",block:'[[[1,"\\n"],[8,[39,0],[[16,0,[29,["msg-character-limit-banner ph1 pv2\\n    ",[52,[30,1],"msg-character-limit-banner__edit-form"]]]],[24,"data-character-limit-warning",""]],[["@message","@type"],[[28,[37,2],["i18n_character_limit_warning","msg-ui/components/msg-form/primitives/character-limit-banner"],null],"yield"]],null]],["@isEditForm"],false,["artdeco-inline-feedback@artdeco-inline-feedback","if","t"]]',moduleName:"msg-ui/components/msg-form/primitives/character-limit-banner.hbs",isStrictMode:!1})
var r=(0,t.setComponentTemplate)(s,(0,i.default)())
e.default=r}))
define("msg-ui/components/msg-form/primitives/message-texteditor",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const s=(0,n.createTemplateFactory)({id:"dV8ZQUir",block:'[[[10,0],[14,0,"flex-grow-1"],[12],[1,"\\n  "],[11,0],[16,0,[29,["msg-form__contenteditable t-14 t-black--light t-normal flex-grow-1 full-height notranslate\\n      ",[52,[30,1],"msg-form__contenteditable--slide-out"]]]],[24,"contenteditable","true"],[24,"role","textbox"],[24,"aria-multiline","true"],[16,"aria-placeholder",[30,2]],[16,"aria-label",[28,[37,1],["i18n_write_a_message","msg-ui/components/msg-form/primitives/message-texteditor"],null]],[4,[38,2],["blur",[30,3]],null],[4,[38,2],["focus",[30,4]],null],[12],[1,"\\n  "],[13],[1,"\\n\\n"],[41,[30,5],[[[1,"    "],[10,0],[15,0,[29,[[52,[30,6],"msg-form__placeholder"],"\\n        t-14 t-black--light t-normal"]]],[15,"data-placeholder",[52,[30,7],[30,7],[28,[37,1],["i18n_write_a_message","msg-ui/components/msg-form/primitives/message-texteditor"],null]]],[12],[1,"\\n    "],[13],[1,"\\n"]],[]],[[[1,"    "],[10,0],[15,0,[28,[37,3],["msg-form__placeholder t-14 t-black--light t-normal ",[52,[30,6],"visible","hidden"]],null]],[15,"data-placeholder",[52,[30,7],[30,7],[28,[37,1],["i18n_write_a_message","msg-ui/components/msg-form/primitives/message-texteditor"],null]]],[12],[1,"\\n    "],[13],[1,"\\n"]],[]]],[13]],["@messageSendInProgress","@labelText","@parentBlurAction","@parentFocusAction","@projectShineAnimationsEnabled","@showPlaceholder","@overridePlaceholder"],false,["if","t","on","concat"]]',moduleName:"msg-ui/components/msg-form/primitives/message-texteditor.hbs",isStrictMode:!1})
var r=(0,t.setComponentTemplate)(s,(0,i.default)())
e.default=r}))
define("msg-ui/components/msg-form/primitives/msg-content-container",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@glimmer/tracking","ember-lifeline","@ember/object","@ember/service"],(function(e,t,n,i,s,r,o,a,l,c,m,d){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var u,p,g,h
const f=(0,o.createTemplateFactory)({id:"ipymT9pZ",block:'[[[11,0],[16,0,[29,["msg-form__msg-content-container\\n    ",[52,[30,1,["update"]],"msg-form__msg-content-container--has-reshare"],"\\n    ",[52,[30,0,["isActive"]],"msg-form__msg-content-container--is-active"]]]],[17,2],[4,[38,1],["keydown",[30,3]],null],[4,[38,1],["focusin",[28,[37,2],[[30,4]],null]],null],[12],[1,"\\n"],[1,"  "],[10,0],[14,0,"msg-form__msg-content-container--scrollable scrollable relative"],[12],[1,"\\n    "],[8,[39,3],null,[["@addTopBorder","@classNames","@overridePlaceholder","@parentBlurAction","@parentFocusAction","@showPlaceholder","@messageSendInProgress","@projectShineAnimationsEnabled"],[true,"msg-form__message-texteditor relative flex-grow-1 display-flex",[30,5],[28,[37,4],[[30,0,["setIsActive"]],false],null],[28,[37,4],[[30,0,["setIsActive"]],true],null],[30,6],[30,7],[30,0,["projectShineAnimationsEnabled"]]]],null],[1,"\\n\\n"],[41,[30,8],[[[1,"      "],[10,0],[14,0,"msg-form__expand-btn-wrapper"],[12],[1,"\\n        "],[8,[39,5],[[16,"aria-label",[52,[30,9],[28,[37,6],["i18n_minimize_compose","msg-ui/components/msg-form/primitives/msg-content-container"],null],[28,[37,6],["i18n_maximize_compose","msg-ui/components/msg-form/primitives/msg-content-container"],null]]],[16,"data-control-name",[28,[37,7],[[30,10],[52,[30,9],"close_expand","open_expand"]],null]]],[["@circle","@class","@click","@color","@controlType","@icon","@type","@size"],[true,"msg-form__expand-btn",[30,11],"muted","button",[52,[30,9],"chevron-down-icon","chevron-up-icon"],"tertiary",[30,12]]],null],[1,"\\n      "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,13],[[[1,"      "],[8,[39,8],null,[["@forwardedEvent"],[[30,13]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,14],[[[1,"      "],[8,[39,9],null,[["@bundle"],["marketplace-message-card"]],[["default"],[[[[1,"\\n"],[41,[30,15,["state","fulfilled"]],[[[1,"          "],[8,[39,10],[[24,0,"mv3 ml3 mr7"]],[["@messageCard","@isPreview"],[[30,14],true]],null],[1,"\\n"]],[]],null],[1,"      "]],[15]]]]],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,16],[[[1,"      "],[8,[39,9],null,[["@bundle"],["feed-shared"]],[["default"],[[[[1,"\\n"],[41,[30,17,["state","fulfilled"]],[[[1,"          "],[8,[39,11],[[24,0,"msg-form__reshared-content artdeco-card overflow-hidden"]],[["@update","@showNestedShares"],[[30,16],true]],null],[1,"\\n"]],[]],null],[1,"      "]],[17]]]]],[1,"\\n"]],[]],null],[1,"  "],[13],[1,"\\n"],[13]],["@event","&attrs","@handleKeyDown","@handleFocusIn","@overridePlaceholder","@showPlaceholder","@messageSendInProgress","@showExpandButton","@composeIsFullyExpanded","@trackingPrefix","@toggleExpandComposeField","@expandButtonSize","@forwardedEvent","@smpContent","assetLoader","@update","assetLoader"],false,["if","on","global-helpers@optional","msg-ui@msg-form/primitives/message-texteditor","fn","artdeco-button@artdeco-button","t","concat","msg-ui@forward-preview","asset-loader@deferred-asset-loader","marketplace-message-card@marketplace-message-card","feed-shared@render-models/mini-update-v2"]]',moduleName:"msg-ui/components/msg-form/primitives/msg-content-container.hbs",isStrictMode:!1})
let b=(u=(0,d.inject)("lix"),p=class extends a.default{constructor(){super(...arguments);(0,t.default)(this,"lix",g,this);(0,t.default)(this,"isActive",h,this)}get projectShineAnimationsEnabled(){return this.lix.getTreatmentIsEnabled("voyager.web.messaging-compose-animations")&&this.lix.getTreatmentIsEnabled("voyager.web.enable-shine-week-changes")}setIsActive(e){(0,c.runTask)(this,(()=>{this.isActive=e}))}willDestroy(){super.willDestroy(...arguments);(0,c.runDisposables)(this)}},g=(0,i.default)(p.prototype,"lix",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=(0,i.default)(p.prototype,"isActive",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,i.default)(p.prototype,"setIsActive",[m.action],Object.getOwnPropertyDescriptor(p.prototype,"setIsActive"),p.prototype),p)
e.default=b;(0,r.setComponentTemplate)(f,b)}))
define("msg-ui/components/msg-form/primitives/send-controls",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const s=(0,n.createTemplateFactory)({id:"22Mg3qZ3",block:'[[[1,"\\n"],[11,0],[17,1],[12],[1,"\\n"],[41,[30,2],[[[1,"    "],[10,0],[14,0,"msg-form__hint-text t-12 t-black--light t-normal"],[12],[1,"\\n      "],[1,[28,[35,1],["enter_to_send","msg-ui/components/msg-form/primitives/send-controls"],null]],[1,"\\n    "],[13],[1,"\\n"]],[]],[[[1,"    "],[10,"button"],[15,0,[29,["msg-form__send-button ",[30,3]]]],[15,"disabled",[52,[51,[30,4]],"disabled"]],[14,4,"submit"],[12],[1,"\\n      "],[1,[28,[35,1],["send_message","msg-ui/components/msg-form/primitives/send-controls"],null]],[1,"\\n    "],[13],[1,"\\n"]],[]]],[13]],["&attrs","@isEnterToSendEnabled","@buttonClass","@enableSend"],false,["if","t","unless"]]',moduleName:"msg-ui/components/msg-form/primitives/send-controls.hbs",isStrictMode:!1})
var r=(0,t.setComponentTemplate)(s,(0,i.default)())
e.default=r}))
define("msg-ui/components/msg-form/primitives/send-failure-banner",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const s=(0,n.createTemplateFactory)({id:"PpKOIRZ1",block:'[[[10,0],[14,0,"msg-form--message-send-failure-banner display-flex flex-row p2"],[12],[1,"\\n  "],[8,[39,0],null,[["@message","@type","@linkText","@onClick"],[[28,[37,1],["i18n_message_failed_to_send","msg-ui/components/msg-form/primitives/send-failure-banner"],null],"error",[28,[37,1],["i18n_message_send_failed_try_again","msg-ui/components/msg-form/primitives/send-failure-banner"],null],[30,1]]],null],[1,"\\n"],[13]],["@resendMessage"],false,["artdeco-inline-feedback@artdeco-inline-feedback","t"]]',moduleName:"msg-ui/components/msg-form/primitives/send-failure-banner.hbs",isStrictMode:!1})
var r=(0,t.setComponentTemplate)(s,(0,i.default)())
e.default=r}))
define("msg-ui/components/msg-form/primitives/send-mode-toggle",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@ember/object","@ember/service","@glimmer/component","msg-shared/utils/constants","msg-data/utils/messaging-settings","global-utils/utils/api-compat","@ember/object/internals"],(function(e,t,n,i,s,r,o,a,l,c,m,d,u,p){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var g,h,f,b,y,v,_,w,M
const k=(0,o.createTemplateFactory)({id:"sjbGnhkT",block:'[[[1,"\\n"],[10,0],[14,0,"msg-form__hovercard-container ml2 relative"],[12],[1,"\\n  "],[8,[39,0],null,[["@on","@placement"],["click","top"]],[["default"],[[[[1,"\\n    "],[8,[39,1],null,[["@aria-controls","@aria-describedby","@aria-expanded","@class","@circle","@color","@controlType","@icon","@text","@type","@size"],[[30,1,["ariaId"]],[30,1,["ariaId"]],[30,1,["ariaExpanded"]],"msg-form__send-toggle","true","muted","button","ellipsis-horizontal-icon",[28,[37,2],["open_send_options","msg-ui/components/msg-form/primitives/send-mode-toggle"],null],"tertiary",[28,[37,3],[[30,2],2],null]]],null],[1,"\\n    "],[8,[30,1,["artdeco-hoverable-content"]],null,[["@contentClass","@theme"],["msg-form__hovercard","inverse"]],[["default"],[[[[1,"\\n      "],[10,"fieldset"],[12],[1,"\\n        "],[10,"legend"],[14,0,"a11y-text"],[12],[1,"\\n          "],[1,[28,[35,2],["choose_send_option","msg-ui/components/msg-form/primitives/send-mode-toggle"],null]],[1,"\\n        "],[13],[1,"\\n        "],[11,"input"],[16,1,[28,[37,4],["enter-to-send-",[30,0,["sendModeToggleElementId"]]],null]],[16,3,[28,[37,4],["send-settings-",[30,0,["sendModeToggleElementId"]]],null]],[24,2,"enterSend"],[16,"checked",[52,[30,4,["pressEnterToSend"]],true,false]],[24,4,"radio"],[4,[38,6],["change",[28,[37,7],[[30,0,["setMessageSettings"]],[30,3,["closeHoverable"]]],null]],null],[12],[13],[1,"\\n        "],[10,"label"],[15,"for",[28,[37,4],["enter-to-send-",[30,0,["sendModeToggleElementId"]]],null]],[14,0,"mt0"],[12],[1,"\\n          "],[10,2],[14,0,"t-16 t-black--light t-bold"],[12],[1,"\\n            "],[1,[28,[35,2],["enter_to_send","msg-ui/components/msg-form/primitives/send-mode-toggle"],null]],[1,"\\n          "],[13],[1,"\\n          "],[10,2],[14,0,"t-14 t-black--light t-normal"],[12],[1,"\\n            "],[1,[28,[35,2],["enter_to_send_explanation","msg-ui/components/msg-form/primitives/send-mode-toggle"],null]],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n        "],[11,"input"],[16,1,[28,[37,4],["send-",[30,0,["sendModeToggleElementId"]]],null]],[16,3,[28,[37,4],["send-settings-",[30,0,["sendModeToggleElementId"]]],null]],[24,2,"send"],[16,"checked",[52,[30,4,["pressEnterToSend"]],false,true]],[24,4,"radio"],[4,[38,6],["change",[28,[37,7],[[30,0,["setMessageSettings"]],[30,3,["closeHoverable"]]],null]],null],[12],[13],[1,"\\n        "],[10,"label"],[15,"for",[28,[37,4],["send-",[30,0,["sendModeToggleElementId"]]],null]],[12],[1,"\\n          "],[10,2],[14,0,"t-16 t-black--light t-bold"],[12],[1,"\\n            "],[1,[28,[35,2],["click_to_send","msg-ui/components/msg-form/primitives/send-mode-toggle"],null]],[1,"\\n          "],[13],[1,"\\n          "],[10,2],[14,0,"t-14 t-black--light t-normal"],[12],[1,"\\n            "],[1,[28,[35,2],["click_to_send_explanation","msg-ui/components/msg-form/primitives/send-mode-toggle"],null]],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n    "]],[3]]]]],[1,"\\n  "]],[1]]]]],[1,"\\n"],[13]],["trigger","@triggerButtonSize","hoverable","@messagingSettings"],false,["artdeco-hoverables@artdeco-hoverable-trigger","artdeco-button@artdeco-button","t","global-helpers@or","concat","if","on","fn"]]',moduleName:"msg-ui/components/msg-form/primitives/send-mode-toggle.hbs",isStrictMode:!1}),{SEND_MODES:C}=m.default
let T=(g=(0,l.inject)("authentication@authenticated-user"),h=(0,l.inject)("global-services@local-storage"),f=(0,l.inject)("lix"),b=(0,l.inject)("profile-services@identity-store"),y=class extends c.default{constructor(){super(...arguments);(0,n.default)(this,"sendModeToggleElementId",`send-mode-toggle-${(0,p.guidFor)(this)}`);(0,t.default)(this,"authenticatedUser",v,this);(0,t.default)(this,"ls",_,this);(0,t.default)(this,"lix",w,this);(0,t.default)(this,"identityStore",M,this)}get sendModeValue(){return(0,a.get)(this.args,"messagingSettings.pressEnterToSend")?C.ENTER_SEND:C.SEND}setMessageSettings(e,t){var n,i
const s=t.target.value===C.ENTER_SEND,r=(0,u.entityUrnToId)((0,a.get)(this,"authenticatedUser.miniProfile.entityUrn"))
null===(n=(i=this.args).afterToggleAction)||void 0===n||n.call(i)
e&&e()
return(0,d.saveEnterToSendSetting)(this.identityStore,this.lix,this.ls,r,this.args.messagingSettings,s)}},v=(0,i.default)(y.prototype,"authenticatedUser",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=(0,i.default)(y.prototype,"ls",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=(0,i.default)(y.prototype,"lix",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=(0,i.default)(y.prototype,"identityStore",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,i.default)(y.prototype,"setMessageSettings",[a.action],Object.getOwnPropertyDescriptor(y.prototype,"setMessageSettings"),y.prototype),y)
e.default=T;(0,r.setComponentTemplate)(k,T)}))
define("msg-ui/components/msg-form/primitives/subject-line-input",["exports","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@ember/component","@ember/template-factory","@glimmer/component","msg-shared/utils/constants","@ember/debug","@ember/object"],(function(e,t,n,i,s,r,o,a,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var c
const m=(0,s.createTemplateFactory)({id:"YoIwmaxv",block:'[[[11,0],[24,0,"msg-form__subject-line relative"],[17,1],[4,[38,0],[[30,0,["handleInsert"]]],null],[12],[1,"\\n  "],[8,[39,1],[[16,"aira-label",[28,[37,2],["i18n_write_subject","msg-ui/components/msg-form/primitives/subject-line-input"],null]]],[["@type","@name","@value","@onChange","@classNames","@placeholder"],["text","subject",[30,2],[30,3],"msg-form__subject",[28,[37,2],["i18n_optional_subject_placeholder","msg-ui/components/msg-form/primitives/subject-line-input"],null]]],null],[1,"\\n"],[13]],["&attrs","@subject","@updateSubject"],false,["did-insert","artdeco-text-input@artdeco-text-input","t"]]',moduleName:"msg-ui/components/msg-form/primitives/subject-line-input.hbs",isStrictMode:!1}),{INMAIL_SUBJECT_MAX_CHARACTERS:d}=o.default
let u=(c=class extends r.default{constructor(){super(...arguments);(0,t.default)(this,"maxSubjectLength",d)}handleInsert(e){e.querySelector("input").setAttribute("autocomplete","off")}},(0,n.default)(c.prototype,"handleInsert",[l.action],Object.getOwnPropertyDescriptor(c.prototype,"handleInsert"),c.prototype),c)
e.default=u;(0,i.setComponentTemplate)(m,u)}))
define("msg-ui/components/msg-form/primitives/upload-attachment",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@ember/object","@ember/service","@ember/object/internals","msg-shared/utils/attachments-handler","global-utils/utils/is-browser"],(function(e,t,n,i,s,r,o,a,l,c,m,d,u){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var p,g,h,f,b,y,v,_,w,M,k
const C=(0,o.createTemplateFactory)({id:"fLVfL3Rm",block:'[[[11,0],[24,0,"msg-form__upload-attachment inline-block"],[17,1],[12],[1,"\\n  "],[10,"input"],[14,3,"persist"],[14,2,"true"],[14,4,"hidden"],[12],[13],[1,"\\n  "],[10,"input"],[14,3,"upload_info"],[14,4,"hidden"],[12],[13],[1,"\\n  "],[11,"input"],[16,1,[30,0,["inputID"]]],[24,0,"msg-form__attachment-upload-input hidden"],[16,"accept",[30,2]],[16,"data-control-name",[30,0,["selectFileControlName"]]],[24,4,"file"],[4,[38,0],[[30,0,["setUploadInput"]]],null],[4,[38,1],["change",[30,0,["handleFormInputChange"]]],null],[12],[13],[1,"\\n  "],[11,"button"],[16,1,[30,0,["triggerID"]]],[16,0,[29,["msg-form__footer-action ",[30,3]]]],[16,"disabled",[30,4]],[16,"title",[30,5]],[16,"aria-label",[30,5]],[24,4,"button"],[4,[38,1],["click",[30,0,["onClick"]]],null],[12],[1,"\\n    "],[10,1],[14,0,"visually-hidden"],[12],[1,"\\n      "],[1,[30,5]],[1,"\\n    "],[13],[1,"\\n    "],[1,[30,6]],[1,"\\n  "],[13],[1,"\\n"],[13]],["&attrs","@acceptTypes","@buttonClasses","@disabled","@labelText","@icon"],false,["did-insert","on"]]',moduleName:"msg-ui/components/msg-form/primitives/upload-attachment.hbs",isStrictMode:!1})
let T=(p=(0,c.inject)("jet"),g=(0,c.inject)("tracking"),h=(0,c.inject)("vector@vector-upload"),f=(0,c.inject)("global-services@a11y-notification"),b=(0,c.inject)("i18n"),y=class extends a.default{constructor(){super(...arguments);(0,t.default)(this,"jet",v,this);(0,t.default)(this,"tracking",_,this);(0,t.default)(this,"vectorUpload",w,this);(0,t.default)(this,"a11yNotification",M,this);(0,t.default)(this,"i18n",k,this);(0,n.default)(this,"uploadInputElem",{})
const e=new d.default({vectorUpload:this.vectorUpload,tracking:this.tracking,jet:this.jet,updateUI:this.args.addAttachment,beforeUpload:this.args.beforeUpload,afterUpload:this.args.afterUpload,onUploadSuccess:this.onUploadSuccess.bind(this),onUploadFailure:this.onUploadFailure.bind(this)});(0,l.setProperties)(this,{attachmentsHandler:e,inputID:`attachment-input-${(0,m.guidFor)(this)}`,triggerID:`attachment-trigger-${(0,m.guidFor)(this)}`,selectFileControlName:`${this.args.trackingPrefix}_select`})}onClick(){this.uploadInputElem.click()
u.default&&!/Firefox|Edge/.test(window.navigator.userAgent)&&this.args.triggerDragAndDropLayer(!0)}handleFormInputChange(){this.args.triggerDragAndDropLayer(!1)
this.fileSelected(this.uploadInputElem.files)}setUploadInput(e){(0,l.set)(this,"uploadInputElem",e)}fileSelected(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])[0]
e&&this.attachmentsHandler.uploadAttachment(e)
this.uploadInputElem.value=""}onUploadSuccess(){const e=this.i18n.lookupTranslation("components/msg-ui@i18n-shared","a11y_attachment_uploaded")
this.a11yNotification.setTextInLiveRegion(e())}onUploadFailure(){const e=this.i18n.lookupTranslation("components/msg-ui@i18n-shared","a11y_attachment_upload_failed")
this.a11yNotification.setTextInLiveRegion(e())}},v=(0,i.default)(y.prototype,"jet",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=(0,i.default)(y.prototype,"tracking",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=(0,i.default)(y.prototype,"vectorUpload",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=(0,i.default)(y.prototype,"a11yNotification",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=(0,i.default)(y.prototype,"i18n",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,i.default)(y.prototype,"onClick",[l.action],Object.getOwnPropertyDescriptor(y.prototype,"onClick"),y.prototype),(0,i.default)(y.prototype,"handleFormInputChange",[l.action],Object.getOwnPropertyDescriptor(y.prototype,"handleFormInputChange"),y.prototype),(0,i.default)(y.prototype,"setUploadInput",[l.action],Object.getOwnPropertyDescriptor(y.prototype,"setUploadInput"),y.prototype),y)
e.default=T;(0,r.setComponentTemplate)(C,T)}))
define("msg-ui/components/msg-group-form/msg-group-form",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@ember/object","@glimmer/tracking"],(function(e,t,n,i,s,r,o,a,l,c){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var m,d,u,p
const g=(0,o.createTemplateFactory)({id:"96WIlKnv",block:'[[[10,0],[14,0,"msg-group-form"],[12],[1,"\\n  "],[8,[39,0],null,[["@withSuggestedList","@isForGroupChatCreation","@a11yText","@placeholder","@recipientsChanged","@prefilledRecipients","@includeGroupConversationResults","@includeCoworkerResults","@enableGroupMessageRequests","@hasInitialFocus"],[true,true,[28,[37,1],["i18n_new_compose_recipients_label","msg-ui/components/msg-group-form/msg-group-form"],null],[28,[37,1],["i18n_type_participant_names","msg-ui/components/msg-group-form/msg-group-form"],null],[30,0,["recipientsChanged"]],[30,1],false,true,true,[30,2]]],null],[1,"\\n\\n  "],[10,"section"],[14,0,"msg-group-form__bottom-fixed-section"],[12],[1,"\\n    "],[8,[39,2],[[4,[38,3],["change",[28,[37,4],[[28,[37,5],[[30,3],"group_chat_name"],null],[30,0,["onGroupNameChange"]]],null]],null]],[["@type","@inputClasses","@label","@placeholder","@maxLength","@value"],["text","msg-group-form__input",[28,[37,1],["i18n_group_name","msg-ui/components/msg-group-form/msg-group-form"],null],[28,[37,1],["i18n_group_name_placeholder","msg-ui/components/msg-group-form/msg-group-form"],null],"300",[30,0,["msgGroupName"]]]],null],[1,"\\n  "],[13],[1,"\\n\\n  "],[10,"section"],[14,0,"msg-group-form__action-buttons-container"],[12],[1,"\\n    "],[8,[39,6],[[16,"data-control-name",[30,4]],[4,[38,3],["click",[28,[37,8],[[30,5],[28,[37,9],null,[["recipients","msgGroupName","contextByRecipients"],[[30,0,["recipients"]],[30,0,["msgGroupName"]],[30,0,["contextByRecipients"]]]]]],null]],null]],[["@class","@size","@text","@disabled"],["msg-group-form__next-button",1,[28,[37,1],["i18n_next","msg-ui/components/msg-group-form/msg-group-form"],null],[28,[37,7],[[30,0,["recipients","length"]],1],null]]],null],[1,"\\n  "],[13],[1,"\\n"],[13]],["@prefilledRecipients","@typeaheadHasInitialFocus","@actionTrackingPrefix","@nextButtonDataControlName","@onNext"],false,["msg-typeahead@connections-typeahead","t","artdeco-text-input@artdeco-text-input","on","ember-cli-pemberly-tracking@tracked-action","concat","artdeco-button@artdeco-button","global-helpers@lte","fn","hash"]]',moduleName:"msg-ui/components/msg-group-form/msg-group-form.hbs",isStrictMode:!1})
let h=(m=class extends a.default{constructor(){super(...arguments);(0,t.default)(this,"recipients",d,this);(0,t.default)(this,"msgGroupName",u,this);(0,t.default)(this,"contextByRecipients",p,this)}onGroupNameChange(e,t){this.msgGroupName=t.target.value}recipientsChanged(e,t){this.recipients=e
this.contextByRecipients=t}},d=(0,i.default)(m.prototype,"recipients",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.args.prefilledRecipients||[]}}),u=(0,i.default)(m.prototype,"msgGroupName",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.args.prefilledMsgGroupName}}),p=(0,i.default)(m.prototype,"contextByRecipients",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,i.default)(m.prototype,"onGroupNameChange",[l.action],Object.getOwnPropertyDescriptor(m.prototype,"onGroupNameChange"),m.prototype),(0,i.default)(m.prototype,"recipientsChanged",[l.action],Object.getOwnPropertyDescriptor(m.prototype,"recipientsChanged"),m.prototype),m)
e.default=h;(0,r.setComponentTemplate)(g,h)}))
define("msg-ui/components/premium-upsell",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@ember/object","@ember/service","s-upsell/utils/upsell-card-dash-helpers","urn-utils","global-utils/utils/url"],(function(e,t,n,i,s,r,o,a,l,c,m,d,u){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var p,g,h
const f=(0,o.createTemplateFactory)({id:"OLT0mVgT",block:'[[[10,0],[14,0,"msg-premium-upsell"],[12],[1,"\\n"],[41,[30,0,["upsellCard"]],[[[1,"    "],[8,[39,1],null,[["@upsellCard","@defaultConfig","@upsellStyles"],[[30,0,["upsellCard"]],[28,[37,2],null,[["isVerticalLayout"],[true]]],[28,[37,2],null,[["upsellWrapperClass","headlineClass","subheaderClass","socialProofInsightClass","socialProofInsightTextClass","customAnchorClass"],["msg-premium-upsell__content","t-18 mb3","t-14 t-black--light","display-flex align-items-center mt6 mb3","t-12 t-black--light ml2","full-width"]]]]],null],[1,"\\n"]],[]],[[[1,"    "],[8,[39,3],null,[["@size"],["small"]],null],[1,"\\n"]],[]]],[13]],[],false,["if","s-upsell@upsell-templates/upsell-template-container","hash","artdeco-loader@artdeco-loader"]]',moduleName:"msg-ui/components/premium-upsell.hbs",isStrictMode:!1})
let b=(p=(0,c.inject)("store"),g=class extends a.default{constructor(){super(...arguments);(0,t.default)(this,"store",h,this)
const{args:{targetUrl:e}}=this,n=(0,u.isUrl)(e)?new URL(e):null,i=null==n?void 0:n.searchParams.get("premiumUpsellSlotUrn"),s=i?(0,d.extractEntityInfoFromUrn)(i).id:null,r=null==n?void 0:n.searchParams.get("profileUrn");(0,m.default)(this.store,s,"viewee",{vieweeProfileUrn:r}).then((e=>{this.isDestroying||(0,l.set)(this,"upsellCard",(0,l.get)(e,"elements.firstObject.upsellCard"))}))}},h=(0,i.default)(g.prototype,"store",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g)
e.default=b;(0,r.setComponentTemplate)(f,b)}))
define("msg-ui/components/primitives/bulk-actions-panel",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@ember/service","@glimmer/component","@ember/object","@glimmer/tracking"],(function(e,t,n,i,s,r,o,a,l,c,m){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var d,u,p,g,h,f,b,y,v,_
const w=(0,o.createTemplateFactory)({id:"mvzmUzNE",block:'[[[10,0],[14,0,"msg-bulk-actions-panel ph2"],[12],[1,"\\n  "],[10,0],[14,0,"display-flex mvA"],[12],[1,"\\n    "],[8,[39,0],[[4,[38,2],[[30,0,["exitBulkActionsTrackingControlName"]]],null]],[["@type","@click","@text","@color","@icon","@size","@circle"],["tertiary",[30,0,["exitBulkActionsMode"]],[28,[37,1],["a11y_go_to_inbox","msg-ui/components/primitives/bulk-actions-panel"],null],"muted","cancel-icon",1,true]],null],[1,"\\n    "],[10,1],[14,0,"msg-bulk-actions-panel__selected-text t-14 t-black--light t-bold mvA"],[12],[1,"\\n      "],[1,[28,[35,1],["i18n_selected_count","msg-ui/components/primitives/bulk-actions-panel"],[["count"],[[30,1,["length"]]]]]],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n  "],[10,0],[14,0,"display-flex mvA"],[12],[1,"\\n    "],[8,[39,0],[[4,[38,2],[[30,0,["toggleReadTrackingControlName"]]],null]],[["@aria-label","@type","@click","@color","@icon","@disabled","@title","@size","@circle"],[[52,[30,0,["allSelectedConversationsRead"]],[28,[37,1],["i18n_mark_unread","msg-ui/components/primitives/bulk-actions-panel"],null],[28,[37,1],["i18n_mark_read","msg-ui/components/primitives/bulk-actions-panel"],null]],"tertiary",[30,0,["toggleRead"]],"muted",[52,[30,0,["allSelectedConversationsRead"]],"envelope-icon","envelope-open-icon"],[30,0,["actionButtonsDisabled"]],[52,[30,0,["allSelectedConversationsRead"]],[28,[37,1],["i18n_mark_unread","msg-ui/components/primitives/bulk-actions-panel"],null],[28,[37,1],["i18n_mark_read","msg-ui/components/primitives/bulk-actions-panel"],null]],1,true]],null],[1,"\\n\\n    "],[8,[39,0],null,[["@aria-label","@type","@click","@color","@icon","@disabled","@title","@size","@circle"],[[28,[37,1],["i18n_delete","msg-ui/components/primitives/bulk-actions-panel"],null],"tertiary",[28,[37,4],[[30,0],"showConfirmModal",true],null],"muted","trash-icon",[30,0,["actionButtonsDisabled"]],[28,[37,1],["i18n_delete","msg-ui/components/primitives/bulk-actions-panel"],null],1,true]],null],[1,"\\n\\n    "],[8,[39,0],[[4,[38,2],[[30,0,["toggleArchiveTrackingControlName"]]],null]],[["@aria-label","@type","@click","@color","@icon","@disabled","@title","@size","@circle"],[[52,[30,0,["selectedConversationsAreArchived"]],[28,[37,1],["i18n_restore","msg-ui/components/primitives/bulk-actions-panel"],null],[28,[37,1],["i18n_archive","msg-ui/components/primitives/bulk-actions-panel"],null]],"tertiary",[30,0,["toggleArchive"]],"muted",[52,[30,0,["selectedConversationsAreArchived"]],"unarchive-message-icon","archive-message-icon"],[30,0,["actionButtonsDisabled"]],[52,[30,0,["selectedConversationsAreArchived"]],[28,[37,1],["i18n_restore","msg-ui/components/primitives/bulk-actions-panel"],null],[28,[37,1],["i18n_archive","msg-ui/components/primitives/bulk-actions-panel"],null]],1,true]],null],[1,"\\n  "],[13],[1,"\\n"],[13],[1,"\\n\\n"],[8,[39,5],null,[["@isOpen","@title","@content","@primaryActionText","@primaryActionTextA11y","@secondaryActionText","@secondaryActionTextA11y","@onPrimary","@onSecondary","@onEscape"],[[30,0,["showConfirmModal"]],[28,[37,1],["i18n_sure_you_want_delete","msg-ui/components/primitives/bulk-actions-panel"],null],[28,[37,1],["i18n_deletion_warning_text","msg-ui/components/primitives/bulk-actions-panel"],[["count"],[[30,1,["length"]]]]],[28,[37,1],["i18n_yes_delete","msg-ui/components/primitives/bulk-actions-panel"],null],[28,[37,1],["a11y_confirm_delete_selected_conversations","msg-ui/components/primitives/bulk-actions-panel"],null],[28,[37,1],["i18n_cancel","msg-ui/components/primitives/bulk-actions-panel"],null],[28,[37,1],["a11y_cancel_delete_selected_conversations","msg-ui/components/primitives/bulk-actions-panel"],null],[30,0,["confirmDelete"]],[30,0,["cancelDelete"]],[30,0,["cancelDelete"]]]],null]],["@selectedConversations"],false,["artdeco-button@artdeco-button","t","ember-cli-pemberly-tracking@track-interaction","if","ember-set-helper@set","artdeco-modal@artdeco-confirmation-dialog"]]',moduleName:"msg-ui/components/primitives/bulk-actions-panel.hbs",isStrictMode:!1})
let M=(d=(0,a.inject)("msg-data@data-manager"),u=(0,a.inject)("persistent-toast-manager@persistent-toast-manager"),p=(0,a.inject)("i18n"),g=(0,a.inject)("tracking"),h=class extends l.default{constructor(){super(...arguments);(0,t.default)(this,"msgDataManager",f,this);(0,t.default)(this,"persistentToastManager",b,this);(0,t.default)(this,"i18n",y,this);(0,t.default)(this,"tracking",v,this);(0,t.default)(this,"showConfirmModal",_,this)}get actionButtonsDisabled(){var e
return 0===(null===(e=this.args.selectedConversations)||void 0===e?void 0:e.length)}get selectedUnreadConversations(){return this.args.selectedConversations.filter((e=>!(0,c.get)(e,"read")))}get allSelectedConversationsRead(){return 0===this.selectedUnreadConversations.length}get selectedConversationsAreArchived(){return(0,c.get)(this.args,"selectedConversations.firstObject.archived")}get exitBulkActionsTrackingControlName(){return this.args.isOverlay?"overlay.exit_bulk_selection":"exit_bulk_selection"}get toggleArchiveTrackingControlName(){let e=this.selectedConversationsAreArchived?"bulk_unarchive":"bulk_archive"
this.args.isOverlay&&(e=`overlay.${e}`)
return e}get toggleReadTrackingControlName(){let e=this.allSelectedConversationsRead?"bulk_unread":"bulk_read"
this.args.isOverlay&&(e=`overlay.${e}`)
return e}_unselectConversations(){this.args.selectedConversations.forEach((e=>{(0,c.set)(e,"checked",!1)}))}_showErrorToast(){const e=this.i18n.lookupTranslation("components/msg-ui@primitives/bulk-actions-panel","i18n_bulk_action_failed_message")([])
this.persistentToastManager.error({message:e})}exitBulkActionsMode(){var e,t
this._unselectConversations()
null===(e=(t=this.args).onExitBulkActionsMode)||void 0===e||e.call(t)}cancelDelete(){this.showConfirmModal=!1
const e=this.args.isOverlay?"overlay.bulk_delete_cancel":"bulk_delete_cancel"
this.tracking.fireInteractionEvent(e)}confirmDelete(){var e,t
null===(e=(t=this.args).willExecuteBulkAction)||void 0===e||e.call(t)
const n=this.args.isOverlay?"overlay.bulk_delete_confirm":"bulk_delete_confirm"
this.tracking.fireInteractionEvent(n)
const i=(0,c.get)(this.args.selectedConversations[0],"collectionName")
this.args.selectedConversations.forEach((e=>{this.msgDataManager.removeConversation(e)}))
this.msgDataManager.bulkDeleteConversations(this.args.selectedConversations).then((()=>{var e,t
return null===(e=(t=this.args).didExecuteBulkAction)||void 0===e?void 0:e.call(t,"delete")})).catch((e=>{this._showErrorToast()
this.args.selectedConversations.forEach((e=>{this.msgDataManager.addConversationToCollection(e,i)}))
throw e}))
this.showConfirmModal=!1
this._unselectConversations()}toggleArchive(){var e,t
null===(e=(t=this.args).willExecuteBulkAction)||void 0===e||e.call(t)
const n=!this.selectedConversationsAreArchived,i=(0,c.get)(this.args.selectedConversations[0],"collectionName")
this.args.selectedConversations.forEach((e=>this.msgDataManager.setConversationArchive(e,n)))
this.msgDataManager.toggleBulkConversationsArchive(this.args.selectedConversations,n).then((()=>{var e,t
return null===(e=(t=this.args).didExecuteBulkAction)||void 0===e?void 0:e.call(t)})).catch((e=>{this._showErrorToast()
this.args.selectedConversations.forEach((e=>{this.msgDataManager.setConversationArchive(e,!n,i)}))
throw e}))
this._unselectConversations()}toggleRead(){var e,t
null===(e=(t=this.args).willExecuteBulkAction)||void 0===e||e.call(t)
const n=!this.allSelectedConversationsRead,i=n?this.selectedUnreadConversations:this.args.selectedConversations
i.forEach((e=>{(0,c.setProperties)(e,{read:n,unreadCount:n?0:1})}))
this.msgDataManager.toggleBulkConversationsRead(i,n).then((()=>{var e,t
return null===(e=(t=this.args).didExecuteBulkAction)||void 0===e?void 0:e.call(t)})).catch((e=>{this._showErrorToast()
i.forEach((e=>{(0,c.setProperties)(e,{read:!n,unreadCount:n?1:0})}))
throw e}))
this._unselectConversations()}},f=(0,i.default)(h.prototype,"msgDataManager",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=(0,i.default)(h.prototype,"persistentToastManager",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=(0,i.default)(h.prototype,"i18n",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=(0,i.default)(h.prototype,"tracking",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=(0,i.default)(h.prototype,"showConfirmModal",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,i.default)(h.prototype,"exitBulkActionsMode",[c.action],Object.getOwnPropertyDescriptor(h.prototype,"exitBulkActionsMode"),h.prototype),(0,i.default)(h.prototype,"cancelDelete",[c.action],Object.getOwnPropertyDescriptor(h.prototype,"cancelDelete"),h.prototype),(0,i.default)(h.prototype,"confirmDelete",[c.action],Object.getOwnPropertyDescriptor(h.prototype,"confirmDelete"),h.prototype),(0,i.default)(h.prototype,"toggleArchive",[c.action],Object.getOwnPropertyDescriptor(h.prototype,"toggleArchive"),h.prototype),(0,i.default)(h.prototype,"toggleRead",[c.action],Object.getOwnPropertyDescriptor(h.prototype,"toggleRead"),h.prototype),h)
e.default=M;(0,r.setComponentTemplate)(w,M)}))
define("msg-ui/components/primitives/event-listitem-actions",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@ember/object","@ember/service","global-utils/utils/is-browser","@glimmer/component","@glimmer/tracking","ember-lifeline","msg-shared/utils/file-meta","global-utils/utils/file-size-formatter"],(function(e,t,n,i,s,r,o,a,l,c,m,d,u,p,g){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var h,f,b,y,v,_,w,M,k,C
const T=(0,o.createTemplateFactory)({id:"t5H736qv",block:'[[[11,0],[16,0,[28,[37,0],["msg-s-event-listitem__message-bubble",[52,[30,0,["isFocused"]]," msg-s-event-listitem__message-bubble--is-focused"]," ",[30,1]],null]],[17,2],[4,[38,2],["mouseenter",[30,0,["toggleActionsOn"]]],null],[4,[38,2],["focus",[30,0,["toggleActionsOn"]]],null],[4,[38,2],["mouseleave",[30,0,["toggleActionsOff"]]],null],[4,[38,2],["blur",[30,0,["toggleActionsOff"]]],null],[12],[1,"\\n"],[41,[28,[37,3],[[30,0,["showActions"]],[30,0,["isFocused"]]],null],[[[41,[30,3],[[[41,[30,4],[[[41,[30,5],[[[1,"          "],[11,0],[24,0,"msg-s-event-listitem__actions-container artdeco-card"],[4,[38,4],[[30,6]],[["interactionType"],["HOVER"]]],[12],[1,"\\n            "],[8,[39,5],null,[["@bundle"],["msg-reactions"]],[["default"],[[[[1,"\\n"],[41,[30,7,["state","fulfilled"]],[[[1,"                "],[8,[39,6],null,[["@event","@isOverlay","@onEmojiHoverableShow","@onEmojiHoverableHide","@hideAllActionMenus","@hideOptionsMenu","@setMessageFocusState","@focusIn"],[[30,8],[30,9],[30,10],[30,11],[30,0,["hideAllActionMenus"]],[28,[37,7],[[30,0],"isOptionMenuOpen",false],null],[28,[37,7],[[30,0],"isFocused"],null],[28,[37,7],[[30,0],"isFocused",true],null]]],null],[1,"\\n"]],[]],null],[1,"            "]],[7]]]]],[1,"\\n\\n"],[1,"            "],[8,[39,8],[[16,"aria-label",[28,[37,9],["a11y_message_options","msg-ui/components/primitives/event-listitem-actions"],[["senderName","messageBody"],[[30,8,["from","familiarName"]],[30,8,["eventContent","attributedBody","text"]]]]]]],[["@class","@justification","@placement","@isOpen","@onVisibilityChange","@focusIn","@focusOut"],["msg-s-event-listitem__reactions-options-ellipsis","right",[30,0,["dropDirection"]],[30,0,["isOptionMenuOpen"]],[28,[37,7],[[30,0],"isOptionMenuOpen"],null],[28,[37,7],[[30,0],"isFocused",true],null],[30,0,["hideAllActionMenus"]]]],[["default"],[[[[1,"\\n              "],[8,[30,12,["dropdown-trigger"]],[[24,"data-control-name","attempt_forward"]],[["@class","@title","@onClick","@onKeyDown"],["msg-s-event-listitem__options-trigger",[28,[37,9],["a11y_forward_message","msg-ui/components/primitives/event-listitem-actions"],[["senderName"],[[30,0,["event","from","familiarName"]]]]],[30,0,["setupDropMenu"]],[30,0,["setupDropMenu"]]]],[["default"],[[[[1,"\\n                "],[1,[28,[35,10],null,[["a11y-text","class","size","type"],[[28,[37,9],["a11y_message_options","msg-ui/components/primitives/event-listitem-actions"],[["senderName","messageBody"],[[30,0,["event","from","familiarName"]],[30,0,["event","eventContent","attributedBody","text"]]]]],"msg-s-event-listitem__options-trigger-icon","small","ellipsis-horizontal-icon"]]]],[1,"\\n              "]],[]]]]],[1,"\\n              "],[10,0],[14,0,"msg-s-event-listitem__options-content"],[12],[1,"\\n                "],[8,[30,12,["dropdown-content"]],null,[["@arrowDir"],["right"]],[["default"],[[[[1,"\\n                  "],[10,"ul"],[12],[1,"\\n                    "],[10,"li"],[12],[1,"\\n                      "],[8,[39,11],[[24,"data-control-name","forward_to_message"]],[["@itemSelected"],[[28,[37,12],[[30,0,["forwardAttachment"]],[30,3]],null]]],[["default"],[[[[1,"\\n                        "],[1,[28,[35,9],["i18n_forward_via_LI","msg-ui/components/primitives/event-listitem-actions"],null]],[1,"\\n                      "]],[]]]]],[1,"\\n                    "],[13],[1,"\\n                    "],[10,"li"],[12],[1,"\\n                      "],[8,[39,11],[[24,"data-control-name","forward_to_email"]],[["@itemSelected"],[[30,0,["forwardViaEmail"]]]],[["default"],[[[[1,"\\n                        "],[1,[28,[35,9],["i18n_forward_via_email","msg-ui/components/primitives/event-listitem-actions"],null]],[1,"\\n                      "]],[]]]]],[1,"\\n                    "],[13],[1,"\\n"],[41,[30,13],[[[1,"                      "],[10,"li"],[12],[1,"\\n                        "],[8,[39,11],null,[["@itemSelected"],[[28,[37,12],[[30,14],true],null]]],[["default"],[[[[1,"\\n                          "],[1,[28,[35,9],["i18n_delete_message","msg-ui/components/primitives/event-listitem-actions"],null]],[1,"\\n                        "]],[]]]]],[1,"\\n                      "],[13],[1,"\\n"],[41,[30,15],[[[1,"                        "],[10,"li"],[12],[1,"\\n                          "],[8,[39,11],null,[["@itemSelected"],[[28,[37,12],[[30,15],[30,8,["eventContent","attributedBody"]],[30,8]],null]]],[["default"],[[[[1,"\\n                            "],[1,[28,[35,9],["i18n_edit_message","msg-ui/components/primitives/event-listitem-actions"],null]],[1,"\\n                          "]],[]]]]],[1,"\\n                        "],[13],[1,"\\n"]],[]],null]],[]],null],[1,"                  "],[13],[1,"\\n                "]],[]]]]],[1,"\\n              "],[13],[1,"\\n            "]],[12]]]]],[1,"\\n          "],[13],[1,"\\n"]],[]],[[[1,"          "],[10,0],[14,0,"msg-s-event-listitem__forward-arrow-common msg-s-event-listitem__forward-arrow-backer"],[12],[13],[1,"\\n          "],[11,"button"],[24,0,"msg-s-event-listitem__forward-arrow-common msg-s-event-listitem__forward-arrow artdeco-card"],[16,"title",[28,[37,9],["i18n_forward_attachment_a11y","msg-ui/components/primitives/event-listitem-actions"],[["filename","senderName"],[[30,0,["filename"]],[30,8,["from","familiarName"]]]]]],[24,4,"button"],[4,[38,2],["click",[28,[37,12],[[30,0,["forwardAttachment"]],[30,3]],null]],null],[12],[1,"\\n            "],[1,[28,[35,10],null,[["type","class","size","a11y-text"],["forward-icon","msg-s-event-listitem__forward-icon","small",[28,[37,9],["i18n_forward_attachment_a11y","msg-ui/components/primitives/event-listitem-actions"],[["filename","senderName"],[[30,0,["filename"]],[30,8,["from","familiarName"]]]]]]]]],[1,"\\n          "],[13],[1,"\\n"]],[]]]],[]],[[[1,"        "],[11,"button"],[16,0,[29,["msg-s-event-listitem__forward-attachment\\n            ",[52,[30,0,["isImage"]],"msg-s-event-listitem__forward-attachment--image","msg-s-event-listitem__forward-attachment--file"],"\\n            "]]],[24,4,"button"],[4,[38,2],["click",[28,[37,12],[[30,0,["forwardAttachment"]],[30,3]],null]],null],[12],[1,"\\n          "],[1,[28,[35,10],null,[["type","size","a11y-text"],["forward-icon","small",[28,[37,9],["i18n_forward_attachment_a11y","msg-ui/components/primitives/event-listitem-actions"],[["filename","senderName"],[[30,0,["filename"]],[30,8,["from","familiarName"]]]]]]]]],[1,"\\n        "],[13],[1,"\\n"]],[]]]],[]],[[[41,[30,5],[[[1,"        "],[11,0],[24,0,"msg-s-event-listitem__actions-container artdeco-card"],[4,[38,4],[[30,6]],[["interactionType"],["HOVER"]]],[12],[1,"\\n          "],[8,[39,5],null,[["@bundle"],["msg-reactions"]],[["default"],[[[[1,"\\n"],[41,[30,16,["state","fulfilled"]],[[[1,"              "],[8,[39,6],null,[["@event","@isOverlay","@onEmojiHoverableShow","@onEmojiHoverableHide","@hideAllActionMenus","@hideOptionsMenu","@setMessageFocusState","@focusIn"],[[30,8],[30,9],[30,10],[30,11],[30,0,["hideAllActionMenus"]],[28,[37,7],[[30,0],"isOptionMenuOpen",false],null],[28,[37,7],[[30,0],"isFocused"],null],[28,[37,7],[[30,0],"isFocused",true],null]]],null],[1,"\\n"]],[]],null],[1,"          "]],[16]]]]],[1,"\\n\\n"],[41,[28,[37,3],[[30,4],[30,13],[30,17]],null],[[[1,"            "],[8,[39,8],[[16,"aria-label",[28,[37,9],["a11y_message_options","msg-ui/components/primitives/event-listitem-actions"],[["senderName","messageBody"],[[30,8,["from","familiarName"]],[30,8,["eventContent","attributedBody","text"]]]]]]],[["@class","@justification","@placement","@isOpen","@onVisibilityChange","@focusIn","@focusOut"],["msg-s-event-listitem__reactions-options-ellipsis","right",[30,0,["dropDirection"]],[30,0,["isOptionMenuOpen"]],[28,[37,7],[[30,0],"isOptionMenuOpen"],null],[28,[37,7],[[30,0],"isFocused",true],null],[30,0,["hideAllActionMenus"]]]],[["default"],[[[[1,"\\n              "],[8,[30,18,["dropdown-trigger"]],[[24,"data-control-name","attempt_forward"]],[["@class","@title","@onClick","@onKeyDown"],["msg-s-event-listitem__options-trigger",[28,[37,9],["a11y_forward_message","msg-ui/components/primitives/event-listitem-actions"],[["senderName"],[[30,0,["event","from","familiarName"]]]]],[30,0,["setupDropMenu"]],[30,0,["setupDropMenu"]]]],[["default"],[[[[1,"\\n                "],[1,[28,[35,10],null,[["a11y-text","class","size","type"],[[28,[37,9],["a11y_message_options","msg-ui/components/primitives/event-listitem-actions"],[["senderName","messageBody"],[[30,0,["event","from","familiarName"]],[30,0,["event","eventContent","attributedBody","text"]]]]],"msg-s-event-listitem__options-trigger-icon","small","ellipsis-horizontal-icon"]]]],[1,"\\n              "]],[]]]]],[1,"\\n              "],[10,0],[14,0,"msg-s-event-listitem__options-content"],[12],[1,"\\n                "],[8,[30,18,["dropdown-content"]],null,[["@arrowDir"],["right"]],[["default"],[[[[1,"\\n                  "],[10,"ul"],[12],[1,"\\n"],[41,[30,4],[[[1,"                      "],[10,"li"],[12],[1,"\\n                        "],[8,[39,11],[[24,"data-control-name","forward_to_message"]],[["@itemSelected"],[[30,0,["forwardViaMessage"]]]],[["default"],[[[[1,"\\n                          "],[1,[28,[35,9],["i18n_forward_via_LI","msg-ui/components/primitives/event-listitem-actions"],null]],[1,"\\n                        "]],[]]]]],[1,"\\n                      "],[13],[1,"\\n                      "],[10,"li"],[12],[1,"\\n                        "],[8,[39,11],[[24,"data-control-name","forward_to_email"]],[["@itemSelected"],[[30,0,["forwardViaEmail"]]]],[["default"],[[[[1,"\\n                          "],[1,[28,[35,9],["i18n_forward_via_email","msg-ui/components/primitives/event-listitem-actions"],null]],[1,"\\n                        "]],[]]]]],[1,"\\n                      "],[13],[1,"\\n"]],[]],null],[41,[28,[37,3],[[30,17],[30,13]],null],[[[1,"                      "],[10,"li"],[12],[1,"\\n                        "],[8,[39,11],null,[["@itemSelected"],[[28,[37,12],[[30,14],true],null]]],[["default"],[[[[1,"\\n                          "],[1,[28,[35,9],["i18n_delete_message","msg-ui/components/primitives/event-listitem-actions"],null]],[1,"\\n                        "]],[]]]]],[1,"\\n                      "],[13],[1,"\\n"]],[]],null],[41,[30,13],[[[1,"                      "],[10,"li"],[12],[1,"\\n                        "],[8,[39,11],null,[["@itemSelected"],[[28,[37,12],[[30,15],[30,8,["eventContent","attributedBody"]],[30,8]],null]]],[["default"],[[[[1,"\\n                          "],[1,[28,[35,9],["i18n_edit_message","msg-ui/components/primitives/event-listitem-actions"],null]],[1,"\\n                        "]],[]]]]],[1,"\\n                      "],[13],[1,"\\n"]],[]],null],[1,"                  "],[13],[1,"\\n                "]],[]]]]],[1,"\\n              "],[13],[1,"\\n            "]],[18]]]]],[1,"\\n"]],[]],null],[1,"        "],[13],[1,"\\n"]],[]],[[[41,[30,4],[[[1,"          "],[10,0],[14,0,"msg-s-event-listitem__forward-arrow-common msg-s-event-listitem__forward-arrow-backer"],[12],[13],[1,"\\n          "],[8,[39,8],[[16,"aria-label",[28,[37,9],["a11y_message_options","msg-ui/components/primitives/event-listitem-actions"],[["senderName","messageBody"],[[30,0,["event","from","familiarName"]],[30,0,["event","eventContent","attributedBody","text"]]]]]]],[["@class","@justification","@placement","@isOpen","@onVisibilityChange","@focusIn","@focusOut"],["msg-s-event-listitem__forward-arrow-common msg-s-event-listitem__options-ellipsis artdeco-card","right",[30,0,["dropDirection"]],[30,0,["isOptionMenuOpen"]],[28,[37,7],[[30,0],"isOptionMenuOpen"],null],[28,[37,7],[[30,0],"isFocused",true],null],[28,[37,7],[[30,0],"isFocused",false],null]]],[["default"],[[[[1,"\\n            "],[8,[30,19,["dropdown-trigger"]],[[24,"data-control-name","attempt_forward"]],[["@class","@title","@onClick","@onKeyDown"],["msg-s-event-listitem__options-trigger",[28,[37,9],["a11y_forward_message","msg-ui/components/primitives/event-listitem-actions"],[["senderName"],[[30,0,["event","from","familiarName"]]]]],[30,0,["setupDropMenu"]],[30,0,["setupDropMenu"]]]],[["default"],[[[[1,"\\n              "],[1,[28,[35,10],null,[["a11y-text","class","size","type"],[[28,[37,9],["a11y_message_options","msg-ui/components/primitives/event-listitem-actions"],[["senderName","messageBody"],[[30,0,["event","from","familiarName"]],[30,0,["event","eventContent","attributedBody","text"]]]]],"msg-s-event-listitem__options-trigger-icon","small","ellipsis-horizontal-icon"]]]],[1,"\\n            "]],[]]]]],[1,"\\n            "],[10,0],[14,0,"msg-s-event-listitem__options-content"],[12],[1,"\\n              "],[8,[30,19,["dropdown-content"]],null,[["@arrowDir"],["right"]],[["default"],[[[[1,"\\n                "],[10,"ul"],[12],[1,"\\n                  "],[10,"li"],[12],[1,"\\n                    "],[8,[39,11],[[24,"data-control-name","forward_to_message"]],[["@itemSelected"],[[30,0,["forwardViaMessage"]]]],[["default"],[[[[1,"\\n                      "],[1,[28,[35,9],["i18n_forward_via_LI","msg-ui/components/primitives/event-listitem-actions"],null]],[1,"\\n                    "]],[]]]]],[1,"\\n                  "],[13],[1,"\\n                  "],[10,"li"],[12],[1,"\\n                    "],[8,[39,11],[[24,"data-control-name","forward_to_email"]],[["@itemSelected"],[[30,0,["forwardViaEmail"]]]],[["default"],[[[[1,"\\n                      "],[1,[28,[35,9],["i18n_forward_via_email","msg-ui/components/primitives/event-listitem-actions"],null]],[1,"\\n                    "]],[]]]]],[1,"\\n                  "],[13],[1,"\\n"],[41,[30,13],[[[1,"                    "],[10,"li"],[12],[1,"\\n                      "],[8,[39,11],null,[["@itemSelected"],[[28,[37,12],[[30,14],true],null]]],[["default"],[[[[1,"\\n                        "],[1,[28,[35,9],["i18n_delete_message","msg-ui/components/primitives/event-listitem-actions"],null]],[1,"\\n                      "]],[]]]]],[1,"\\n                    "],[13],[1,"\\n                    "],[10,"li"],[12],[1,"\\n                      "],[8,[39,11],null,[["@itemSelected"],[[28,[37,12],[[30,15],[30,8,["eventContent","attributedBody"]],[30,8]],null]]],[["default"],[[[[1,"\\n                        "],[1,[28,[35,9],["i18n_edit_message","msg-ui/components/primitives/event-listitem-actions"],null]],[1,"\\n                      "]],[]]]]],[1,"\\n                    "],[13],[1,"\\n"]],[]],null],[1,"                "],[13],[1,"\\n              "]],[]]]]],[1,"\\n            "],[13],[1,"\\n          "]],[19]]]]],[1,"\\n"]],[]],null]],[]]]],[]]]],[]],null],[1,"\\n  "],[18,20,null],[1,"\\n"],[13]],["@classNames","&attrs","@attachment","@enableMsgFwd","@showSendReactionControls","@reactionsHoverTrackingName","assetLoader","@event","@isOverlay","@onEmojiHoverableShow","@onEmojiHoverableHide","dropdown","@shouldShowEditDelete","@deleteMessageEventModalState","@showMessageEditForm","assetLoader","@shouldShowDelete","dropdown","dropdown","&default"],false,["concat","if","on","global-helpers@or","ember-cli-pemberly-tracking@track-interaction","asset-loader@deferred-asset-loader","msg-reactions@emoji/emoji-popular-list","ember-set-helper@set","artdeco-dropdown@artdeco-dropdown","t","artdeco-icons-web@li-icon","artdeco-dropdown@artdeco-dropdown-item","fn","yield"]]',moduleName:"msg-ui/components/primitives/event-listitem-actions.hbs",isStrictMode:!1})
let S=(h=(0,l.inject)("msg-overlay-manager@msg-overlay-manager"),f=(0,l.inject)("i18n"),b=(0,l.inject)("global-services@window"),y=class extends m.default{constructor(){super(...arguments);(0,t.default)(this,"msgOverlay",v,this);(0,t.default)(this,"i18n",_,this);(0,t.default)(this,"windowService",w,this);(0,t.default)(this,"isOptionMenuOpen",M,this);(0,n.default)(this,"dropDirection","top");(0,t.default)(this,"showActions",k,this);(0,t.default)(this,"isFocused",C,this)}willDestroy(){(0,u.runDisposables)(this)}toggleActionsOn(){this.toggleActionsOnTask=(0,u.runTask)(this,(()=>{this.isDestroying||(this.showActions=!0)}),300)}toggleActionsOff(){this.toggleActionsOnTask&&(0,u.cancelTask)(this,this.toggleActionsOnTask)
this.showActions=!1}_closeOptionDropdown(){this.isOptionMenuOpen=!1}_showRecallErrorToast(){const e=this.i18n.lookupTranslation("components/msg-ui@primitives/event-listitem-actions","i18n_recall_generic_error")()
this.persistentToastManager.error({message:e})}setupDropMenu(e){const t=this.dropDirection,n=e.target.closest(".msg-s-message-list"),i=e.target,s=.5*n.offsetHeight>i.getBoundingClientRect().y-n.getBoundingClientRect().y?"bottom":"top"
s!==t&&(0,a.set)(this,"dropDirection",s)}forwardViaMessage(){this.msgOverlay.triggerNewConversation({forwardedEvent:this.args.event})
this._closeOptionDropdown()}forwardViaEmail(){const{event:e}=this.args,t=jSecure.htmlUnencode(this.i18n.lookupTranslation("components/msg-ui@primitives/event-listitem-actions","INMAIL"===(0,a.get)(e,"subtype")?"i18n_forwarded_inmail_message_preamble":"i18n_forwarded_message_preamble")()),n=(0,a.get)(e,"from.fullName"),i=`linkedin.com/in/${(0,a.get)(e,"from.miniProfile.publicIdentifier")}`,s=jSecure.htmlUnencode(this.i18n.lookupTranslation("components/msg-ui@primitives/event-listitem-actions","i18n_forwarded_message_header")([{originalSender:n,originalSenderProfileURL:i}])),r=(0,a.get)(e,"eventContent.subject"),o=(0,a.get)(e,"eventContent.attributedBody.text")
let l="mailto:?",c=`${t}\r\n\r\n${s}\r\n\r\n`
if("INMAIL"===(0,a.get)(e,"subtype")&&r){l+=`subject=${encodeURIComponent(`FWD: ${r}`)}&`
c+=`${r}\r\n\r\n`}c+=o
l+=`body=${encodeURIComponent(c)}`
this.windowService.open(l,"")
this._closeOptionDropdown()}forwardAttachment(e){const t={};(0,a.set)(e,"messageReference",(0,a.get)(this,"args.event.entityUrn"))
void 0===(0,a.get)(e,"isImage")&&(t.isImage=(0,p.isSupportedImageFile)((0,a.get)(e,"mediaType"),(0,a.get)(e,"name")));(0,a.get)(e,"mediaTypeExtension")||(t.mediaTypeExtension=(0,p.mediaTypeExtension)((0,a.get)(e,"mediaType")));(0,a.get)(e,"formattedSize")||(t.formattedSize=(0,g.default)((0,a.get)(e,"byteSize"),this.i18n));(0,a.setProperties)(e,t)
const n={forwardedAttachments:[e]}
this.msgOverlay.triggerNewConversation(n)}hideAllActionMenus(e){if(c.default){const t=document.querySelector(".msg-s-event-listitem__message-bubble--is-focused .msg-s-event-listitem__actions-container")
if(e&&e.target&&t&&t.contains(e.target)&&e.relatedTarget&&t.contains(e.relatedTarget))return
this.isOptionMenuOpen=!1
this.isFocused=!1}}},v=(0,i.default)(y.prototype,"msgOverlay",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=(0,i.default)(y.prototype,"i18n",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=(0,i.default)(y.prototype,"windowService",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=(0,i.default)(y.prototype,"isOptionMenuOpen",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),k=(0,i.default)(y.prototype,"showActions",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),C=(0,i.default)(y.prototype,"isFocused",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,i.default)(y.prototype,"toggleActionsOn",[a.action],Object.getOwnPropertyDescriptor(y.prototype,"toggleActionsOn"),y.prototype),(0,i.default)(y.prototype,"toggleActionsOff",[a.action],Object.getOwnPropertyDescriptor(y.prototype,"toggleActionsOff"),y.prototype),(0,i.default)(y.prototype,"setupDropMenu",[a.action],Object.getOwnPropertyDescriptor(y.prototype,"setupDropMenu"),y.prototype),(0,i.default)(y.prototype,"forwardViaMessage",[a.action],Object.getOwnPropertyDescriptor(y.prototype,"forwardViaMessage"),y.prototype),(0,i.default)(y.prototype,"forwardViaEmail",[a.action],Object.getOwnPropertyDescriptor(y.prototype,"forwardViaEmail"),y.prototype),(0,i.default)(y.prototype,"forwardAttachment",[a.action],Object.getOwnPropertyDescriptor(y.prototype,"forwardAttachment"),y.prototype),(0,i.default)(y.prototype,"hideAllActionMenus",[a.action],Object.getOwnPropertyDescriptor(y.prototype,"hideAllActionMenus"),y.prototype),y)
e.default=S;(0,r.setComponentTemplate)(T,S)}))
define("msg-ui/components/primitives/event-listitem-advertiser-avatar",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const s=(0,n.createTemplateFactory)({id:"L4nehWts",block:'[[[11,0],[17,1],[12],[1,"\\n"],[41,[30,2],[[[1,"    "],[8,[39,1],null,[["@route","@model"],["companies.company",[28,[37,2],[[30,3,["miniCompany","entityUrn"]]],null]]],[["default"],[[[[1,"\\n      "],[8,[39,3],null,[["@image","@alt","@title","@class","@ghostType","@desiredWidth"],[[28,[37,4],[[30,3]],null],[30,3,["fullName"]],[30,3,["fullName"]],"msg-s-event-listitem__advertiser-profile-picture EntityPhoto-square-2",[52,[28,[37,5],[[30,3]],null],"company","person"],40]],null],[1,"\\n    "]],[]]]]],[1,"\\n"]],[]],[[[1,"    "],[8,[39,6],null,[["@image","@alt","@title","@class","@ghostType","@desiredWidth"],[[28,[37,4],[[30,3]],null],[30,3,["fullName"]],[30,3,["fullName"]],"msg-s-event-listitem__advertiser-profile-picture EntityPhoto-circle-2",[52,[28,[37,5],[[30,3]],null],"company","person"],40]],null],[1,"\\n"]],[]]],[13]],["&attrs","@isCompanySender","@sender"],false,["if","ember-engines@link-to-external","global-helpers@urn-to-id","ember-vector-images@lazy-background","msg-shared@get-member-or-company-picture","msg-shared@is-company-profile","ember-vector-images@lazy-image"]]',moduleName:"msg-ui/components/primitives/event-listitem-advertiser-avatar.hbs",isStrictMode:!1})
var r=(0,t.setComponentTemplate)(s,(0,i.default)())
e.default=r}))
define("msg-ui/components/primitives/event-listitem-avatar",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const s=(0,n.createTemplateFactory)({id:"eTKdt49U",block:'[[[8,[39,0],[[24,0,"msg-s-event-listitem__link"],[4,[38,1],["view_profile"],null]],[["@route","@model"],["profile.view",[30,1,["miniProfile","publicIdentifier"]]]],[["default"],[[[[1,"\\n  "],[10,1],[14,0,"a11y-text"],[12],[1,"\\n    "],[1,[28,[35,2],["i18n_view_profile_a11y","msg-ui/components/primitives/event-listitem-avatar"],[["firstName"],[[30,1,["firstName"]]]]]],[1,"\\n  "],[13],[1,"\\n"],[41,[30,2],[[[1,"    "],[8,[39,4],[[24,0,"msg-s-event-listitem__profile-picture"]],[["@alt","@title","@miniProfile","@size"],[[30,1,["fullName"]],[30,1,["fullName"]],[30,1,["miniProfile"]],[30,3]]],null],[1,"\\n"]],[]],[[[1,"    "],[8,[39,5],null,[["@image","@alt","@title","@class","@desiredWidth","@desiredHeight","@ghostType"],[[28,[37,6],[[30,1]],null],[30,1,["fullName"]],[30,1,["fullName"]],[28,[37,7],["msg-s-event-listitem__profile-picture EntityPhoto-circle-",[30,3]],null],100,100,[52,[28,[37,8],[[30,1]],null],"company","person"]]],null],[1,"\\n"]],[]]]],[]]]]]],["@sender","@showPresence","@size"],false,["ember-engines@link-to-external","ember-cli-pemberly-tracking@track-interaction","t","if","presence@entity-with-presence","ember-vector-images@lazy-image","msg-shared@get-member-or-company-picture","concat","msg-shared@is-company-profile"]]',moduleName:"msg-ui/components/primitives/event-listitem-avatar.hbs",isStrictMode:!1})
var r=(0,t.setComponentTemplate)(s,(0,i.default)())
e.default=r}))
define("msg-ui/components/primitives/event-listitem-system-event",["exports","@ember/component","@ember/template-factory","@ember/object","@glimmer/component"],(function(e,t,n,i,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const r=(0,n.createTemplateFactory)({id:"TYiCUN9z",block:'[[[10,2],[14,0,"t-12 t-black--light t-normal"],[12],[1,"\\n"],[41,[28,[37,1],[[30,1,["eventContent","messageBodyRenderFormat"]],"SYSTEM"],null],[[[1,"    "],[8,[39,2],null,[["@attributedText","@class","@tagName"],[[30,1,["eventContent","attributedBody"]],"msg-s-event-listitem__attributed-text--system","span"]],null],[1,"\\n"]],[]],[[[41,[28,[37,1],[[30,1,["subtype"]],"PARTICIPANT_CHANGE"],null],[[[41,[30,0,["isAddParticipantEvent"]],[[[41,[28,[37,1],[[30,1,["eventContent","addedParticipants","length"]],1],null],[[[1,"        "],[1,[52,[28,[37,3],[[30,0,["sender"]]],null],[28,[37,4],["i18n_you_added_single_participant_to_conversation","msg-ui/components/primitives/event-listitem-system-event"],[["usersName","addedUserName"],[[30,0,["sender","fullName"]],[28,[37,5],[[28,[37,6],[[30,1,["eventContent","addedParticipants"]]],null],"firstObject"],null]]]],[28,[37,4],["i18n_other_user_added_single_participant_to_conversation","msg-ui/components/primitives/event-listitem-system-event"],[["usersName","addedUserName"],[[30,0,["sender","fullName"]],[28,[37,5],[[28,[37,6],[[30,1,["eventContent","addedParticipants"]]],null],"firstObject"],null]]]]]],[1,"\\n"]],[]],[[[1,"        "],[1,[52,[28,[37,3],[[30,0,["sender"]]],null],[28,[37,4],["i18n_you_added_multiple_participants_to_conversation","msg-ui/components/primitives/event-listitem-system-event"],[["usersName","addedUserNames"],[[30,0,["sender","fullName"]],[28,[37,6],[[30,1,["eventContent","addedParticipants"]]],null]]]],[28,[37,4],["i18n_other_user_added_multiple_participants_to_conversation","msg-ui/components/primitives/event-listitem-system-event"],[["usersName","addedUserNames"],[[30,0,["sender","fullName"]],[28,[37,6],[[30,1,["eventContent","addedParticipants"]]],null]]]]]],[1,"\\n"]],[]]]],[]],[[[41,[30,0,["isSingleParticipantJoinEvent"]],[[[1,"      "],[1,[52,[28,[37,3],[[30,0,["sender"]]],null],[28,[37,4],["i18n_you_joined_conversation","msg-ui/components/primitives/event-listitem-system-event"],[["joinedUserName"],[[28,[37,5],[[28,[37,6],[[30,1,["eventContent","addedParticipants"]]],null],"firstObject"],null]]]],[28,[37,4],["i18n_other_user_joined_conversation","msg-ui/components/primitives/event-listitem-system-event"],[["joinedUserName"],[[28,[37,5],[[28,[37,6],[[30,1,["eventContent","addedParticipants"]]],null],"firstObject"],null]]]]]],[1,"\\n"]],[]],[[[41,[30,0,["participantLeft"]],[[[41,[28,[37,1],[[30,1,["eventContent","removedParticipants","length"]],1],null],[[[1,"        "],[1,[52,[28,[37,3],[[30,0,["sender"]]],null],[28,[37,4],["i18n_you_left_conversation","msg-ui/components/primitives/event-listitem-system-event"],[["removedUserName"],[[28,[37,5],[[28,[37,6],[[30,1,["eventContent","removedParticipants"]]],null],"firstObject"],null]]]],[28,[37,4],["i18n_single_other_user_left_conversation","msg-ui/components/primitives/event-listitem-system-event"],[["removedUserName"],[[28,[37,5],[[28,[37,6],[[30,1,["eventContent","removedParticipants"]]],null],"firstObject"],null]]]]]],[1,"\\n"]],[]],[[[1,"        "],[1,[28,[35,4],["i18n_multiple_other_users_left_conversation","msg-ui/components/primitives/event-listitem-system-event"],[["removedUserNames"],[[28,[37,6],[[30,1,["eventContent","removedParticipants"]]],null]]]]],[1,"\\n"]],[]]]],[]],[[[41,[28,[37,3],[[30,0,["removedUser"]]],null],[[[1,"      "],[1,[28,[35,4],["i18n_you_were_removed","msg-ui/components/primitives/event-listitem-system-event"],[["removersName"],[[30,0,["sender","name"]]]]]],[1,"\\n"]],[]],[[[41,[28,[37,1],[[30,1,["eventContent","removedParticipants","length"]],1],null],[[[1,"        "],[1,[52,[28,[37,3],[[30,0,["sender"]]],null],[28,[37,4],["i18n_you_removed_single_participant_from_conversation","msg-ui/components/primitives/event-listitem-system-event"],[["removersName","removedUserName"],[[30,0,["sender","name"]],[28,[37,5],[[28,[37,6],[[30,1,["eventContent","removedParticipants"]]],null],"firstObject"],null]]]],[28,[37,4],["i18n_other_user_removedd_single_participant_from_conversation","msg-ui/components/primitives/event-listitem-system-event"],[["removersName","removedUserName"],[[30,0,["sender","name"]],[28,[37,5],[[28,[37,6],[[30,1,["eventContent","removedParticipants"]]],null],"firstObject"],null]]]]]],[1,"\\n"]],[]],[[[1,"        "],[1,[52,[28,[37,3],[[30,0,["sender"]]],null],[28,[37,4],["i18n_you_removed_multiple_participants_from_conversation","msg-ui/components/primitives/event-listitem-system-event"],[["removersName","removedUserNames"],[[30,0,["sender","fullName"]],[28,[37,6],[[30,1,["eventContent","removedParticipants"]]],null]]]],[28,[37,4],["i18n_other_user_removed_multiple_participants_from_conversation","msg-ui/components/primitives/event-listitem-system-event"],[["removersName","removedUserNames"],[[30,0,["sender","fullName"]],[28,[37,6],[[30,1,["eventContent","removedParticipants"]]],null]]]]]],[1,"\\n"]],[]]],[1,"    "]],[]]]],[]]]],[]]]],[]]],[1,"  "]],[]],null]],[]]],[13]],["@event"],false,["if","global-helpers@eq","rich-text@attributed-text","msg-shared@is-current-user","t","get","msg-ui@extract-participant-names"]]',moduleName:"msg-ui/components/primitives/event-listitem-system-event.hbs",isStrictMode:!1})
class o extends s.default{get sender(){return(0,i.get)(this.args,"event.from")}get addedUsers(){return(0,i.get)(this.args,"event.eventContent.addedParticipants")}get isSingleParticipantJoinEvent(){return this.addedUsers&&1===this.addedUsers.length&&(0,i.get)(this.sender,"entityUrn")===(0,i.get)(this.addedUsers,"firstObject.entityUrn")}get removedUser(){return(0,i.get)(this.args,"event.eventContent.removedParticipants.firstObject")}get isAddParticipantEvent(){return this.addedUsers&&!!this.addedUsers.length&&!this.isSingleParticipantJoinEvent}get participantLeft(){return this.removedUser&&(0,i.get)(this.sender,"entityUrn")===(0,i.get)(this.removedUser,"entityUrn")}}e.default=o;(0,t.setComponentTemplate)(r,o)}))
define("msg-ui/components/primitives/event-listitem-user-event",["exports","@babel/runtime/helpers/esm/objectSpread2","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@ember/object","@glimmer/component","@ember/debug","@ember/service","global-utils/utils/url","global-utils/utils/file-size-formatter","msg-data/utils/spinmail/sponsored-action-tracking","msg-shared/utils/constants","msg-shared/utils/file-meta","msg-shared/helpers/is-current-user","msg-ui/utils/virtual-meeting-constants","msg-shared/utils/decorate-attributed-body","@glimmer/tracking","msg-shared/helpers/is-sponsored-conversation","msg-ui/utils/marketplace-project-card-constants"],(function(e,t,n,i,s,r,o,a,l,c,m,d,u,p,g,h,f,b,y,v,_,w,M){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var k,C,T,S,x,E,P,D,I,O,A,j,R,N,F,z,L,U,B,H,q,V,W,G,K,$,Q,Y
const J=(0,a.createTemplateFactory)({id:"GGOEsnCd",block:'[[[41,[30,1,["eventContent","customContent","group","groupName"]],[[[1,"  "],[10,2],[14,0,"msg-s-event-listitem--system t-12 t-black--light t-normal"],[12],[1,"\\n    "],[1,[28,[35,1],["i18n_users_of_linkedin_group","msg-ui/components/primitives/event-listitem-user-event"],[["group"],[[30,1,["eventContent","customContent","group","groupName"]]]]]],[1,"\\n  "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,1,["eventContent","recalledAt"]],[[[1,"  "],[10,2],[14,0,"msg-s-event-listitem__body--recalled msg-s-event-listitem__body t-14 t-black--light t-normal"],[12],[1,"\\n    "],[1,[28,[35,1],["i18n_message_deleted","msg-ui/components/primitives/event-listitem-user-event"],null]],[1,"\\n  "],[13],[1,"\\n"]],[]],[[[41,[30,1,["eventContent","customContent","media","gif"]],[[[41,[30,0,["showSendReactionControls"]],[[[1,"    "],[8,[39,2],null,[["@classNames","@deleteMessageEventModalState","@enableMsgFwd","@event","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@shouldShowEditDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName"],["msg-s-event-listitem__message-bubble--msg-actions-enabled",[28,[37,3],[[30,0],"isDeleteMessageEventModalOpen"],null],false,[30,1],[30,2],[30,3],[30,4],[30,5],false,false,[30,0,["showSendReactionControls"]],[30,0,["reactionsHoverTrackingName"]]]],[["default"],[[[[1,"\\n      "],[8,[39,4],null,[["@shouldShowMessageSendingIndicator","@messageStatus"],[[30,0,["shouldShowMessageSendingIndicator"]],[30,0,["messageStatus"]]]],[["default"],[[[[1,"\\n        "],[8,[39,5],null,[["@bundle"],["tenor-gif"]],[["default"],[[[[1,"\\n"],[41,[30,6,["state","fulfilled"]],[[[1,"            "],[8,[39,6],[[24,0,"msg-s-event-listitem__gif"]],[["@imgClass","@maxWidth","@mediaObject"],["msg-s-event-listitem__gif-img-class",220,[30,1,["eventContent","customContent","media","gif"]]]],null],[1,"\\n"]],[]],null],[1,"        "]],[6]]]]],[1,"\\n      "]],[]]]]],[1,"\\n    "]],[]]]]],[1,"\\n\\n"],[41,[30,0,["showReactionSummaries"]],[[[1,"      "],[8,[39,5],null,[["@bundle"],["msg-reactions"]],[["default"],[[[[1,"\\n"],[41,[30,7,["state","fulfilled"]],[[[1,"          "],[8,[39,7],null,[["@event","@isOverlay"],[[30,1],[30,2]]],null],[1,"\\n"]],[]],null],[1,"      "]],[7]]]]],[1,"\\n"]],[]],null]],[]],[[[1,"    "],[8,[39,5],null,[["@bundle"],["tenor-gif"]],[["default"],[[[[1,"\\n"],[41,[30,8,["state","fulfilled"]],[[[1,"        "],[8,[39,6],[[24,0,"msg-s-event-listitem__gif"]],[["@imgClass","@maxWidth","@mediaObject"],["msg-s-event-listitem__gif-img-class",220,[30,1,["eventContent","customContent","media","gif"]]]],null],[1,"\\n"]],[]],null],[1,"    "]],[8]]]]],[1,"\\n"]],[]]]],[]],[[[41,[30,1,["eventContent","sticker"]],[[[1,"  "],[8,[39,8],null,[["@image","@class","@alt","@desiredWidth"],[[30,1,["eventContent","sticker","image"]],"msg-s-event-listitem__sticker",[28,[37,1],["i18n_sticker","msg-ui/components/primitives/event-listitem-user-event"],[["senderName"],[[30,1,["from","familiarName"]]]]],150]],null],[1,"\\n"]],[]],[[[41,[30,0,["locationSharePreview"]],[[[41,[30,0,["showSendReactionControls"]],[[[1,"    "],[8,[39,2],null,[["@classNames","@deleteMessageEventModalState","@enableMsgFwd","@event","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@shouldShowEditDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName"],["msg-s-event-listitem__message-bubble--msg-actions-enabled",[28,[37,3],[[30,0],"isDeleteMessageEventModalOpen"],null],false,[30,1],[30,2],[30,3],[30,4],[30,5],false,false,[30,0,["showSendReactionControls"]],[30,0,["reactionsHoverTrackingName"]]]],[["default"],[[[[1,"\\n      "],[10,0],[14,0,"msg-s-event-listitem__url-preview-wrapper mv1"],[12],[1,"\\n        "],[8,[39,9],[[4,[38,10],["open_sent_location"],null]],[["@href","@target","@class"],[[30,0,["urlToUnroll"]],"_blank","msg-s-event-listitem__url-preview display-flex flex-column"]],[["default"],[[[[1,"\\n          "],[10,0],[14,0,"msg-s-event-listitem__url-preview-img-wrapper msg-s-event-listitem__url-preview-img-wrapper--location"],[12],[1,"\\n"],[1,"            "],[10,0],[14,0,"msg-s-event-listitem__url-preview-img"],[15,5,[28,[37,11],null,[["background-image"],[[28,[37,12],["url(",[30,0,["locationSharePreview","imageUrl"]],")"],null]]]]],[12],[13],[1,"\\n            "],[10,1],[14,0,"a11y-text"],[12],[1,"\\n              "],[1,[28,[35,1],["i18n_bing_maps","msg-ui/components/primitives/event-listitem-user-event"],null]],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n          "],[10,"article"],[14,0,"msg-s-event-listitem__url-preview-description p2"],[12],[1,"\\n            "],[10,"h2"],[14,0,"msg-s-event-listitem__url-preview-headline t-14 t-black t-bold"],[12],[1,"\\n              "],[1,[30,0,["locationSharePreview","title"]]],[1,"\\n            "],[13],[1,"\\n            "],[10,"h3"],[14,0,"msg-s-event-listitem__url-preview-byline t-14 t-black--light t-normal"],[12],[1,"\\n              "],[1,[28,[35,1],["i18n_bing_maps","msg-ui/components/primitives/event-listitem-user-event"],null]],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n        "]],[]]]]],[1,"\\n      "],[13],[1,"\\n    "]],[]]]]],[1,"\\n\\n"],[41,[30,0,["showReactionSummaries"]],[[[1,"      "],[8,[39,5],null,[["@bundle"],["msg-reactions"]],[["default"],[[[[1,"\\n"],[41,[30,9,["state","fulfilled"]],[[[1,"          "],[8,[39,7],null,[["@event","@isOverlay"],[[30,1],[30,2]]],null],[1,"\\n"]],[]],null],[1,"      "]],[9]]]]],[1,"\\n"]],[]],null]],[]],[[[1,"    "],[10,0],[14,0,"msg-s-event-listitem__url-preview-wrapper mv1"],[12],[1,"\\n      "],[8,[39,9],[[4,[38,10],["open_sent_location"],null]],[["@href","@target","@class"],[[30,0,["urlToUnroll"]],"_blank","msg-s-event-listitem__url-preview display-flex flex-column"]],[["default"],[[[[1,"\\n        "],[10,0],[14,0,"msg-s-event-listitem__url-preview-img-wrapper msg-s-event-listitem__url-preview-img-wrapper--location"],[12],[1,"\\n"],[1,"          "],[10,0],[14,0,"msg-s-event-listitem__url-preview-img"],[15,5,[28,[37,11],null,[["background-image"],[[28,[37,12],["url(",[30,0,["locationSharePreview","imageUrl"]],")"],null]]]]],[12],[13],[1,"\\n          "],[10,1],[14,0,"a11y-text"],[12],[1,"\\n            "],[1,[28,[35,1],["i18n_bing_maps","msg-ui/components/primitives/event-listitem-user-event"],null]],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n        "],[10,"article"],[14,0,"msg-s-event-listitem__url-preview-description p2"],[12],[1,"\\n          "],[10,"h2"],[14,0,"msg-s-event-listitem__url-preview-headline t-14 t-black t-bold"],[12],[1,"\\n            "],[1,[30,0,["locationSharePreview","title"]]],[1,"\\n          "],[13],[1,"\\n          "],[10,"h3"],[14,0,"msg-s-event-listitem__url-preview-byline t-14 t-black--light t-normal"],[12],[1,"\\n            "],[1,[28,[35,1],["i18n_bing_maps","msg-ui/components/primitives/event-listitem-user-event"],null]],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n      "]],[]]]]],[1,"\\n    "],[13],[1,"\\n"]],[]]]],[]],[[[41,[30,0,["shouldObfuscateMessage"]],[[[41,[30,0,["showSendReactionControls"]],[[[1,"      "],[8,[39,2],null,[["@classNames","@deleteMessageEventModalState","@enableMsgFwd","@event","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@showMessageEditForm","@showSendReactionControls","@shouldShowEditDelete","@reactionsHoverTrackingName"],["msg-s-event-listitem__message-bubble--msg-actions-enabled",[28,[37,3],[[30,0],"isDeleteMessageEventModalOpen"],null],false,[30,1],[30,2],[30,3],[30,4],[30,5],false,[30,0,["showSendReactionControls"]],false,[30,0,["reactionsHoverTrackingName"]]]],[["default"],[[[[1,"\\n        "],[10,0],[14,0,"msg-s-event-listitem__obfuscated-message-card mt2 mr2 mb1 pv2 ph3 t-14"],[12],[1,"\\n          "],[1,[30,1,["obfuscatedMessageWarning","text"]]],[1,"\\n\\n          "],[11,"button"],[24,0,"t-14 t-black t-bold"],[16,"aria-label",[30,1,["viewObfuscatedMessageCTAText"]]],[24,4,"button"],[4,[38,10],["inline_warning_show"],null],[4,[38,13],["click",[30,0,["showObfuscatedMessage"]]],null],[12],[1,"\\n            "],[1,[30,1,["viewObfuscatedMessageCTAText"]]],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n      "]],[]]]]],[1,"\\n"]],[]],[[[1,"      "],[10,0],[14,0,"msg-s-event-listitem__obfuscated-message-card mt2 mr2 mb1 pv2 ph3 t-14"],[12],[1,"\\n        "],[1,[30,1,["obfuscatedMessageWarning","text"]]],[1,"\\n\\n        "],[11,"button"],[24,0,"t-14 t-black t-bold"],[16,"aria-label",[30,1,["viewObfuscatedMessageCTAText"]]],[24,4,"button"],[4,[38,10],["inline_warning_show"],null],[4,[38,13],["click",[30,0,["showObfuscatedMessage"]]],null],[12],[1,"\\n          "],[1,[30,1,["viewObfuscatedMessageCTAText"]]],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n"]],[]]],[1,"\\n"],[41,[30,0,["showReactionSummaries"]],[[[1,"      "],[8,[39,5],null,[["@bundle"],["msg-reactions"]],[["default"],[[[[1,"\\n"],[41,[30,10,["state","fulfilled"]],[[[1,"          "],[8,[39,7],null,[["@event","@isOverlay"],[[30,1],[30,2]]],null],[1,"\\n"]],[]],null],[1,"      "]],[10]]]]],[1,"\\n"]],[]],null]],[]],[[[41,[28,[37,14],[[30,1,["eventContent","storyItemUrn"]],[30,0,["displayMessagingStoryBeforeTextBody"]]],null],[[[1,"      "],[8,[39,15],null,[["@deleteMessageEventModalState","@enableMsgFwd","@event","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@showSendReactionControls","@showMessageEditForm","@shouldShowEditDelete","@trackingPrefix","@reactionsHoverTrackingName"],[[28,[37,3],[[30,0],"isDeleteMessageEventModalOpen"],null],false,[30,1],[30,2],[30,3],[30,4],[30,5],[30,0,["showSendReactionControls"]],false,false,[30,11],[30,0,["reactionsHoverTrackingName"]]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["decoratedContent"]],[[[1,"      "],[8,[39,2],null,[["@classNames","@deleteMessageEventModalState","@enableMsgFwd","@event","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@shouldShowEditDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName"],["msg-s-event-listitem__message-bubble--msg-fwd-enabled",[28,[37,3],[[30,0],"isDeleteMessageEventModalOpen"],null],[30,0,["enableMsgFwd"]],[30,1],[30,2],[30,3],[30,4],[30,5],[30,0,["enableModifyMessageEvent"]],[30,12],[30,0,["showSendReactionControls"]],[30,0,["reactionsHoverTrackingName"]]]],[["default"],[[[[1,"\\n"],[41,[28,[37,16],[[30,1,["subtype"]],"INMAIL"],null],[[[41,[28,[37,14],[[30,1,["eventContent","subject"]],[28,[37,17],[[30,0,["referralRequestCardUrl"]]],null]],null],[[[1,"            "],[10,"h3"],[14,0,"msg-s-event-listitem__subject t-14 t-black--light t-bold"],[12],[1,"\\n              "],[1,[30,1,["eventContent","subject"]]],[1,"\\n            "],[13],[1,"\\n"]],[]],null]],[]],null],[1,"        "],[8,[39,5],null,[["@bundle"],["msg-reactions"]],[["default"],[[[[1,"\\n"],[41,[30,13,["state","fulfilled"]],[[[1,"            "],[8,[39,4],null,[["@shouldShowMessageSendingIndicator","@messageStatus"],[[30,0,["shouldShowMessageSendingIndicator"]],[30,0,["messageStatus"]]]],[["default"],[[[[1,"\\n              "],[10,2],[15,0,[29,["msg-s-event-listitem__body t-14 t-black--light t-normal\\n                  ",[52,[28,[37,18],[[30,1,["eventContent","attributedBody"]]],null]," t-32"]]]],[12],[8,[39,19],null,[["@decoratedContent","@event","@fireBodyLinkTracking"],[[30,0,["decoratedContent"]],[30,1],[30,0,["fireBodyLinkTracking"]]]],null],[41,[30,1,["eventContent","lastEditedAt"]],[[[10,1],[14,0,"t-14 t-black--light t-normal pl1"],[12],[1,[28,[35,1],["i18n_message_edited","msg-ui/components/primitives/event-listitem-user-event"],null]],[13]],[]],null],[13]],[]]]]],[1,"\\n\\n"],[41,[30,0,["referralRequestCardUrl"]],[[[1,"              "],[10,0],[14,0,"msg-s-event__referral-request-card display-flex flex-column mt4 mr3 mb4"],[12],[1,"\\n                "],[10,0],[14,0,"card-info display-flex align-items-center"],[12],[1,"\\n                  "],[1,[28,[35,20],null,[["type","size","color"],["linkedin-bug","14dp","brand"]]]],[1,"\\n                  "],[10,1],[14,0,"t-12 t-bold t-black--light ml1"],[12],[1,[28,[35,1],["i18n_referral_request_header","msg-ui/components/primitives/event-listitem-user-event"],null]],[13],[1,"\\n                "],[13],[1,"\\n                "],[10,0],[14,0,"display-flex mt3 mb1"],[12],[1,"\\n                  "],[10,0],[14,0,"banner-icon"],[12],[13],[1,"\\n                  "],[10,0],[14,0,"display-flex flex-column ml2"],[12],[1,"\\n                    "],[10,1],[14,0,"t-14 mb1 t-bold"],[12],[1,"\\n                      "],[1,[52,[30,0,["isSenderSide"]],[28,[37,1],["i18n_referral_request_title","msg-ui/components/primitives/event-listitem-user-event"],null],[28,[37,1],["i18n_referral_request_title_referrer_side","msg-ui/components/primitives/event-listitem-user-event"],null]]],[1,"\\n                    "],[13],[1,"\\n                    "],[10,1],[14,0,"t-12 mb0 t-black--light t-normal"],[12],[1,"\\n                      "],[1,[52,[30,0,["isSenderSide"]],[28,[37,1],["i18n_referral_request_description","msg-ui/components/primitives/event-listitem-user-event"],null],[28,[37,1],["i18n_referral_request_description_referrer_side","msg-ui/components/primitives/event-listitem-user-event"],null]]],[1,"\\n                    "],[13],[1,"\\n                  "],[13],[1,"\\n                "],[13],[1,"\\n                "],[8,[39,9],[[24,0,"referral-request-link"],[4,[38,10],[[52,[30,0,["isSenderSide"]],"job_seeker_referral_request_card_view_detail","referral_request_card_view_detail"]],null]],[["@href","@target"],[[30,0,["referralRequestCardUrl"]],"_blank"]],[["default"],[[[[1,"\\n                  "],[8,[39,21],null,[["@type","@size","@text","@class"],["primary","1",[28,[37,1],["i18n_referral_request_cta","msg-ui/components/primitives/event-listitem-user-event"],null],"full-width full-height"]],null],[1,"\\n                "]],[]]]]],[1,"\\n              "],[13],[1,"\\n"]],[]],null]],[]],[[[1,"            "],[10,2],[14,0,"msg-s-event-listitem__body t-14 t-black--light t-normal"],[12],[8,[39,19],null,[["@decoratedContent","@event","@fireBodyLinkTracking"],[[30,0,["decoratedContent"]],[30,1],[30,0,["fireBodyLinkTracking"]]]],null],[13],[1,"\\n"]],[]]],[1,"        "]],[13]]]]],[1,"\\n      "]],[]]]]],[1,"\\n"]],[]],null],[1,"\\n"],[41,[28,[37,14],[[30,1,["eventContent","storyItemUrn"]],[30,0,["displayMessagingStoryAfterTextBody"]]],null],[[[1,"      "],[8,[39,15],null,[["@deleteMessageEventModalState","@enableMsgFwd","@event","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@showSendReactionControls","@showMessageEditForm","@shouldShowEditDelete","@trackingPrefix","@reactionsHoverTrackingName"],[[28,[37,3],[[30,0],"isDeleteMessageEventModalOpen"],null],false,[30,1],[30,2],[30,3],[30,4],[30,5],[30,0,["showSendReactionControls"]],false,false,[30,11],[30,0,["reactionsHoverTrackingName"]]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,1,["eventContent","customContent","forwardedContentType"]],[[[41,[30,0,["showSendReactionControls"]],[[[1,"        "],[8,[39,2],null,[["@classNames","@deleteMessageEventModalState","@enableMsgFwd","@event","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@shouldShowEditDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName"],["msg-s-event-listitem__message-bubble--msg-actions-enabled",[28,[37,3],[[30,0],"isDeleteMessageEventModalOpen"],null],false,[30,1],[30,2],[30,3],[30,4],[30,5],false,false,[30,0,["showSendReactionControls"]],[30,0,["reactionsHoverTrackingName"]]]],[["default"],[[[[1,"\\n          "],[8,[39,4],null,[["@shouldShowMessageSendingIndicator","@messageStatus"],[[30,0,["shouldShowMessageSendingIndicator"]],[30,0,["messageStatus"]]]],[["default"],[[[[1,"\\n            "],[8,[39,22],null,[["@forwardedContent"],[[30,1,["eventContent","customContent"]]]],null],[1,"\\n          "]],[]]]]],[1,"\\n        "]],[]]]]],[1,"\\n"]],[]],[[[1,"        "],[8,[39,4],null,[["@shouldShowMessageSendingIndicator","@messageStatus"],[[30,0,["shouldShowMessageSendingIndicator"]],[30,0,["messageStatus"]]]],[["default"],[[[[1,"\\n          "],[8,[39,22],null,[["@forwardedContent"],[[30,1,["eventContent","customContent"]]]],null],[1,"\\n        "]],[]]]]],[1,"\\n"]],[]]]],[]],null],[1,"\\n"],[41,[30,0,["showInlineWarning"]],[[[1,"      "],[8,[39,23],null,[["@event","@handleSuccessfulDiscardRequest","@redirectToActiveConversation","@afterDismissed","@focusOnMsgReportCta"],[[30,1],[30,14],[30,15],[28,[37,3],[[30,0],"isInlineWarningDismissed",true],null],[30,0,["focusOnMsgReportCta"]]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,1,["eventContent","footerText"]],[[[1,"      "],[10,1],[14,0,"msg-s-event-listitem__footer-text t-12 t-bold"],[12],[1,"\\n        "],[1,[28,[35,24],[[30,1,["eventContent","footerText"]]],null]],[1,"\\n      "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["shouldDisplayRelay"]],[[[1,"      "],[8,[39,25],null,[["@class"],["msg-s-event-listitem__job-card mt3 mb4"]],[["default"],[[[[1,"\\n        "],[8,[39,26],[[24,0,"display-flex flex-column"],[4,[38,10],["view_job_card"],null]],[["@route","@model"],["jobs.view",[28,[37,27],[[30,1,["eventContent","customContent","jobPostingReferral","jobPosting"]]],null]]],[["default"],[[[[1,"\\n          "],[10,0],[14,0,"inline-flex Elevation-0dp p2"],[12],[1,"\\n            "],[8,[39,28],null,[["@image","@class","@alt","@ghostType","@width"],[[30,1,["eventContent","customContent","companyLogo"]],"msg-s-event-listitem__company-logo EntityPhoto-square-3",[28,[37,1],["i18n_company_logo_a11y","msg-ui/components/primitives/event-listitem-user-event"],null],"company",64]],null],[1,"\\n            "],[10,0],[14,0,"ml2"],[12],[1,"\\n              "],[10,2],[14,0,"t-16 t-bold"],[12],[1,"\\n                "],[1,[30,1,["eventContent","customContent","jobTitle"]]],[1,"\\n              "],[13],[1,"\\n              "],[10,2],[14,0,"t-14 t-black--light"],[12],[1,"\\n                "],[1,[30,1,["eventContent","customContent","companyName"]]],[1,"\\n              "],[13],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n        "]],[]]]]],[1,"\\n      "]],[]]]]],[1,"\\n"],[41,[30,0,["shouldDisplayReferralButton"]],[[[1,"        "],[8,[39,21],[[4,[38,13],["click",[28,[37,3],[[30,0],"isReferralFormOpen",true],null]],null],[4,[38,10],[[30,0,["referralButtonControlName"]]],null],[4,[38,29],[[30,0,["onReferralButtonImpression"]]],[["routeName","currentRoute"],[[28,[37,30],[[53,"outletState"],"render.name"],null],[28,[37,30],[[53,"outletState"],"render"],null]]]]],[["@type","@size","@text","@icon","@class"],["primary","2",[28,[37,1],["i18n_start_referral","msg-ui/components/primitives/event-listitem-user-event"],null],"briefcase-icon","msg-s-event-listitem__referral-button"]],null],[1,"\\n"]],[]],null]],[]],null],[1,"\\n"],[41,[30,0,["virtualMeetingData"]],[[[41,[30,0,["showSendReactionControls"]],[[[1,"        "],[8,[39,2],null,[["@classNames","@deleteMessageEventModalState","@enableMsgFwd","@event","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@shouldShowEditDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName"],["msg-s-event-listitem__message-bubble--msg-actions-enabled",[28,[37,3],[[30,0],"isDeleteMessageEventModalOpen"],null],false,[30,1],[30,2],[30,3],[30,4],[30,5],false,false,[30,0,["showSendReactionControls"]],[30,0,["reactionsHoverTrackingName"]]]],[["default"],[[[[1,"\\n\\n          "],[8,[39,32],null,[["@class","@virtualMeetingData"],["msg-s-event-listitem__unrolled-virtual-meeting artdeco-card",[30,0,["virtualMeetingData"]]]],null],[1,"\\n        "]],[]]]]],[1,"\\n"]],[]],[[[1,"        "],[8,[39,32],null,[["@class","@virtualMeetingData"],["msg-s-event-listitem__unrolled-virtual-meeting artdeco-card",[30,0,["virtualMeetingData"]]]],null],[1,"\\n"]],[]]]],[]],[[[41,[30,0,["unrolledUpdateV2"]],[[[41,[30,0,["showSendReactionControls"]],[[[1,"        "],[8,[39,2],null,[["@classNames","@deleteMessageEventModalState","@enableMsgFwd","@event","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@shouldShowEditDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName"],["msg-s-event-listitem__message-bubble--msg-actions-enabled",[28,[37,3],[[30,0],"isDeleteMessageEventModalOpen"],null],false,[30,1],[30,2],[30,3],[30,4],[30,5],false,false,[30,0,["showSendReactionControls"]],[30,0,["reactionsHoverTrackingName"]]]],[["default"],[[[[1,"\\n          "],[8,[39,5],null,[["@bundle"],["feed-shared"]],[["default"],[[[[1,"\\n"],[41,[30,16,["state","fulfilled"]],[[[1,"              "],[8,[39,33],[[24,0,"msg-s-event-listitem__unrolled-update-v2 artdeco-card"],[16,"onClick",[52,[28,[37,16],[[30,1,["subtype"]],"SPONSORED_MESSAGE"],null],[30,0,["fireBodyLinkTracking"]]]]],[["@update","@shouldHideCtaButton","@showNestedShares"],[[30,0,["unrolledUpdateV2"]],[30,2],true]],null],[1,"\\n"]],[]],[[[41,[30,16,["state","pending"]],[[[1,"              "],[10,0],[14,0,"msg-s-event-listitem__content-preview-placeholder"],[12],[1,"\\n                "],[8,[39,34],null,null,null],[1,"\\n              "],[13],[1,"\\n            "]],[]],null]],[]]],[1,"          "]],[16]]]]],[1,"\\n        "]],[]]]]],[1,"\\n"]],[]],[[[1,"        "],[8,[39,5],null,[["@bundle"],["feed-shared"]],[["default"],[[[[1,"\\n"],[41,[30,17,["state","fulfilled"]],[[[1,"            "],[8,[39,33],[[24,0,"msg-s-event-listitem__unrolled-update-v2 artdeco-card"],[16,"onClick",[52,[28,[37,16],[[30,1,["subtype"]],"SPONSORED_MESSAGE"],null],[30,0,["fireBodyLinkTracking"]]]]],[["@update","@shouldHideCtaButton","@showNestedShares"],[[30,0,["unrolledUpdateV2"]],[30,2],true]],null],[1,"\\n"]],[]],[[[41,[30,17,["state","pending"]],[[[1,"            "],[10,0],[14,0,"msg-s-event-listitem__content-preview-placeholder"],[12],[1,"\\n              "],[8,[39,34],null,null,null],[1,"\\n            "],[13],[1,"\\n          "]],[]],null]],[]]],[1,"        "]],[17]]]]],[1,"\\n"]],[]]],[1,"    "]],[]],null]],[]]],[1,"\\n"],[41,[30,0,["smpContent"]],[[[1,"      "],[8,[39,5],null,[["@bundle"],["marketplace-message-card"]],[["default"],[[[[1,"\\n"],[41,[30,18,["state","fulfilled"]],[[[41,[30,0,["showSendReactionControls"]],[[[1,"            "],[8,[39,2],null,[["@classNames","@enableMsgFwd","@event","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@showSendReactionControls","@shouldShowEditDelete","@showMessageEditForm","@reactionsHoverTrackingName"],["msg-s-event-listitem__message-bubble--msg-actions-enabled",false,[30,1],[30,2],[30,3],[30,4],[30,5],[30,0,["showSendReactionControls"]],false,false,[30,0,["reactionsHoverTrackingName"]]]],[["default"],[[[[1,"\\n              "],[8,[39,35],[[24,0,"msg-s-event-listitem__unrolled-update-v2"]],[["@messageCard","@isPreview"],[[30,0,["smpContent"]],false]],null],[1,"\\n            "]],[]]]]],[1,"\\n"]],[]],[[[1,"            "],[8,[39,35],[[24,0,"msg-s-event-listitem__unrolled-update-v2"]],[["@messageCard","@isPreview"],[[30,0,["smpContent"]],false]],null],[1,"\\n"]],[]]]],[]],[[[41,[30,18,["state","pending"]],[[[1,"          "],[10,0],[14,0,"msg-s-event-listitem__content-preview-placeholder"],[12],[1,"\\n            "],[8,[39,34],null,null,null],[1,"\\n          "],[13],[1,"\\n        "]],[]],null]],[]]],[1,"      "]],[18]]]]],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["hasArticleOrUpdate"]],[[[1,"      "],[8,[39,5],null,[["@bundle"],["feed-shared"]],[["default"],[[[[1,"\\n"],[41,[30,19,["state","fulfilled"]],[[[1,"          "],[8,[39,36],null,[["@feedUpdate","@showNestedShares","@deleteMessageEventModalState","@enableMsgFwd","@event","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@showSendReactionControls","@showMessageEditForm","@shouldShowEditDelete","@reactionsHoverTrackingName","@shouldShowMessageSendingIndicator","@messageStatus"],[[30,1,["eventContent","feedUpdate"]],true,[28,[37,3],[[30,0],"isDeleteMessageEventModalOpen"],null],false,[30,1],[30,2],[30,3],[30,4],[30,5],[30,0,["showSendReactionControls"]],false,false,[30,0,["reactionsHoverTrackingName"]],[30,0,["shouldShowMessageSendingIndicator"]],[30,0,["messageStatus"]]]],null],[1,"\\n"]],[]],[[[41,[30,19,["state","pending"]],[[[1,"          "],[10,0],[14,0,"msg-s-event-listitem__content-preview-placeholder"],[12],[1,"\\n            "],[8,[39,34],null,null,null],[1,"\\n          "],[13],[1,"\\n        "]],[]],null]],[]]],[1,"      "]],[19]]]]],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,1,["eventContent","attachments","length"]],[[[42,[28,[37,38],[[28,[37,38],[[30,1,["eventContent","attachments"]]],null]],null],null,[[[1,"        "],[8,[39,4],null,[["@shouldShowMessageSendingIndicator","@messageStatus","@classNames"],[[30,0,["shouldShowMessageSendingIndicator"]],[30,0,["messageStatus"]],[29,["\\n          ",[52,[30,0,["enableMsgFwd"]],"msg-s-event-listitem__attachment-item--msg-fwd-enabled"],"\\n          "]]]],[["default"],[[[[1,"\\n          "],[8,[39,39],null,[["@attachment","@deleteMessageEventModalState","@enableMsgFwd","@event","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@showSendReactionControls","@shouldShowEditDelete","@reactionsHoverTrackingName"],[[30,20],[28,[37,3],[[30,0],"isDeleteMessageEventModalOpen"],null],[30,0,["enableMsgFwd"]],[30,1],[30,2],[30,3],[30,4],[30,5],[30,0,["showSendReactionControls"]],[30,0,["enableModifyMessageEvent"]],[30,0,["reactionsHoverTrackingName"]]]],null],[1,"\\n        "]],[]]]]],[1,"\\n"]],[20]],null]],[]],null],[1,"\\n"],[41,[30,1,["eventContent","digitalMediaConferenceUrn"]],[[[1,"      "],[8,[39,2],null,[["@classNames","@deleteMessageEventModalState","@enableMsgFwd","@event","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@shouldShowDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName"],["msg-s-event-listitem__message-bubble--msg-actions-enabled",[28,[37,3],[[30,0],"isDeleteMessageEventModalOpen"],null],false,[30,1],[30,2],[30,3],[30,4],[30,5],[30,0,["enableModifyMessageEvent"]],false,[30,0,["showSendReactionControls"]],[30,0,["reactionsHoverTrackingName"]]]],[["default"],[[[[1,"\\n        "],[8,[39,4],null,[["@shouldShowMessageSendingIndicator","@messageStatus"],[[30,0,["shouldShowMessageSendingIndicator"]],[30,0,["messageStatus"]]]],[["default"],[[[[1,"\\n          "],[10,0],[14,0,"msg-s-event-listitem__linkedin-meeting-container"],[12],[1,"\\n            "],[8,[39,40],null,[["@conferenceUrn","@threadId","@participant","@virtualMeetingTimeRange","@virtualMeetingCreationTime"],[[30,1,["eventContent","digitalMediaConferenceUrn"]],[30,1,["conversation","id"]],[30,1,["from"]],[30,1,["eventContent","virtualMeetingTimeRange"]],[30,1,["createdAt"]]]],null],[1,"\\n          "],[13],[1,"\\n        "]],[]]]]],[1,"\\n      "]],[]]]]],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,1,["eventContent","mediaAttachments","length"]],[[[41,[30,0,["showSendReactionControls"]],[[[1,"        "],[8,[39,2],null,[["@classNames","@deleteMessageEventModalState","@enableMsgFwd","@event","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@shouldShowEditDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName"],["msg-s-event-listitem__message-bubble--msg-actions-enabled",[28,[37,3],[[30,0],"isDeleteMessageEventModalOpen"],null],false,[30,1],[30,2],[30,3],[30,4],[30,5],false,false,[30,0,["showSendReactionControls"]],[30,0,["reactionsHoverTrackingName"]]]],[["default"],[[[[1,"\\n"],[42,[28,[37,38],[[28,[37,38],[[30,1,["eventContent","mediaAttachments"]]],null]],null],null,[[[41,[28,[37,16],[[30,21,["mediaType"]],"AUDIO"],null],[[[1,"              "],[10,0],[14,0,"msg-s-event-listitem__audio-container"],[12],[1,"\\n                "],[8,[39,4],null,[["@shouldShowMessageSendingIndicator","@messageStatus"],[[30,0,["shouldShowMessageSendingIndicator"]],[30,0,["messageStatus"]]]],[["default"],[[[[1,"\\n                  "],[8,[39,41],null,[["@mediaAttachment","@trackingPrefix"],[[30,21],[30,11]]],null],[1,"\\n                "]],[]]]]],[1,"\\n              "],[13],[1,"\\n"]],[]],[[[41,[28,[37,16],[[30,21,["mediaType"]],"VIDEO"],null],[[[1,"              "],[8,[39,4],null,[["@shouldShowMessageSendingIndicator","@messageStatus"],[[30,0,["shouldShowMessageSendingIndicator"]],[30,0,["messageStatus"]]]],[["default"],[[[[1,"\\n                "],[10,0],[14,0,"msg-s-event-listitem__video-container"],[12],[1,"\\n                  "],[8,[39,42],null,[["@mediaAttachment"],[[30,21]]],null],[1,"\\n                "],[13],[1,"\\n              "]],[]]]]],[1,"\\n            "]],[]],null]],[]]]],[21]],null],[1,"        "]],[]]]]],[1,"\\n"]],[]],[[[42,[28,[37,38],[[28,[37,38],[[30,1,["eventContent","mediaAttachments"]]],null]],null],null,[[[41,[28,[37,16],[[30,22,["mediaType"]],"AUDIO"],null],[[[1,"            "],[10,0],[14,0,"msg-s-event-listitem__audio-container"],[12],[1,"\\n              "],[8,[39,41],null,[["@mediaAttachment","@trackingPrefix"],[[30,22],[30,11]]],null],[1,"\\n            "],[13],[1,"\\n"]],[]],[[[41,[28,[37,16],[[30,22,["mediaType"]],"VIDEO"],null],[[[1,"            "],[10,0],[14,0,"msg-s-event-listitem__video-container"],[12],[1,"\\n              "],[8,[39,42],null,[["@mediaAttachment"],[[30,22]]],null],[1,"\\n            "],[13],[1,"\\n          "]],[]],null]],[]]]],[22]],null]],[]]]],[]],null],[1,"\\n"],[41,[30,0,["showReactionSummaries"]],[[[1,"      "],[8,[39,5],null,[["@bundle"],["msg-reactions"]],[["default"],[[[[1,"\\n"],[41,[30,23,["state","fulfilled"]],[[[1,"          "],[8,[39,7],null,[["@event","@isOverlay","@onEmojiHoverableShow","@onEmojiHoverableHide"],[[30,1],[30,2],[30,4],[30,3]]],null],[1,"\\n"]],[]],null],[1,"      "]],[23]]]]],[1,"\\n"]],[]],null]],[]]]],[]]]],[]]]],[]]]],[]]],[1,"\\n"],[41,[30,0,["isReferralFormOpen"]],[[[1,"  "],[8,[39,5],null,[["@bundle"],["msg-referrals"]],[["default"],[[[[1,"\\n"],[41,[30,24,["state","fulfilled"]],[[[1,"      "],[8,[39,43],null,[["@referralRecord","@candidateFirstName","@candidateFullName","@company","@jobTitle","@closeModal"],[[30,1,["eventContent","customContent","jobPostingReferral"]],[30,0,["candidate","firstName"]],[30,0,["candidate","fullName"]],[30,0,["company"]],[30,0,["jobTitle"]],[30,0,["closeReferralFormModal"]]]],null],[1,"\\n"]],[]],null],[1,"  "]],[24]]]]],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["isDeleteMessageEventModalOpen"]],[[[1,"  "],[8,[39,5],null,[["@bundle"],["msg-shared-modals"]],[["default"],[[[[1,"\\n"],[41,[30,25,["state","fulfilled"]],[[[1,"      "],[8,[39,44],null,[["@dismissModal","@event","@deleteMessageAndCloseModal","@deleteEventControlName"],[[28,[37,3],[[30,0],"isDeleteMessageEventModalOpen",false],null],[30,1],[30,0,["deleteMessageAndCloseModal"]],[28,[37,12],[[30,11],"delete_message"],null]]],null],[1,"\\n"]],[]],null],[1,"  "]],[25]]]]],[1,"\\n"]],[]],null]],["@event","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","assetLoader","assetLoader","assetLoader","assetLoader","assetLoader","@trackingPrefix","@showMessageEditForm","assetLoader","@handleSuccessfulDiscardRequest","@redirectToActiveConversation","assetLoader","assetLoader","assetLoader","assetLoader","attachment","mediaAttachment","mediaAttachment","assetLoader","assetLoader","assetLoader"],false,["if","t","msg-ui@primitives/event-listitem-actions","ember-set-helper@set","msg-ui@primitives/event-with-sending-indicator","asset-loader@deferred-asset-loader","tenor-gif@gif-image","msg-reactions@emoji/msg-reactions","ember-vector-images@custom-image","ember-cli-pemberly-tracking@shared/external-link","ember-cli-pemberly-tracking@track-interaction","global-helpers@css-style","concat","on","global-helpers@and","msg-ui@rich-media/messaging-story","global-helpers@eq","global-helpers@not","msg-reactions@is-emoji-only-content","msg-ui@primitives/render-chunk","artdeco-icons-web@li-icon","artdeco-button@artdeco-button","msg-ui@forward-preview","msg-ui@primitives/inline-warning","text-view-model@text-view-model","artdeco-card@artdeco-card","ember-engines@link-to-external","global-helpers@urn-to-id","ember-vector-images@lazy-image","ember-cli-pemberly-tracking@track-impression","get","-get-dynamic-var","msg-ui@primitives/unrolled-virtual-meeting","feed-shared@render-models/mini-update-v2","artdeco-loader@artdeco-loader","marketplace-message-card@marketplace-message-card","msg-ui@rich-media/content-preview","each","-track-array","msg-ui@rich-media/attachment-display","msg-ui@primitives/linkedin-meeting-card","msg-ui@rich-media/audio-display","msg-ui@rich-media/video-display","msg-referrals@referral-form","msg-shared-modals@delete-message-event-modal"]]',moduleName:"msg-ui/components/primitives/event-listitem-user-event.hbs",isStrictMode:!1}),{SPONSORED_TRACKING:{ACTIONS:Z},REFERRALS:{PENDING:X},JOB_STATE:{LISTED:ee},MESSAGE_STATUS:te}=h.default
let ne=(k=(0,d.inject)("store"),C=(0,d.inject)("lix"),T=(0,d.inject)("i18n"),S=(0,d.inject)("jet"),x=(0,d.inject)("msg-overlay-manager@msg-overlay-manager"),E=(0,d.inject)("authentication@authenticated-user"),P=(0,d.inject)("msg-data@data-manager"),D=(0,d.inject)("persistent-toast-manager@persistent-toast-manager"),I=(0,d.inject)("global-services@global-http-headers"),O=(0,d.inject)("tracking"),A=class extends c.default{get messageStatus(){return this.msgDataManager.getEventIndicator(this.args.event)}get shouldShowMessageSendingIndicator(){return this.isMessagingSendingIndicatorEnabled&&this.isSenderSide&&(0,l.get)(this.args,"isMsgSeenByNone")&&!(0,l.get)(this.args,"event.isError")&&this.messageStatus!==te.ERROR}get referralButtonControlName(){return this.args.trackingPrefix?`${this.args.trackingPrefix}start_referral`:"start_referral"}get urlToUnroll(){const e=(0,l.get)(this.args,"event.eventContent.attributedBody.text"),t=(0,u.getUrlsFromText)(e).filter((e=>/^https?:\/\//.test(e)))
return"INMAIL"!==(0,l.get)(this.args,"event.subtype")&&!(0,l.get)(this.args,"event.eventContent.attachments.length")&&!this.hasArticleOrUpdate&&!(0,l.get)(this.args,"event.eventContent.smpContent")&&e&&1===t.length&&!u.CONTAINS_GROUPCHATLINK_REGEX.test(t[0])&&t[0]}get hasArticleOrUpdate(){return/article|activity|contentTopic|lyndaCourse/.test((0,l.get)(this.args,"event.eventContent.feedUpdate.updateMetadata.urn"))}get locationSharePreview(){var e
if(this.urlToUnroll!==(0,l.get)(this.args,"event.eventContent.attributedBody.text")||null===(e=this.urlToUnroll)||void 0===e||!e.startsWith("https://www.bing.com/maps?cp="))return!1
const t=(0,u.parseQueryString)(this.urlToUnroll)
if(!t.cp||!t.q)return!1
const n=t.cp.split("~")
if(2!==n.length)return!1
return{imageUrl:jSecure.sanitizeUrl(`https://dev.virtualearth.net/REST/v1/Imagery/Map/CanvasLight?key=AjWfR7LMpDYZJOLH-RZEhFo2MmRUXEVeFQpb8Osj8kIp0-PLHN8l3ceo7aWzblYg&mapSize=500,500&dpi=Large&pp=${n.join(",")};60`),title:t.q}}get virtualMeetingData(){const e=this.unrolledUpdateV2&&(0,l.get)(this.unrolledUpdateV2,"content.navigationContext.actionTarget")
if(e){const t=Object.values(y.MEETING_PROVIDERS).find((t=>t.regex.test(e)))
return t?{class:t.class,controlName:t.controlName,name:t.name,url:e}:void 0}}get decoratedContent(){const e=(0,l.get)(this.args,"event.eventContent.attributedBody"),t=e&&(0,l.get)(e,"text"),n=(0,v.default)(e,t,this.linkifyOpts),i=(0,l.get)(n,n.length-1+".url")
if("JOB_SEEKER_REQUEST_REFERRAL"===(0,l.get)(this.args,"event.eventContent.customContent.type")&&i){this.referralRequestCardUrl=i
n.pop()}return n}get shouldDisplayReferralButton(){return(0,l.get)(this.args,"event.eventContent.customContent.viewerEmployee")&&(0,l.get)(this.args,"event.eventContent.customContent.jobPostingReferral.state")===X&&(0,l.get)(this.args,"event.eventContent.customContent.jobState")===ee}get isSenderSide(){return(0,b.isCurrentUser)(this.authenticatedUser,(0,l.get)(this.args,"event.from"))}get showInlineWarning(){return!(0,l.get)(this.args,"event.conversation.blocked")&&!this.isInlineWarningDismissed&&(0,l.get)(this.args,"event.inlineWarning")}get showReactionSummaries(){return!!(0,l.get)(this.args,"event.reactionSummaries.length")}get displayMessagingStoryAfterTextBody(){return!(0,l.get)(this.args,"event.eventContent.replyToContent")}get displayMessagingStoryBeforeTextBody(){return(0,l.get)(this.args,"event.eventContent.replyToContent")}get showSendReactionControls(){var e
return!this.args.blockedByNoResponse&&(null===(e=(0,l.get)(this.args,"event.conversation.featureTypes"))||void 0===e?void 0:e.includes("REACTIONS"))&&(0,l.get)(this.args,"event.conversation.viewerCurrentParticipant")&&!(0,l.get)(this.args,"event.conversation.blocked")&&!(0,l.get)(this.args,"event.isNew")&&!(0,l.get)(this.args,"event.isError")}get showInMailHeader(){const e="INMAIL"===(0,l.get)(this.args.event,"subtype"),t=(0,l.get)(this.args.event,"eventContent.customContent.inmailProductType")
return(e&&"RECRUITER"===t||e&&"SALES"===t||this._isPremiumInMail()||"SPONSORED_MESSAGE"===(0,l.get)(this.args,"event.subtype")&&this.args.event.isFirstMessageInThread)&&this.lix.getTreatmentIsEnabled("voyager.web.messaging-inmail-headers")}get shouldObfuscateMessage(){return(0,l.get)(this.args,"event.obfuscatedMessageWarning")&&!(0,l.get)(this.args,"event.conversation.blocked")&&!this.obfuscatedMessageIsRevealed}get enableModifyMessageEvent(){return(0,b.isCurrentUser)(this.authenticatedUser,(0,l.get)(this.args,"event.from"))&&this._isEditDeleteTimeboxExpired()&&!(0,l.get)(this.args,"event.isNew")&&!(0,w.isSponsoredConversation)(this.args,"event.conversation")}get candidate(){return(0,l.get)(this.args,"event.from")}get company(){const e=(0,l.get)(this.args,"event.eventContent.customContent")
return(0,l.get)(e,"companyName")||(0,l.get)(e,"company.name")}get jobTitle(){return(0,l.get)(this.args,"event.eventContent.customContent.jobTitle")}get enableMsgFwd(){return"SPONSORED_MESSAGE"!==(0,l.get)(this.args,"event.subtype")&&!(0,l.get)(this.args,"event.inlineWarning")&&!(0,l.get)(this.args,"event.eventContent.storyItemUrn")}get reactionsHoverTrackingName(){return this.args.isOverlay?"overlay.show_reactions_entrypoint":"show_reactions_entrypoint"}get shouldDisplayRelay(){if((0,l.get)(this.args,"event.eventContent.customContent.jobPostingReferral")){return(0,l.get)(this.args,"event.eventContent.customContent.jobPostingReferral.supportedDeliveryDestinationTypes.value").includes("HIRING_PLATFORM")}return!1}constructor(){super(...arguments);(0,n.default)(this,"store",j,this);(0,n.default)(this,"lix",R,this);(0,n.default)(this,"i18n",N,this);(0,n.default)(this,"jet",F,this);(0,n.default)(this,"msgOverlay",z,this);(0,n.default)(this,"authenticatedUser",L,this);(0,n.default)(this,"msgDataManager",U,this);(0,n.default)(this,"persistentToastManager",B,this);(0,n.default)(this,"globalHttpHeaders",H,this);(0,n.default)(this,"unrolledUpdateV2",q,this);(0,n.default)(this,"isDeleteMessageEventModalOpen",V,this);(0,n.default)(this,"tracking",W,this);(0,n.default)(this,"obfuscatedMessageIsRevealed",G,this);(0,n.default)(this,"focusOnMsgReportCta",K,this);(0,n.default)(this,"smpContent",$,this);(0,n.default)(this,"isInlineWarningDismissed",Q,this);(0,n.default)(this,"isReferralFormOpen",Y,this)
this.isMessagingSendingIndicatorEnabled=this.lix.getTreatmentIsEnabled("voyager.web.messaging-sending-indicator")
this.linkifyOpts={url:!0,email:!0,hashtag:!0,goLink:this.lix.getTreatmentIsEnabled("voyager.client.staff")}
if((0,l.get)(this.args,"event.eventContent.smpContent")){let e={}
const t=encodeURIComponent((0,l.get)(this.args,"event.eventContent.smpContent"))
this.lix.getTreatmentIsEnabled("voyager.web.smp-business-inquiries-pem-tracking")&&(e={adapterOptions:{degradations:[M.MARKETPLACE_PROJECT_DEGRADATION_METADATA.MARKETPLACE_PROJECT_MESSAGE_CARD],degradedEntityIDsToRemove:[t]}})
this.store.queryURL(`voyagerMarketplacesDashProjectMessageCards/${t}`,e).then((e=>{this.isDestroying||(this.smpContent=e)})).catch((e=>this.jet.error(e,["msg-ui/event-list-item-user-event","business-inquiry-fetch-message-card-failure",`urn: ${(0,l.get)(this.args,"event.eventContent.smpContent")}`])))}const{urlToUnroll:e,locationSharePreview:t}=this
if(e&&!t){const t=encodeURIComponent(e)
this.store.queryURL(`contentcreation/urlPreview/${t}`,{cacheKey:t}).then((e=>{this.isDestroying||(this.unrolledUpdateV2=(0,l.get)(e,"update"))})).catch((()=>{}))}}_isPremiumInMail(){return"INMAIL"===(0,l.get)(this.args,"event.subtype")&&"SUBSCRIPTION"===(0,l.get)(this.args,"event.eventContent.customContent.inmailProductType")}_isEditDeleteTimeboxExpired(){const e=(0,l.get)(this.args,"event.createdAt")
return Date.now()-e<36e5}_showRecallErrorToast(){const e=this.i18n.lookupTranslation("components/msg-ui@primitives/event-listitem-user-event","i18n_recall_generic_error")()
this.persistentToastManager.error({message:e})}onReferralButtonImpression(){return{name:"CandidateInitiatedStartReferralActionEvent",body:{jobPostingUrn:(0,l.get)(this.args,"event.eventContent.customContent.trackingUrn")}}}forwardAttachment(e){const n=(0,t.default)({},e)
n.messageReference=(0,l.get)(this.args,"event.entityUrn")
void 0===(0,l.get)(e,"isImage")&&(n.isImage=(0,f.isSupportedImageFile)((0,l.get)(e,"mediaType"),(0,l.get)(e,"name")));(0,l.get)(e,"mediaTypeExtension")||(n.mediaTypeExtension=(0,f.mediaTypeExtension)((0,l.get)(e,"mediaType")));(0,l.get)(e,"formattedSize")||(n.formattedSize=(0,p.default)((0,l.get)(e,"byteSize"),this.i18n))
const i={forwardedAttachments:[n]}
this.msgOverlay.triggerNewConversation(i)}fireBodyLinkTracking(){var e
const t=(0,l.get)(this.args,"event.conversation.sponsoredConversationMetadata"),n={action:Z.BODY_CLICK,sponsoredConvoId:(0,l.get)(t,"sponsoredConversationTrackingId"),sponsoredMessageContentId:(0,l.get)(this.args,"event.eventContent.customContent.sponsoredMessageTrackingId")}
g.default.fireNodeLevelAdvertiserTracking(this.globalHttpHeaders,this.jet,null!==(e=(0,l.get)(t,"clickTrackingUrl"))&&void 0!==e?e:"",n)}deleteMessageAndCloseModal(){this.isDeleteMessageEventModalOpen=!1
const e=(0,l.get)(this.args,"event.conversation.id");(0,l.get)(this.args,"event")&&e||this._showRecallErrorToast()
this.msgDataManager.recallMessage(e,(0,l.get)(this.args,"event")).catch((e=>{this._showRecallErrorToast()
throw e}))}showObfuscatedMessage(){this.obfuscatedMessageIsRevealed=!0
this.focusOnMsgReportCta=!0}closeReferralFormModal(){this.isReferralFormOpen=!1
this.tracking.fireInteractionEvent("referral_dismiss_form")}},j=(0,s.default)(A.prototype,"store",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=(0,s.default)(A.prototype,"lix",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=(0,s.default)(A.prototype,"i18n",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=(0,s.default)(A.prototype,"jet",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=(0,s.default)(A.prototype,"msgOverlay",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=(0,s.default)(A.prototype,"authenticatedUser",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=(0,s.default)(A.prototype,"msgDataManager",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=(0,s.default)(A.prototype,"persistentToastManager",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=(0,s.default)(A.prototype,"globalHttpHeaders",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=(0,s.default)(A.prototype,"unrolledUpdateV2",[_.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=(0,s.default)(A.prototype,"isDeleteMessageEventModalOpen",[_.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=(0,s.default)(A.prototype,"tracking",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=(0,s.default)(A.prototype,"obfuscatedMessageIsRevealed",[_.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=(0,s.default)(A.prototype,"focusOnMsgReportCta",[_.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=(0,s.default)(A.prototype,"smpContent",[_.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=(0,s.default)(A.prototype,"isInlineWarningDismissed",[_.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=(0,s.default)(A.prototype,"isReferralFormOpen",[_.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,s.default)(A.prototype,"onReferralButtonImpression",[l.action],Object.getOwnPropertyDescriptor(A.prototype,"onReferralButtonImpression"),A.prototype),(0,s.default)(A.prototype,"forwardAttachment",[l.action],Object.getOwnPropertyDescriptor(A.prototype,"forwardAttachment"),A.prototype),(0,s.default)(A.prototype,"fireBodyLinkTracking",[l.action],Object.getOwnPropertyDescriptor(A.prototype,"fireBodyLinkTracking"),A.prototype),(0,s.default)(A.prototype,"deleteMessageAndCloseModal",[l.action],Object.getOwnPropertyDescriptor(A.prototype,"deleteMessageAndCloseModal"),A.prototype),(0,s.default)(A.prototype,"showObfuscatedMessage",[l.action],Object.getOwnPropertyDescriptor(A.prototype,"showObfuscatedMessage"),A.prototype),(0,s.default)(A.prototype,"closeReferralFormModal",[l.action],Object.getOwnPropertyDescriptor(A.prototype,"closeReferralFormModal"),A.prototype),A)
e.default=ne;(0,o.setComponentTemplate)(J,ne)}))
define("msg-ui/components/primitives/event-listitem",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@ember/object","@ember/service","@glimmer/component","msg-shared/utils/constants","msg-shared/helpers/is-current-user","ember-cli-pemberly-tracking/utils/tracking"],(function(e,t,n,i,s,r,o,a,l,c,m,d,u){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var p,g,h,f,b,y,v,_,w
const M=(0,o.createTemplateFactory)({id:"gg4SLxel",block:'[[[11,0],[16,0,[29,["msg-s-event-listitem\\n    ",[52,[30,1]," msg-s-event-listitem--m2m-msg-followed-by-date-boundary"],"\\n    ",[52,[30,2]," msg-s-event-listitem--system-followed-by-m2m-msg"],"\\n    ",[52,[30,3]," msg-s-event-listitem--system-preceded-by-m2m-msg"],"\\n    ",[52,[30,4]," msg-s-event-listitem--last-in-group"],"\\n    ",[52,[30,0,["isSystemMessage"]]," msg-s-event-listitem--system"],"\\n    ",[52,[30,0,["inMailFromOther"]]," msg-s-event-listitem--inmail"],"\\n    ",[52,[30,0,["eventIsFromOtherUser"]]," msg-s-event-listitem--other"],"\\n    ",[52,[30,5]," msg-s-event-listitem--has-seen-receipts"],"\\n    ",[52,[30,6,["eventContent","footerText"]]," msg-s-event-listitem--has-footer-text"],"\\n    ",[52,[30,6,["isError"]]," msg-s-event-listitem--is-error"]]]],[16,"data-event-urn",true],[17,7],[4,[38,1],[[30,0,["createImpressionEvent"]]],[["routeName","currentRoute"],[[28,[37,2],[[53,"outletState"],"render.name"],null],[28,[37,2],[[53,"outletState"],"render"],null]]]],[4,[38,4],[[30,0,["fireCustomPageViewEvent"]]],null],[12],[1,"\\n  "],[18,8,[[28,[37,6],null,[["isSystemMessage"],[[30,0,["isSystemMessage"]]]]]]],[1,"\\n"],[41,[30,0,["showMessageSentFailedError"]],[[[1,"    "],[11,2],[24,0,"msg-s-event-listitem__error-message t-12 t-black t-bold"],[4,[38,7],["click",[28,[37,8],[[30,0,["resendFailedMessage"]],[30,6]],null]],null],[12],[1,"\\n      "],[1,[28,[35,9],["i18n_message_retry","msg-ui/components/primitives/event-listitem"],null]],[1,"\\n    "],[13],[1,"\\n"]],[]],null],[13]],["@isM2MMessageFollowedByDateBoundary","@isSystemMessageFollowedByM2MMessage","@isSystemMessagePrecededByM2MMessage","@isLastInGroup","@hasSeenReceipts","@event","&attrs","&default"],false,["if","ember-cli-pemberly-tracking@track-impression","get","-get-dynamic-var","did-insert","yield","hash","on","fn","t"]]',moduleName:"msg-ui/components/primitives/event-listitem.hbs",isStrictMode:!1}),{IMPRESSION_KEYS:{CONVERSATION_DETAIL_IMPRESSION:k,DISPLAY_ITEM_TYPE:C},MESSAGE_TYPE:{TENOR_GIF:T},MESSAGES_PER_PAGE:S,PAGEVIEW_KEYS:{CONVERSATION_DETAIL_PAGEKEY:x}}=m.default
let E=(p=(0,l.inject)("client-sensor-web@client-sensor"),g=(0,l.inject)("authentication@authenticated-user"),h=(0,l.inject)("msg-data@data-manager"),f=(0,l.inject)("tracking"),b=class extends c.default{get isSystemMessage(){return(0,a.get)(this.args,"event.isSystemMessage")&&!(0,a.get)(this.args,"event.eventContent.recalledAt")}get eventIsFromOtherUser(){return!(0,d.isCurrentUser)(this.authenticatedUser,(0,a.get)(this.args,"event.from"))}get inMailFromOther(){return"INMAIL"===(0,a.get)(this.args,"event.subtype")&&this.eventIsFromOtherUser}get showMessageSentFailedError(){return(0,a.get)(this.args,"event.isError")&&(0,a.get)(this.args,"event.eventContent.attributedBody.text")}constructor(){var e
super(...arguments);(0,t.default)(this,"clientSensor",y,this);(0,t.default)(this,"authenticatedUser",v,this);(0,t.default)(this,"msgDataManager",_,this);(0,t.default)(this,"tracking",w,this)
if(this.args.isOverlay&&null!==(e=this.msgDataManager.receivedRealtimeMessages[(0,a.get)(this.args,"event.entityUrn")])&&void 0!==e&&e.fireExpectedRenderClientSensor){this.clientSensor.incrementMetricCounter({groupName:"messaging",metricName:"realtime-message-rendered-in-overlay"})
this.msgDataManager.receivedRealtimeMessages[(0,a.get)(this.args,"event.entityUrn")].fireExpectedRenderClientSensor=!1}}createImpressionEvent(){var e,t,n
let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
if(this.isDestroyed||this.isDestroying||(0,a.get)(this.args,"event.isNew")||(0,a.get)(this.args,"event.isDestroying")||(0,a.get)(this.args,"event.isDestroyed")||!(0,a.get)(this.args,"event.conversation"))return[]
const s=(0,a.get)(this.args,"event.conversation"),r={objectUrn:(0,a.get)(s,"backendUrn"),trackingId:(0,u.generateTrackingId)()}
let o=null===(e=(0,a.get)(s,"participants"))||void 0===e?void 0:e.filter((e=>(0,a.get)(e,"miniProfile.objectUrn"))).mapBy("miniProfile.objectUrn")
o=null!==(t=o)&&void 0!==t&&t.length?o:null
const l={moduleKey:null!==(n=(0,a.get)(this.args,"moduleKey"))&&void 0!==n?n:this.tracking.getCurrentPageKey(),displayItem:{trackingObject:{objectUrn:(0,a.get)(this.args,"event.backendUrn"),trackingId:(0,u.generateTrackingId)()},type:C.MESSAGE_DETAIL,visibleTime:i.visibleTime,duration:i.duration},participantUrns:o,conversation:r}
if((0,a.get)(this.args,"event.eventContent.customContent.mediaType")===T){const e=(0,a.get)(this.args,"event.eventContent.customContent.id")
l.displayItem.thirdPartyMediaTrackingObject={objectUrn:`urn:li:tenor:${e}`,trackingId:(0,u.generateTrackingId)()}}return{name:k,body:l}}fireCustomPageViewEvent(){this.args.messageIndex>0&&this.args.messageIndex%S==0&&this.tracking.firePageViewEvent(x)}resendFailedMessage(e){this.eventIsFromOtherUser||this.isSystemMessage||this.args.resendMessage(e)}},y=(0,i.default)(b.prototype,"clientSensor",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=(0,i.default)(b.prototype,"authenticatedUser",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=(0,i.default)(b.prototype,"msgDataManager",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=(0,i.default)(b.prototype,"tracking",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,i.default)(b.prototype,"createImpressionEvent",[a.action],Object.getOwnPropertyDescriptor(b.prototype,"createImpressionEvent"),b.prototype),(0,i.default)(b.prototype,"fireCustomPageViewEvent",[a.action],Object.getOwnPropertyDescriptor(b.prototype,"fireCustomPageViewEvent"),b.prototype),(0,i.default)(b.prototype,"resendFailedMessage",[a.action],Object.getOwnPropertyDescriptor(b.prototype,"resendFailedMessage"),b.prototype),b)
e.default=E;(0,r.setComponentTemplate)(M,E)}))
define("msg-ui/components/primitives/event-with-sending-indicator",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const s=(0,n.createTemplateFactory)({id:"QPZfgasA",block:'[[[10,0],[15,0,[29,["msg-s-event-with-indicator display-flex ",[30,1]]]],[12],[1,"\\n  "],[10,0],[14,0,"msg-s-event__content"],[12],[1,"\\n    "],[18,4,null],[1,"\\n  "],[13],[1,"\\n"],[41,[30,2],[[[1,"    "],[10,1],[15,0,[29,["msg-s-event-with-indicator__sending-indicator\\n        ",[52,[28,[37,2],[[30,3],"sent"],null]," msg-s-event-with-indicator__sending-indicator--sent "],"\\n        ",[52,[28,[37,2],[[30,3],"sending"],null]," msg-s-event-with-indicator__sending-indicator--sending "],"\\n        "]]],[12],[1,"\\n"],[41,[28,[37,2],[[30,3],"sent"],null],[[[1,"        "],[10,"svg"],[14,"width","100%"],[14,"height","100%"],[14,"viewBox","0 0 16 16"],[14,"fill","none"],[14,"xmlns","http://www.w3.org/2000/svg","http://www.w3.org/2000/xmlns/"],[12],[1,"\\n          "],[10,"path"],[14,"d","M7.40005 12L4.30005 8.9L5.60005 7.6L7.10005 9L9.70005 5H12L7.40005 12Z"],[12],[1,"\\n          "],[13],[1,"\\n          "],[10,"circle"],[14,"cx","8"],[14,"cy","8"],[14,"r","6.5"],[12],[13],[1,"\\n        "],[13],[1,"\\n"]],[]],[[[41,[28,[37,2],[[30,3],"sending"],null],[[[1,"        "],[10,"svg"],[14,"width","100%"],[14,"height","100%"],[14,"viewBox","0 0 16 16"],[14,"fill","none"],[14,"xmlns","http://www.w3.org/2000/svg","http://www.w3.org/2000/xmlns/"],[12],[1,"\\n          "],[10,"circle"],[14,"cx","8"],[14,"cy","8"],[14,"r","6.5"],[12],[13],[1,"\\n        "],[13],[1,"\\n      "]],[]],null]],[]]],[1,"    "],[13],[1,"\\n"]],[]],null],[13]],["@classNames","@shouldShowMessageSendingIndicator","@messageStatus","&default"],false,["yield","if","global-helpers@eq"]]',moduleName:"msg-ui/components/primitives/event-with-sending-indicator.hbs",isStrictMode:!1})
var r=(0,t.setComponentTemplate)(s,(0,i.default)())
e.default=r}))
define("msg-ui/components/primitives/inline-warning",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@glimmer/tracking","@ember/object","@ember/service","msg-shared/utils/urn-id-helpers"],(function(e,t,n,i,s,r,o,a,l,c,m,d){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var u,p,g,h
const f=(0,o.createTemplateFactory)({id:"Q/GFh0Mm",block:'[[[11,0],[24,0,"msg-inline-warning mt1 mr3"],[17,1],[12],[1,"\\n  "],[8,[39,0],null,[["@type","@isIconHidden","@message"],["yield",true,[30,2,["inlineWarning","text"]]]],null],[1,"\\n  "],[10,0],[14,0,"inline-block"],[12],[1,"\\n    "],[8,[39,1],[[24,"data-control-name","inline_warning_report"],[4,[38,2],null,[["when"],[[30,3]]]]],[["@classNames","@type","@color","@size","@text","@icon","@click"],["mt2 display-flex","secondary","muted",2,[30,2,["reportSpamCTAText"]],"flag-icon",[30,0,["reportConversation"]]]],null],[1,"\\n\\n    "],[8,[39,1],[[24,"data-control-name","inline_warning_notspam"]],[["@classNames","@type","@color","@size","@text","@icon","@click"],["mv2 display-flex","secondary","muted",2,[30,2,["inlineWarningDismissCTAText"]],"cancel-icon",[30,0,["dismissWarning"]]]],null],[1,"\\n  "],[13],[1,"\\n"],[13],[1,"\\n"],[8,[39,3],null,[["@bundle"],["msg-shared-modals"]],[["default"],[[[[1,"\\n"],[41,[30,4,["state","fulfilled"]],[[[1,"    "],[8,[39,5],null,[["@conversationToReport","@reportOptions","@redirectToActiveConversation","@handleSuccessfulDiscardRequest","@isOpen","@hideSemaphore"],[[30,0,["conversationToReport"]],[30,0,["reportOptions"]],[30,5],[30,6],[30,0,["isReportSemaphoreOpen"]],[30,0,["closeSemaphore"]]]],null],[1,"\\n"]],[]],null]],[4]]]]]],["&attrs","@event","@focusOnMsgReportCta","assetLoader","@redirectToActiveConversation","@handleSuccessfulDiscardRequest"],false,["artdeco-inline-feedback@artdeco-inline-feedback","artdeco-button@artdeco-button","global-modifiers@focus","asset-loader@deferred-asset-loader","if","msg-shared-modals@conversation-semaphore"]]',moduleName:"msg-ui/components/primitives/inline-warning.hbs",isStrictMode:!1})
let b=(u=(0,m.inject)("msg-data@data-manager"),p=class extends a.default{constructor(){super(...arguments);(0,t.default)(this,"msgDataManager",g,this);(0,t.default)(this,"isReportSemaphoreOpen",h,this)}reportConversation(){const e=(0,c.get)(this.args.event,"backendUrn");(0,c.setProperties)(this,{conversationToReport:(0,c.get)(this.args.event,"conversation"),reportOptions:{participantToReport:(0,c.get)(this.args.event,"from"),entityUrn:e,contentSource:"INBOX_REPORT_SPAM"},isReportSemaphoreOpen:!0})}closeSemaphore(){this.isReportSemaphoreOpen=!1}dismissWarning(){const e=(0,c.get)(this.args.event,"conversation.id"),t=(0,d.extractEventId)((0,c.get)(this.args.event,"id"))
this.msgDataManager.dismissInlineWarning(e,t).then((()=>{if(!this.isDestroying){var e,t
null===(e=(t=this.args).afterDismissed)||void 0===e||e.call(t)}}))}},g=(0,i.default)(p.prototype,"msgDataManager",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=(0,i.default)(p.prototype,"isReportSemaphoreOpen",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,i.default)(p.prototype,"reportConversation",[c.action],Object.getOwnPropertyDescriptor(p.prototype,"reportConversation"),p.prototype),(0,i.default)(p.prototype,"closeSemaphore",[c.action],Object.getOwnPropertyDescriptor(p.prototype,"closeSemaphore"),p.prototype),(0,i.default)(p.prototype,"dismissWarning",[c.action],Object.getOwnPropertyDescriptor(p.prototype,"dismissWarning"),p.prototype),p)
e.default=b;(0,r.setComponentTemplate)(f,b)}))
define("msg-ui/components/primitives/linkedin-meeting-card",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@ember/service","global-utils/utils/api-compat","@ember/application","@ember/object","global-utils/utils/is-browser"],(function(e,t,n,i,s,r,o,a,l,c,m,d,u){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var p,g,h,f,b,y,v,_,w,M,k
const C=(0,o.createTemplateFactory)({id:"axLsYfsW",block:'[[[11,3],[16,6,[30,0,["videoConferencePath"]]],[16,"target",[30,1]],[24,"rel","opener"],[24,0,"link-without-hover-visited msg-linkedin-meeting-card"],[4,[38,0],["click",[30,0,["joinMeeting"]]],null],[4,[38,1],["virtual_meetings_click_card_linkedin"],null],[12],[1,"\\n  "],[10,0],[14,0,"artdeco-card display-flex pl3 pr4"],[12],[1,"\\n    "],[10,0],[14,0,"display-flex align-items-center pr2"],[12],[1,"\\n      "],[1,[28,[35,2],null,[["type","size","class"],["video-conference","medium","msg-linkedin-meeting-card__icon artdeco-button__icon t-black--light"]]]],[1,"\\n    "],[13],[1,"\\n    "],[10,0],[14,0,"msg-linkedin-meeting-card__info pl1 pt3 pb3"],[12],[1,"\\n"],[41,[30,0,["isDisabledBrowser"]],[[[1,"        "],[10,2],[14,0,"t-16 t-bold pb1"],[12],[1,[28,[35,4],["i18n_unavailable_on_firefox_text","msg-ui/components/primitives/linkedin-meeting-card"],null]],[13],[1,"\\n        "],[10,2],[14,0,"t-14"],[12],[1,[28,[35,4],["i18n_unavailable_on_firefox_explanation_text","msg-ui/components/primitives/linkedin-meeting-card"],null]],[13],[1,"\\n"]],[]],[[[1,"        "],[10,2],[14,0,"t-14 t-bold pl2"],[12],[1,[28,[35,4],["i18n_meeting_title","msg-ui/components/primitives/linkedin-meeting-card"],[["member"],[[28,[37,5],[[30,2,["miniProfile"]]],null]]]]],[13],[1,"\\n"],[41,[30,0,["scheduledMeetingDuration"]],[[[1,"          "],[10,2],[14,0,"t-12 pl2 t-black--light"],[12],[1,[28,[35,4],["i18n_scheduled_meeting_time","msg-ui/components/primitives/linkedin-meeting-card"],[["date","time"],[[28,[37,6],[[30,3,["start"]]],[["format","useTimeZone"],["fmt_mdy_short",true]]],[28,[37,7],[[30,3,["start"]]],[["format","useTimeZone"],["fmt_hm",true]]]]]]],[13],[1,"\\n          "],[10,2],[14,0,"t-12 pl2 t-black--light"],[12],[1,[28,[35,4],["i18n_scheduled_meeting_duration","msg-ui/components/primitives/linkedin-meeting-card"],[["duration"],[[28,[37,8],[[30,0,["scheduledMeetingDuration"]]],[["format"],["human"]]]]]]],[13],[1,"\\n"]],[]],null],[1,"        "],[10,2],[14,0,"t-bold artdeco-button--1 artdeco-button--tertiary"],[12],[1,"\\n          "],[1,[28,[35,4],["i18n_join_meeting","msg-ui/components/primitives/linkedin-meeting-card"],null]],[1,"\\n        "],[13],[1,"\\n"]],[]]],[1,"    "],[13],[1,"\\n  "],[13],[1,"\\n"],[13]],["@threadId","@participant","@virtualMeetingTimeRange"],false,["on","ember-cli-pemberly-tracking@track-interaction","artdeco-icons-web@li-icon","if","t","global-helpers@name","ember-cli-pemberly-i18n@format-date","ember-cli-pemberly-i18n@format-time","global-helpers@format-duration"]]',moduleName:"msg-ui/components/primitives/linkedin-meeting-card.hbs",isStrictMode:!1})
let T=(p=(0,l.inject)("i18n"),g=(0,l.inject)("persistent-toast-manager@persistent-toast-manager"),h=(0,l.inject)("router"),f=(0,l.inject)("lix"),b=(0,l.inject)("prefetch"),y=class extends a.default{get scheduledMeetingDuration(){const e=(0,d.get)(this.args,"virtualMeetingTimeRange.start"),t=(0,d.get)(this.args,"virtualMeetingTimeRange.end")
if(e&&t){const n=t-e
return n>0?Math.round(n/1e3):null}return null}get isDisabledBrowser(){return!u.default||/firefox/i.test(window.navigator.userAgent)}get videoConferencePath(){return this.router.urlFor("msg-video-call.index",this.args.threadId,(0,c.entityUrnToId)(this.args.conferenceUrn))}get shouldPrefetchVideoBundle(){const e=(new Date).getTime(),t=18e5
if(this.isDisabledBrowser)return!1
if(this.scheduledMeetingDuration){const n=(0,d.get)(this.args,"virtualMeetingTimeRange.start"),i=(0,d.get)(this.args,"virtualMeetingTimeRange.end")
if(e<n-t||e>i)return!1}else{if(e>this.args.virtualMeetingCreationTime+t)return!1}return this.lix.getTreatmentIsEnabled("voyager.web.messaging-video-conference-prefetch")}constructor(){super(...arguments);(0,t.default)(this,"i18n",v,this);(0,t.default)(this,"persistentToastManager",_,this);(0,t.default)(this,"router",w,this);(0,t.default)(this,"lix",M,this);(0,t.default)(this,"prefetch",k,this)
this.shouldPrefetchVideoBundle&&this.prefetch.prefetchAssets("msg-video-call","d_flagship3_messaging_video_conference").then((()=>{if("enabled_with_client_creation"===this.lix.getTreatment("voyager.web.messaging-video-conference-prefetch")){(0,m.getOwner)(this).lookup("service:video-call@fetch-client").fetchConferenceClient()}}))}joinMeeting(e){const t=(new Date).getTime(),n=(0,d.get)(this.args,"virtualMeetingTimeRange.start")
if(n&&n-t>18e5){e.preventDefault()
const t=this.i18n.lookupTranslation("components/msg-ui@primitives/linkedin-meeting-card","i18n_scheduled_meeting_not_started")()
this.persistentToastManager.notice({message:t})}}},v=(0,i.default)(y.prototype,"i18n",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=(0,i.default)(y.prototype,"persistentToastManager",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=(0,i.default)(y.prototype,"router",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=(0,i.default)(y.prototype,"lix",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=(0,i.default)(y.prototype,"prefetch",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,i.default)(y.prototype,"joinMeeting",[d.action],Object.getOwnPropertyDescriptor(y.prototype,"joinMeeting"),y.prototype),y)
e.default=T;(0,r.setComponentTemplate)(C,T)}))
define("msg-ui/components/primitives/render-chunk",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const s=(0,n.createTemplateFactory)({id:"niUF8qhj",block:'[[[42,[28,[37,1],[[28,[37,1],[[30,1]],null]],null],null,[[[41,[30,2,["mention"]],[[[8,[39,3],null,[["@route","@model"],["profile.view",[30,2,["id"]]]],[["default"],[[[[10,1],[15,"data-entity-hovercard-id",[30,2,["entityUrn"]]],[12],[1,[30,2,["value"]]],[13]],[]]]]]],[]],[[[41,[30,2,["allMention"]],[[[10,"strong"],[12],[1,[30,2,["value"]]],[13]],[]],[[[41,[30,2,["groupChatLink"]],[[[8,[39,4],null,[["@href"],[[30,2,["groupChatLink"]]]],[["default"],[[[[1,[30,2,["value"]]]],[]]]]]],[]],[[[41,[30,2,["url"]],[[[8,[39,4],[[24,"target","_blank"],[24,"rel","noopener"]],[["@href","@invokeAction"],[[30,2,["url"]],[52,[28,[37,5],[[30,3,["subtype"]],"SPONSORED_MESSAGE"],null],[30,4]]]],[["default"],[[[[1,[30,2,["value"]]]],[]]]]]],[]],[[[41,[30,2,["email"]],[[[10,3],[15,6,[30,2,["email"]]],[12],[1,[30,2,["value"]]],[13]],[]],[[[41,[30,2,["hashtag"]],[[[8,[39,3],[[24,0,"hashtag-link"]],[["@route","@query"],["feed.hashtag-feed.by-keyword",[28,[37,6],null,[["keywords"],[[30,2,["value"]]]]]]],[["default"],[[[[1,[30,2,["value"]]]],[]]]]]],[]],[[[1,[30,2,["value"]]]],[]]]],[]]]],[]]]],[]]]],[]]]],[]]]],[2]],null]],["@decoratedContent","chunk","@event","@fireBodyLinkTracking"],false,["each","-track-array","if","ember-engines@link-to-external","app-aware-link@app-aware-link","global-helpers@eq","hash"]]',moduleName:"msg-ui/components/primitives/render-chunk.hbs",isStrictMode:!1})
var r=(0,t.setComponentTemplate)(s,(0,i.default)())
e.default=r}))
define("msg-ui/components/primitives/unrolled-virtual-meeting",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const s=(0,n.createTemplateFactory)({id:"E2T4F1i/",block:'[[[1,"\\n"],[8,[39,0],[[4,[38,2],[[30,2,["controlName"]]],null]],[["@class","@href","@target"],[[28,[37,1],["display-flex ",[30,1]],null],[30,2,["url"]],"_blank"]],[["default"],[[[[1,"\\n  "],[10,0],[15,0,[28,[37,1],["msg-unrolled-virtual-meeting__icon mr4 ",[30,2,["class"]]],null]],[12],[1,"\\n  "],[13],[1,"\\n  "],[10,0],[12],[1,"\\n    "],[10,2],[14,0,"t-14 t-bold"],[12],[1,"\\n      "],[1,[30,2,["name"]]],[1,"\\n    "],[13],[1,"\\n    "],[10,2],[14,0,"t-12"],[12],[1,"\\n      "],[1,[28,[35,3],["i18n_join_meeting","msg-ui/components/primitives/unrolled-virtual-meeting"],null]],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"]],[]]]]]],["@class","@virtualMeetingData"],false,["ember-cli-pemberly-tracking@shared/external-link","concat","ember-cli-pemberly-tracking@track-interaction","t"]]',moduleName:"msg-ui/components/primitives/unrolled-virtual-meeting.hbs",isStrictMode:!1})
var r=(0,t.setComponentTemplate)(s,(0,i.default)())
e.default=r}))
define("msg-ui/components/quick-replies",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@ember/service","@glimmer/component","@glimmer/tracking","@ember/object","@ember/runloop","ember-batcher","global-utils/utils/is-browser","msg-shared/utils/constants","@ember/object/internals"],(function(e,t,n,i,s,r,o,a,l,c,m,d,u,p,g,h){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var f,b,y,v,_,w,M,k,C,T,S,x
const E=(0,o.createTemplateFactory)({id:"UL23NdOU",block:'[[[11,0],[16,1,[30,0,["quickRepliesId"]]],[24,0,"conversations-quick-replies justify-center display-flex align-items-center"],[17,1],[4,[38,0],["keyup",[30,0,["onKeyUp"]]],null],[4,[38,1],[[30,0,["onDidUpdate"]],[30,2]],null],[12],[1,"\\n"],[41,[30,0,["hasOverflow"]],[[[1,"    "],[8,[39,3],null,[["@class","@circle","@size","@icon","@text","@color","@type","@disabled","@click"],["flex-shrink-zero mr2",true,1,"chevron-left-icon",[28,[37,4],["i18n_scroll_quick_replies_left","msg-ui/components/quick-replies"],null],"muted","tertiary",[30,0,["disableScrollLeft"]],[28,[37,5],[[30,0,["scrollHandler"]],"LEFT"],null]]],null],[1,"\\n"]],[]],null],[1,"\\n  "],[11,"ul"],[16,0,[29,["conversations-quick-replies__container relative list-style-none display-flex justify-flex-start overflow-hidden pv2",[52,[30,0,["animateIn"]]," conversations-quick-replies__container--animate-in"]]]],[4,[38,6],null,[["onRender","routeName","currentRoute"],[[30,0,["createQuickReplyImpressionTracking"]],[28,[37,7],[[53,"outletState"],"render.name"],null],[28,[37,7],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n"],[42,[28,[37,10],[[28,[37,10],[[30,0,["filteredQuickReplies"]]],null]],null],null,[[[1,"      "],[10,"li"],[14,0,"conversations-quick-replies__reply"],[12],[1,"\\n"],[41,[28,[37,11],[[30,3,["reply","replyType"]],"GIF"],null],[[[1,"          "],[8,[39,12],null,[["@replyTo","@reply","@replyAction","@trackingPrefix","@customInteractionPayload"],[[30,4,["latestEvent"]],[30,3],[28,[37,5],[[30,5],[30,3,["reply","quickActionPrefillText"]]],null],[30,6],[28,[37,5],[[30,0,["createSendQuickReplyInteractionPayload"]],[30,3,["reply"]]],null]]],null],[1,"\\n"]],[]],[[[41,[28,[37,11],[[30,3,["reply","replyType"]],"INMAIL_ACCEPT"],null],[[[1,"          "],[8,[39,12],null,[["@replyTo","@reply","@replyAction","@trackingPrefix","@customInteractionPayload"],[[30,4,["latestEvent"]],[30,3],[28,[37,5],[[30,7],[30,3]],null],[30,6],[28,[37,5],[[30,0,["createSendQuickReplyInteractionPayload"]],[30,3,["reply"]]],null]]],null],[1,"\\n"]],[]],[[[41,[28,[37,11],[[30,3,["reply","replyType"]],"INMAIL_DECLINE"],null],[[[1,"          "],[8,[39,12],null,[["@replyTo","@reply","@replyAction","@trackingPrefix","@customInteractionPayload"],[[30,4,["latestEvent"]],[30,3],[28,[37,5],[[30,7],[30,3]],null],[30,6],[28,[37,5],[[30,0,["createSendQuickReplyInteractionPayload"]],[30,3,["reply"]]],null]]],null],[1,"\\n"]],[]],[[[41,[28,[37,11],[[30,3,["reply","replyType"]],"VIDEO_MEETING"],null],[[[1,"          "],[8,[39,12],null,[["@replyTo","@reply","@replyAction","@trackingPrefix","@customInteractionPayload"],[[30,4,["latestEvent"]],[30,3],[30,8],[30,6],[28,[37,5],[[30,0,["createSendQuickReplyInteractionPayload"]],[30,3,["reply"]]],null]]],null],[1,"\\n"]],[]],[[[1,"          "],[8,[39,12],null,[["@replyTo","@reply","@replyAction","@controlActionEventName","@emojiSkintone","@customInteractionPayload"],[[30,4,["latestEvent"]],[30,3],[28,[37,5],[[30,0,["sendQuickReply"]],[30,3,["reply"]],[30,4]],null],[30,9],[30,0,["emojiSkintoneManager","selectedSkintone"]],[28,[37,5],[[30,0,["createSendQuickReplyInteractionPayload"]],[30,3,["reply"]]],null]]],null],[1,"\\n        "]],[]]]],[]]]],[]]]],[]]],[1,"      "],[13],[1,"\\n"]],[3]],null],[1,"  "],[13],[1,"\\n\\n"],[41,[30,0,["hasOverflow"]],[[[1,"    "],[8,[39,3],null,[["@class","@circle","@size","@icon","@text","@color","@type","@disabled","@click"],["flex-shrink-zero ml2",true,1,"chevron-right-icon",[28,[37,4],["i18n_scroll_quick_replies_right","msg-ui/components/quick-replies"],null],"muted","tertiary",[30,0,["disableScrollRight"]],[28,[37,5],[[30,0,["scrollHandler"]],"RIGHT"],null]]],null],[1,"\\n"]],[]],null],[13]],["&attrs","@contextWidth","reply","@conversation","@openGIFPopover","@trackingPrefix","@handleInMailReplySmartAction","@openVirtualMeetingModal","@controlActionEventName"],false,["on","did-update","if","artdeco-button@artdeco-button","t","fn","ember-cli-pemberly-tracking@track-render","get","-get-dynamic-var","each","-track-array","global-helpers@eq","msg-ui@quick-reply"]]',moduleName:"msg-ui/components/quick-replies.hbs",isStrictMode:!1}),{IMPRESSION_KEYS:{CONTEXTUAL_RECOMMENDATION_IMPRESSION:P},ACTION_KEYS:{MEBC_QUICK_REPLY_ACTION:D},KEYCODES:{TAB:I}}=g.default
let O=(f=(0,a.inject)("store"),b=(0,a.inject)("tracking"),y=(0,a.inject)("client-sensor-web@client-sensor"),v=(0,a.inject)("msg-shared@emoji-skintone"),_=class extends l.default{constructor(){super(...arguments);(0,n.default)(this,"quickRepliesId",`quick-replies-${(0,h.guidFor)(this)}`);(0,t.default)(this,"store",w,this);(0,t.default)(this,"tracking",M,this);(0,t.default)(this,"clientSensor",k,this);(0,t.default)(this,"emojiSkintoneManager",C,this);(0,t.default)(this,"disableScrollLeft",T,this);(0,t.default)(this,"disableScrollRight",S,this);(0,t.default)(this,"hasOverflow",x,this)}get filteredQuickReplies(){const e={TEXT:this.args.saveReply,GIF:this.args.openGIFPopover,INMAIL_ACCEPT:this.args.handleInMailReplySmartAction,INMAIL_DECLINE:this.args.handleInMailReplySmartAction,VIDEO_MEETING:this.args.openVirtualMeetingModal},t=this.args.quickReplies.filter((t=>{const n=(0,m.get)(t,"reply.replyType")
return!n||e[n]}))
this._updateHasOverflow()
return t}get animateIn(){const e=!this.args.eventId||this.args.eventId!==this.lastQRId
this.lastQRId=this.args.eventId
return!e}get scrollingElement(){if(p.default)return document.getElementById(this.quickRepliesId).querySelector(".conversations-quick-replies__container")}_updateHasOverflow(){(0,u.mutateDOM)((()=>{this.isDestroying||(0,d.run)((()=>{this.hasOverflow=this.scrollingElement.scrollWidth>this.scrollingElement.clientWidth}))}))}onKeyUp(e){p.default&&this.hasOverflow&&e.keyCode===I&&this._updateScrollButtons(this.scrollingElement.scrollLeft)}onDidUpdate(){this._updateHasOverflow()}createQuickReplyImpressionTracking(){return this.args.useCase?this.args.quickReplies.map((e=>{const{reply:t}=e
return{name:P,body:{recommendedEntity:{recommendedEntityUrn:(0,m.get)(t,"objectUrn"),recommendationTrackingId:(0,m.get)(t,"trackingId"),usecase:this.args.useCase,visibleTime:0,duration:0,listPosition:{index:0}}}}})):[]}_updateScrollButtons(e){const t=this.scrollingElement.scrollWidth-this.scrollingElement.clientWidth
if(e<=0){this.disableScrollLeft=!0
this.disableScrollRight=!1}else if(e>=t){this.disableScrollLeft=!1
this.disableScrollRight=!0}}createSendQuickReplyInteractionPayload(e,t){let{controlUrn:n}=t
return{name:D,body:{controlUrn:n,recommendationTrackingId:(0,m.get)(e,"trackingId"),actionCategory:"SELECT",usecase:this.args.useCase}}}sendQuickReply(e,t,n){const i=n.target.querySelector(".conversations-quick-replies__reply-content").innerText
i&&(0,m.set)(e,"content.text",i)
this.args.saveReply(e,t,this.args.useCase)
this.clientSensor.incrementMetricCounter({groupName:"messaging",metricName:"smart-reply-action-event"})}scrollHandler(e){(0,u.mutateDOM)((()=>{if(!this.isDestroying){const{clientWidth:t,scrollLeft:n}=this.scrollingElement,i="LEFT"===e?n-t:n+t
"scrollBehavior"in document.documentElement.style?this.scrollingElement.scrollTo({behavior:"smooth",left:i,top:0}):this.scrollingElement.scrollTo(n,0)
this._updateScrollButtons(i)}}))}},w=(0,i.default)(_.prototype,"store",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=(0,i.default)(_.prototype,"tracking",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=(0,i.default)(_.prototype,"clientSensor",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=(0,i.default)(_.prototype,"emojiSkintoneManager",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,i.default)(_.prototype,"disableScrollLeft",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),S=(0,i.default)(_.prototype,"disableScrollRight",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=(0,i.default)(_.prototype,"hasOverflow",[c.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,i.default)(_.prototype,"onKeyUp",[m.action],Object.getOwnPropertyDescriptor(_.prototype,"onKeyUp"),_.prototype),(0,i.default)(_.prototype,"onDidUpdate",[m.action],Object.getOwnPropertyDescriptor(_.prototype,"onDidUpdate"),_.prototype),(0,i.default)(_.prototype,"createQuickReplyImpressionTracking",[m.action],Object.getOwnPropertyDescriptor(_.prototype,"createQuickReplyImpressionTracking"),_.prototype),(0,i.default)(_.prototype,"createSendQuickReplyInteractionPayload",[m.action],Object.getOwnPropertyDescriptor(_.prototype,"createSendQuickReplyInteractionPayload"),_.prototype),(0,i.default)(_.prototype,"sendQuickReply",[m.action],Object.getOwnPropertyDescriptor(_.prototype,"sendQuickReply"),_.prototype),(0,i.default)(_.prototype,"scrollHandler",[m.action],Object.getOwnPropertyDescriptor(_.prototype,"scrollHandler"),_.prototype),_)
e.default=O;(0,r.setComponentTemplate)(E,O)}))
define("msg-ui/components/quick-reply",["exports","@ember/component","@ember/template-factory","@glimmer/component","@ember/debug","@ember/object"],(function(e,t,n,i,s,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const o=(0,n.createTemplateFactory)({id:"s0jlDDMf",block:'[[[41,[30,0,["canRender"]],[[[41,[30,0,["isSmartAction"]],[[[1,"    "],[11,"button"],[24,0,"conversations-quick-replies__reply-button artdeco-button artdeco-button--2 artdeco-button--secondary p0"],[24,4,"button"],[4,[38,1],[[30,0,["controlName"]]],[["onInteract"],[[30,1]]]],[4,[38,2],["click",[30,2]],null],[12],[1,"\\n      "],[1,[28,[35,3],null,[["type","size","class"],[[30,0,["icon"]],"small","conversations-quick-replies__rich-props-icon"]]]],[1,"\\n      "],[10,"hr"],[14,0,"conversations-quick-replies__rich-props-vertical-divider"],[12],[13],[1,"\\n      "],[10,1],[14,0,"a11y-text"],[12],[1,[28,[35,4],["i18n_a11y_reply_context","msg-ui/components/quick-reply"],[["contentText"],[[30,3,["text"]]]]]],[13],[1,"\\n      "],[10,1],[14,"aria-hidden","true"],[14,0,"ml2 mr3"],[12],[1,"\\n        "],[1,[30,3,["text"]]],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n"]],[]],[[[1,"    "],[8,[39,5],[[4,[38,1],[[30,0,["controlName"]]],[["onInteract"],[[30,1]]]]],[["@class","@type","@click"],["conversations-quick-replies__reply-button","secondary",[30,2]]],[["default"],[[[[1,"\\n      "],[10,1],[14,0,"a11y-text"],[12],[1,[28,[35,4],["i18n_a11y_reply_context","msg-ui/components/quick-reply"],[["contentText"],[[30,3,["text"]]]]]],[13],[1,"\\n      "],[10,1],[14,0,"conversations-quick-replies__reply-content"],[14,"aria-hidden","true"],[12],[1,"\\n"],[41,[30,4],[[[1,"          "],[8,[39,6],null,[["@bundle"],["msg-reactions"]],[["default"],[[[[1,"\\n"],[41,[30,5,["state","fulfilled"]],[[[1,"              "],[1,[28,[35,7],[[30,3,["text"]],[30,4]],null]],[1,"\\n"]],[]],null],[1,"          "]],[5]]]]],[1,"\\n"]],[]],[[[1,"          "],[1,[30,3,["text"]]],[1,"\\n"]],[]]],[1,"      "],[13],[1,"\\n    "]],[]]]]],[1,"\\n"]],[]]]],[]],null]],["@customInteractionPayload","@replyAction","@reply","@emojiSkintone","asset"],false,["if","ember-cli-pemberly-tracking@track-interaction","on","artdeco-icons-web@li-icon","t","artdeco-button@artdeco-button","asset-loader@deferred-asset-loader","msg-reactions@emoji-skintone-modifier"]]',moduleName:"msg-ui/components/quick-reply.hbs",isStrictMode:!1}),a={TEXT:{typeName:"text",isSmartAction:!1,controlName:"mebc_quick_reply",icon:void 0},GIF:{typeName:"gif",isSmartAction:!0,controlName:"smart_action_gif",icon:"gif-icon"},INMAIL_ACCEPT:{typeName:"inmail-accept",isSmartAction:!0,controlName:"inmail_yes",icon:"pencil-icon"},INMAIL_DECLINE:{typeName:"inmail-decline",isSmartAction:!0,controlName:"inmail_no",icon:"pencil-icon"},VIDEO_MEETING:{typeName:"video-meeting",isSmartAction:!0,controlName:"create_video_meeting_smart_action",icon:"video-conference"}}
class l extends i.default{constructor(){super(...arguments)
this.replyType=(0,r.get)(this.args.reply,"reply.replyType")||"TEXT"
this.canRender=this.replyType in a
if(this.canRender){Object.assign(this,a[this.replyType])
if(this.args.controlActionEventName)this.controlName=this.args.controlActionEventName
else{const e=this.args.trackingPrefix||""
let t=""
"INMAIL"===(0,r.get)(this.args.replyTo,"subtype")&&(t="RECRUITER"===(0,r.get)(this.args.replyTo,"eventContent.customContent.inmailProductType")?"lts_":"SALES"===(0,r.get)(this.args.replyTo,"eventContent.customContent.inmailProductType")?"lss_":"premium_")
this.controlName=`${e}${t}${this.controlName}`}}}}e.default=l;(0,t.setComponentTemplate)(o,l)}))
define("msg-ui/components/realtime-upgrade-notice",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@ember/object","@ember/service","@glimmer/component","@glimmer/tracking","rsvp"],(function(e,t,n,i,s,r,o,a,l,c,m,d){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var u,p,g,h,f,b,y,v,_,w,M,k,C,T
const S=(0,o.createTemplateFactory)({id:"avPoWX+A",block:'[[[1,"\\n"],[41,[30,0,["showNotice"]],[[[1,"  "],[10,0],[14,0,"msg-realtime-upgrade-notice p4"],[12],[1,"\\n    "],[1,[28,[35,1],null,[["type","class"],["signal-notice","flex-shrink-zero mr2 t-black--light"]]]],[1,"\\n    "],[10,0],[12],[1,"\\n      "],[10,2],[14,0,"t-14 mb3"],[12],[1,[52,[30,0,["isPostRamp"]],[28,[37,2],["i18n_postramp_text","msg-ui/components/realtime-upgrade-notice"],null],[28,[37,2],["i18n_preramp_text","msg-ui/components/realtime-upgrade-notice"],null]]],[13],[1,"\\n      "],[10,2],[14,0,"display-flex"],[12],[1,"\\n        "],[11,"button"],[24,0,"t-14 t-bold t-black--light"],[24,4,"button"],[4,[38,3],["click",[28,[37,4],[[52,[30,0,["isPostRamp"]],"inmail_read_receipts_post_settings_change_view_settings","inmail_read_receipts_pre_settings_change_view_settings"],[30,0,["viewSettings"]]],null]],null],[12],[1,"\\n          "],[1,[52,[30,0,["isPostRamp"]],[28,[37,2],["i18n_view_settings","msg-ui/components/realtime-upgrade-notice"],null],[28,[37,2],["i18n_manage_settings","msg-ui/components/realtime-upgrade-notice"],null]]],[1,"\\n        "],[13],[1,"\\n"],[1,"        "],[10,1],[14,0,"t-14 t-black--light ph2"],[12],[1,"·"],[13],[1,"\\n"],[1,"        "],[11,"button"],[24,0,"t-14 t-bold link-without-hover-state"],[24,4,"button"],[4,[38,3],["click",[28,[37,4],[[52,[30,0,["isPostRamp"]],"inmail_read_receipts_post_settings_change_got_it","inmail_read_receipts_pre_settings_change_got_it"],[30,0,["dismiss"]]],null]],null],[12],[1,"\\n          "],[1,[28,[35,2],["i18n_got_it","msg-ui/components/realtime-upgrade-notice"],null]],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"]],[]],null]],[],false,["if","artdeco-icons-web@li-icon","t","on","ember-cli-pemberly-tracking@tracked-action"]]',moduleName:"msg-ui/components/realtime-upgrade-notice.hbs",isStrictMode:!1}),x=Object.freeze({pageKey:"message_inbox",slotId:"realtime-upgrade-notice",groupId:"realtime_upgrade_preramp",widgetId:"messaging_realtime_upgrade_preramp"}),E=Object.freeze({pageKey:"message_inbox",slotId:"realtime-upgrade-notice",groupId:"realtime_upgrade_postramp",widgetId:"messaging_realtime_upgrade_postramp"})
let P=(u=(0,l.inject)("lego@resolver"),p=(0,l.inject)("lego@tracking"),g=(0,l.inject)("lix"),h=(0,l.inject)("msg-ui@messaging-user-settings"),f=(0,l.inject)("global-services@window"),b=class extends c.default{constructor(){super(...arguments);(0,t.default)(this,"legoResolver",y,this);(0,t.default)(this,"legoTracking",v,this);(0,t.default)(this,"lix",_,this);(0,t.default)(this,"msgUserSettings",w,this);(0,t.default)(this,"windowService",M,this);(0,t.default)(this,"showNotice",k,this);(0,t.default)(this,"isPostRamp",C,this);(0,t.default)(this,"legoTrackingToken",T,this)
if(this.lix.getTreatmentIsEnabled("voyager.web.messaging-post-settings-change-read-receipts-toast")){this.isPostRamp=!0
this._initialize(E)}else this._initialize(x)}_initialize(e){(0,d.hash)({legoWidget:this.legoResolver.fireLegoCall(e),readReceiptsAndTypingIndicatorsEnabled:this.msgUserSettings.getReadReceiptsAndTypingIndicatorsEnabled()}).then((e=>{let{legoWidget:t,readReceiptsAndTypingIndicatorsEnabled:n}=e
if(!this.isDestroying&&t&&n){this.showNotice=!0
this.legoTrackingToken=(0,a.get)(t,"trackingToken")}}))}viewSettings(){this.legoTracking.sendLegoAction(this.legoTrackingToken,this.legoTracking.LEGO_ACTION_SECONDARY,1)
this.showNotice=!1
this.windowService.open("/psettings/seen-receipts","_blank")}dismiss(){this.legoTracking.sendLegoAction(this.legoTrackingToken,this.legoTracking.LEGO_ACTION_PRIMARY,1)
this.showNotice=!1}},y=(0,i.default)(b.prototype,"legoResolver",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=(0,i.default)(b.prototype,"legoTracking",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=(0,i.default)(b.prototype,"lix",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=(0,i.default)(b.prototype,"msgUserSettings",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=(0,i.default)(b.prototype,"windowService",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=(0,i.default)(b.prototype,"showNotice",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),C=(0,i.default)(b.prototype,"isPostRamp",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),T=(0,i.default)(b.prototype,"legoTrackingToken",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),(0,i.default)(b.prototype,"viewSettings",[a.action],Object.getOwnPropertyDescriptor(b.prototype,"viewSettings"),b.prototype),(0,i.default)(b.prototype,"dismiss",[a.action],Object.getOwnPropertyDescriptor(b.prototype,"dismiss"),b.prototype),b)
e.default=P;(0,r.setComponentTemplate)(S,P)}))
define("msg-ui/components/rich-media/attachment-display",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","ember","@ember/object","@ember/runloop","@ember/service","msg-shared/utils/file-meta","@glimmer/component","msg-shared/utils/constants","global-utils/utils/file-size-formatter","global-utils/utils/is-browser","@glimmer/tracking"],(function(e,t,n,i,s,r,o,a,l,c,m,d,u,p,g,h,f){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var b,y,v,_,w,M,k,C,T,S,x,E,P,D
const I=(0,o.createTemplateFactory)({id:"E8B0ttzu",block:'[[[8,[39,0],null,[["@classNames","@attachment","@enableMsgFwd","@deleteMessageEventModalState","@event","@filename","@isImage","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@setMessageFocus","@shouldShowEditDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName"],[[29,["\\n    msg-s-event-listitem__attachment-item\\n    ",[52,[30,0,["scanInProgress"]],"msg-s-event-listitem__attachment-item--is-scanning"],"\\n    ",[52,[30,0,["downloaded"]],"msg-s-event-listitem__attachment-item--downloaded"],"\\n    ",[52,[30,0,["messageFocused"]],"msg-s-event-listitem__message-bubble--is-focused"],"\\n  "]],[30,1],[30,2],[30,3],[30,4],[30,0,["filename"]],[30,0,["isImage"]],[30,5],[30,6],[30,7],[30,8],[28,[37,2],[[30,0],"messageFocused"],null],[30,9],false,[30,10],[30,11]]],[["default"],[[[[1,"\\n"],[41,[30,0,["isImage"]],[[[1,"    "],[10,0],[14,0,"msg-s-event-listitem__image-container"],[12],[1,"\\n      "],[11,"button"],[24,0,"full-height full-width"],[24,4,"button"],[4,[38,3],["click",[28,[37,2],[[30,0],"previewModalIsOpen",true],null]],null],[4,[38,4],["photo_viewer"],null],[12],[1,"\\n        "],[10,1],[14,0,"visually-hidden"],[12],[1,"\\n          "],[1,[28,[35,5],["i18n_file_preview","msg-ui/components/rich-media/attachment-display"],[["filename"],[[30,0,["filename"]]]]]],[1,"\\n        "],[13],[1,"\\n"],[1,"        "],[8,[39,6],null,[["@image","@class","@alt","@ghostType","@desiredWidth"],[[28,[37,7],[[30,0,["downloadUrl"]]],null],"msg-s-event-listitem__image block",[30,0,["filename"]],"image",1000]],null],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n"]],[]],[[[1,"    "],[11,3],[16,6,[52,[30,0,["scanPassed"]],[30,0,["downloadUrl"]]]],[24,0,"msg-s-event-listitem__download-attachment t-14 t-black--light t-normal"],[16,"download",[30,0,["filename"]]],[24,"target","_blank"],[24,"rel","noopener noreferrer"],[4,[38,3],["click",[30,0,["attemptToDownload"]]],null],[4,[38,4],["view_attachment"],null],[12],[1,"\\n      "],[10,1],[14,0,"visually-hidden"],[12],[1,"\\n        "],[1,[28,[35,5],["i18n_download","msg-ui/components/rich-media/attachment-display"],[["filename"],[[30,0,["filename"]]]]]],[1,"\\n      "],[13],[1,"\\n      "],[10,0],[15,0,[29,["msg-s-event-listitem__attachment-type ui-attachment ui-attachment--",[30,0,["mediaTypeExtension"]],"\\n          display-flex m0"]]],[12],[1,"\\n"],[41,[30,0,["showPrompt"]],[[[1,"          "],[10,0],[14,0,"msg-s-event-listitem__attachment-prompt text-align-center t-14 t-black t-bold"],[12],[1,"\\n"],[41,[30,0,["showFailure"]],[[[1,"              "],[10,1],[14,0,"msg-s-event-listitem__attachment-error"],[12],[1,"\\n                "],[1,[28,[35,8],null,[["animate","type","class"],[true,"yield-pebble-icon","flex-shrink-zero mr1"]]]],[1,"\\n                "],[1,[52,[30,0,["scanFailed"]],[28,[37,5],["i18n_virus_detected","msg-ui/components/rich-media/attachment-display"],null],[28,[37,5],["i18n_scan_failed","msg-ui/components/rich-media/attachment-display"],null]]],[1,"\\n              "],[13],[1,"\\n"]],[]],[[[1,"              "],[1,[28,[35,5],["i18n_download_attachment","msg-ui/components/rich-media/attachment-display"],null]],[1,"\\n"]],[]]],[1,"          "],[13],[1,"\\n"]],[]],[[[1,"          "],[10,0],[14,0,"flex-grow-1 truncate"],[12],[1,"\\n            "],[10,"h3"],[14,0,"ui-attachment__filename"],[12],[1,"\\n              "],[1,[30,0,["filename"]]],[1,"\\n            "],[13],[1,"\\n            "],[10,2],[14,0,"ui-attachment__filesize flex-shrink-zero"],[12],[1,"\\n              "],[1,[30,0,["formattedSize"]]],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n          "],[10,0],[14,0,"display-flex align-items-center justify-center flex-shrink-zero"],[12],[1,"\\n"],[1,"            "],[10,"button"],[14,0,"ui-attachment__download-button display-flex align-items-center justify-center"],[14,4,"button"],[12],[1,"\\n"],[41,[30,0,["scanInProgress"]],[[[1,"                "],[10,2],[14,0,"t-14 t-black--light t-bold"],[12],[1,"\\n                  "],[1,[28,[35,5],["i18n_scanning","msg-ui/components/rich-media/attachment-display"],null]],[1,"\\n                "],[13],[1,"\\n"]],[]],[[[1,"                "],[1,[28,[35,8],null,[["type","size","a11y-text"],["download-icon","small",[28,[37,5],["i18n_download_attachment","msg-ui/components/rich-media/attachment-display"],null]]]]],[1,"\\n                "],[10,2],[14,0,"t-14 t-black--light t-bold"],[12],[1,"\\n                  "],[1,[28,[35,5],["i18n_download_attachment","msg-ui/components/rich-media/attachment-display"],null]],[1,"\\n                "],[13],[1,"\\n"]],[]]],[1,"            "],[13],[1,"\\n          "],[13],[1,"\\n"]],[]]],[1,"      "],[13],[1,"\\n    "],[13],[1,"\\n"]],[]]],[1,"\\n  "],[8,[39,9],null,[["@dismissModal","@isOpen","@modalClasses","@overlayClasses"],[[30,0,["dismissModal"]],[30,0,["previewModalIsOpen"]],"msg-modal-preview","display-flex flex-column justify-center"]],[["default"],[[[[1,"\\n    "],[8,[30,12,["artdeco-modal-header"]],null,[["@classNames"],["visually-hidden"]],[["default"],[[[[1,"\\n      "],[10,"h3"],[14,1,"msg-modal-preview__label"],[14,0,"t-18 t-white--light t-bold"],[12],[1,"\\n        "],[1,[30,1,["displayName"]]],[1,"\\n      "],[13],[1,"\\n    "]],[]]]]],[1,"\\n\\n    "],[8,[30,12,["artdeco-modal-content"]],null,[["@classNames"],["msg-modal-preview__content"]],[["default"],[[[[1,"\\n      "],[8,[39,6],null,[["@alt","@classNames","@ghostType","@image","@desiredWidth"],[[28,[37,5],["i18n_img_alt","msg-ui/components/rich-media/attachment-display"],[["filename"],[[30,0,["filename"]]]]],"msg-modal-preview__image","image",[30,0,["downloadUrl"]],10000]],null],[1,"\\n    "]],[]]]]],[1,"\\n  "]],[12]]]]],[1,"\\n"]],[]]]]]],["@attachment","@enableMsgFwd","@deleteMessageEventModalState","@event","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@shouldShowEditDelete","@showSendReactionControls","@reactionsHoverTrackingName","modal"],false,["msg-ui@primitives/event-listitem-actions","if","ember-set-helper@set","on","ember-cli-pemberly-tracking@track-interaction","t","ember-vector-images@custom-image","unbound","artdeco-icons-web@li-icon","artdeco-modal@artdeco-modal"]]',moduleName:"msg-ui/components/rich-media/attachment-display.hbs",isStrictMode:!1}),{ATTACHMENT_SCAN_STATUS:{VIRUS_DETECTED:O,VIRUS_NOT_DETECTED:A,SCANNING:j,ERROR:R}}=p.default
let N=(b=(0,m.inject)("jet"),y=(0,m.inject)("i18n"),v=(0,m.inject)("tracking"),_=(0,m.inject)("msg-data@data-manager"),w=class extends u.default{constructor(){super(...arguments);(0,t.default)(this,"jet",M,this);(0,t.default)(this,"i18n",k,this);(0,t.default)(this,"tracking",C,this);(0,t.default)(this,"msgDataManager",T,this);(0,t.default)(this,"scanCount",S,this);(0,t.default)(this,"scanStatus",x,this);(0,t.default)(this,"showDownload",E,this);(0,t.default)(this,"downloaded",P,this);(0,t.default)(this,"previewModalIsOpen",D,this);(0,n.default)(this,"scanLog",void 0)}get scanFailed(){return this.scanStatus===O}get scanPassed(){return this.scanStatus===A}get scanInProgress(){return this.scanStatus===j}get scanError(){return this.scanStatus===R}get showFailure(){return this.scanFailed||this.scanError}get showPrompt(){return this.showDownload||this.showFailure}get downloadUrl(){return(0,l.get)(this.args,"attachment.reference")}get attachmentId(){return(0,l.get)(this.args,"attachment.id")}get isImage(){const e=(0,l.get)(this.args,"attachment.mediaType"),t=(0,l.get)(this.args,"attachment.name")
return(0,d.isSupportedImageFile)(e,t)}get filename(){return jSecure.htmlUnencode((0,l.get)(this.args,"attachment.name"))}get mediaTypeExtension(){return(0,d.mediaTypeExtension)((0,l.get)(this.args,"attachment.mediaType"))}get formattedSize(){return(0,g.default)((0,l.get)(this.args,"attachment.byteSize"),this.i18n)}_startScan(){this.scanCount=0
this.scanLog=[]
this.scanStatus=j
this._getScanStatus()}_getScanStatus(){if(!this.isDestroying){this.scanLog.push(`${Date.now()}:request`)
this.msgDataManager.getAttachmentScanStatus(this.attachmentId).then((e=>this._handleScanStatus(e.data.value))).catch((e=>{this._handleScanRequestFailed(e)
throw e}))}}_handleScanStatus(e){if(!this.isDestroying){this.scanLog.push(`${Date.now()}:response:${e}`)
this.scanStatus=e
switch(e){case j:if(++this.scanCount>=5){this.scanStatus=R
this.jet.info(new Error("Attachment scan timed out"),[`id: ${this.attachmentId}`,`log: ${this.scanLog.join(",")}`,"messenger-attachments"])}else a.default.testing||(0,c.later)(this,this._getScanStatus,3e3)
return
case A:this.showDownload=!0
this._autoDownload()
return
case O:case R:return
default:this.scanStatus=R}}}_handleScanRequestFailed(e){if(!this.isDestroying){this.scanStatus=R
this.jet.error(e,`id: ${this.attachmentId}`,"messenger-attachments")}}_autoDownload(){if(!a.default.testing&&h.default){const e=document.createElement("a")
e.setAttribute("href",this.downloadUrl)
e.setAttribute("download",this.filename)
e.style.display="none"
document.body.appendChild(e)
e.click()
document.body.removeChild(e)
this._handleDownloaded()}}_handleDownloaded(){this.showDownload=!1
this.downloaded=!0}attemptToDownload(e){if(this.scanPassed)this._handleDownloaded()
else if(!this.scanInProgress){e.preventDefault()
this._startScan()}}dismissModal(){this.previewModalIsOpen=!1
this.tracking.fireInteractionEvent("close_photo_viewer")}},M=(0,i.default)(w.prototype,"jet",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=(0,i.default)(w.prototype,"i18n",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=(0,i.default)(w.prototype,"tracking",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,i.default)(w.prototype,"msgDataManager",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,i.default)(w.prototype,"scanCount",[f.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=(0,i.default)(w.prototype,"scanStatus",[f.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),E=(0,i.default)(w.prototype,"showDownload",[f.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P=(0,i.default)(w.prototype,"downloaded",[f.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=(0,i.default)(w.prototype,"previewModalIsOpen",[f.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,i.default)(w.prototype,"attemptToDownload",[l.action],Object.getOwnPropertyDescriptor(w.prototype,"attemptToDownload"),w.prototype),(0,i.default)(w.prototype,"dismissModal",[l.action],Object.getOwnPropertyDescriptor(w.prototype,"dismissModal"),w.prototype),w)
e.default=N;(0,r.setComponentTemplate)(I,N)}))
define("msg-ui/components/rich-media/attachment-drag-and-drop-error-display",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const s=(0,n.createTemplateFactory)({id:"TZjc9gfM",block:'[[[10,0],[14,0,"msg-form__attachment-drag-and-drop-error-display pv2 ph4 display-flex"],[12],[1,"\\n  "],[10,2],[14,0,"msg-form__attachment-drag-and-drop-error-text flex-1 t-12 t-bold"],[12],[1,"\\n"],[41,[28,[37,1],[[30,1],"MULTIPLE_FILES"],null],[[[1,"      "],[1,[28,[35,2],["i18n_error_multiple_files","msg-ui/components/rich-media/attachment-drag-and-drop-error-display"],null]],[1,"\\n"]],[]],[[[1,"      "],[1,[28,[35,2],["i18n_error_invalid_file_type","msg-ui/components/rich-media/attachment-drag-and-drop-error-display"],null]],[1,"\\n"]],[]]],[1,"  "],[13],[1,"\\n\\n  "],[11,"button"],[24,0,"msg-form__attachment-drag-and-drop-error-dismiss-button"],[24,4,"button"],[4,[38,3],["click",[30,2]],null],[12],[1,"\\n    "],[1,[28,[35,4],null,[["type","a11y-text","size"],["cancel-icon",[28,[37,2],["i18n_dismiss_error","msg-ui/components/rich-media/attachment-drag-and-drop-error-display"],null],"small"]]]],[1,"\\n  "],[13],[1,"\\n"],[13]],["@errorType","@dismissError"],false,["if","global-helpers@eq","t","on","artdeco-icons-web@li-icon"]]',moduleName:"msg-ui/components/rich-media/attachment-drag-and-drop-error-display.hbs",isStrictMode:!1})
var r=(0,t.setComponentTemplate)(s,(0,i.default)())
e.default=r}))
define("msg-ui/components/rich-media/attachment-drag-and-drop",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@ember/object","@ember/service","@glimmer/component","@glimmer/tracking","ember-lifeline","msg-shared/utils/attachments-handler"],(function(e,t,n,i,s,r,o,a,l,c,m,d,u){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var p,g,h,f,b,y,v,_,w
const M=(0,o.createTemplateFactory)({id:"Qe83t3PT",block:'[[[11,0],[16,0,[28,[37,0],["msg-form__attachment-drag-and-drop",[52,[30,0,["isDraggingOverWindow"]]," msg-form__attachment-drag-and-drop--over-window"],[52,[30,0,["isDraggingOverLayer"]]," msg-form__attachment-drag-and-drop--over-layer"],[52,[30,0,["showUserEducationLayer"]]," msg-form__attachment-drag-and-drop--user-education"]],null]],[4,[38,2],[[30,0,["setupWindowDragAndDropListeners"]]],null],[4,[38,3],["dragenter",[30,0,["onDragEnter"]]],null],[4,[38,3],["dragleave",[30,0,["onDragLeave"]]],null],[4,[38,3],["dragover",[30,0,["onDragOver"]]],null],[4,[38,3],["drop",[30,0,["onDrop"]]],null],[12],[1,"\\n  "],[10,0],[14,0,"msg-form__attachment-drag-and-drop-content display-flex flex-column align-items-center justify-center"],[12],[1,"\\n    "],[10,0],[14,0,"msg-form__attachment-drag-and-drop-state-illustration"],[12],[13],[1,"\\n    "],[10,0],[14,0,"msg-form__attachment-drag-and-drop-text display-flex flex-column align-items-center justify-center"],[12],[1,"\\n      "],[10,0],[14,0,"msg-form__attachment-drag-and-drop-state-text t-16 t-bold"],[12],[1,"\\n        "],[1,[52,[30,0,["isDraggingOverLayer"]],[28,[37,4],["i18n_drop_file","msg-ui/components/rich-media/attachment-drag-and-drop"],null],[28,[37,4],["i18n_drag_file","msg-ui/components/rich-media/attachment-drag-and-drop"],null]]],[1,"\\n      "],[13],[1,"\\n      "],[10,0],[14,0,"msg-form__attachment-drag-and-drop-discoverability-text text-align-center"],[12],[1,"\\n        "],[10,0],[14,0,"t-16 t-bold"],[12],[1,"\\n          "],[1,[28,[35,4],["i18n_select_file","msg-ui/components/rich-media/attachment-drag-and-drop"],null]],[1,"\\n        "],[13],[1,"\\n        "],[10,0],[14,0,"t-14"],[12],[1,"\\n          "],[1,[28,[35,4],["i18n_or_drag_and_drop","msg-ui/components/rich-media/attachment-drag-and-drop"],null]],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"],[13]],[],false,["concat","if","did-insert","on","t"]]',moduleName:"msg-ui/components/rich-media/attachment-drag-and-drop.hbs",isStrictMode:!1}),k="MULTIPLE_FILES",C="INVALID_FILE_TYPE",T=/^image\/*/,S=["ai","psd","pdf","doc","docx","csv","zip","rar","ppt","pptx","pps","ppsx","odt","rtf","xls","xlsx","txt","pub","html","7z","eml"]
let x=(p=(0,l.inject)("jet"),g=(0,l.inject)("tracking"),h=(0,l.inject)("vector@vector-upload"),f=class extends c.default{constructor(){super(...arguments);(0,t.default)(this,"jet",b,this);(0,t.default)(this,"tracking",y,this);(0,t.default)(this,"vectorUpload",v,this);(0,t.default)(this,"isDraggingOverWindow",_,this);(0,t.default)(this,"isDraggingOverLayer",w,this)
this.windowDragCounter=0
this.layerDragCounter=0
this.attachmentsHandler=new u.default({vectorUpload:this.vectorUpload,tracking:this.tracking,jet:this.jet,updateUI:this.args.addAttachment,beforeUpload:this.args.beforeUpload,afterUpload:this.afterDropUpload.bind(this)})}willDestroy(){super.willDestroy(...arguments);(0,d.runDisposables)(this)}setupWindowDragAndDropListeners(){(0,d.addEventListener)(this,window,"dragenter",(e=>{if(!this.isDestroying&&this._isFileDragAndDropEvent(e)){this.windowDragCounter+=1
if(1===this.windowDragCounter){(0,a.set)(this,"isDraggingOverWindow",!0)
this.tracking.firePageViewEvent(this.args.trackingKeys.PAGE_VIEW.DRAG)}}}));(0,d.addEventListener)(this,window,"dragleave",(e=>{if(!this.isDestroying&&this._isFileDragAndDropEvent(e)){e.preventDefault()
this.windowDragCounter-=1
0===this.windowDragCounter&&(0,a.set)(this,"isDraggingOverWindow",!1)}}));(0,d.addEventListener)(this,window,"drop",(e=>{if(!this.isDestroying&&this._isFileDragAndDropEvent(e)){this.windowDragCounter=0;(0,a.setProperties)(this,{isDraggingOverWindow:!1,showUserEducationLayer:!1})}}))}onDragEnter(e){if(!this.isDestroying&&this._isFileDragAndDropEvent(e)){this.layerDragCounter+=1
if(1===this.layerDragCounter){this.isDraggingOverLayer=!0
this.tracking.firePageViewEvent(this.args.trackingKeys.PAGE_VIEW.DROP)}}}onDragLeave(e){if(!this.isDestroying&&this._isFileDragAndDropEvent(e)){e.preventDefault()
this.layerDragCounter-=1
0===this.layerDragCounter&&(this.isDraggingOverLayer=!1)}}onDrop(e){if(this.isDestroying&&!this._isFileDragAndDropEvent(e))return
e.preventDefault()
this.layerDragCounter=0
this.isDraggingOverLayer=!1
const{files:t}=e.dataTransfer
if(0===t.length)return
if(t.length>1){this.args.onError(k)
return}const n=t[0]
if(this._isAcceptedFileType(n)){this.tracking.fireInteractionEvent(this.args.trackingKeys.INTERACTION.DROPPED)
this.attachmentsHandler.uploadAttachment(n)}else this.args.onError(C)}onDragOver(e){e.preventDefault()}_isFileDragAndDropEvent(e){return-1!==Array.prototype.indexOf.call(e.dataTransfer.types,"Files")}_isAcceptedFileType(e){if(!e.type)return!1
if(T.test(e.type))return!0
const t=this._getFileExtension(e.name)
return-1!==S.indexOf(t)}_getFileExtension(e){return e.includes(".")?e.split(".").pop().toLowerCase():""}afterDropUpload(){this.tracking.fireInteractionEvent(this.args.trackingKeys.INTERACTION.UPLOADED)
this.args.afterUpload()}},b=(0,i.default)(f.prototype,"jet",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=(0,i.default)(f.prototype,"tracking",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=(0,i.default)(f.prototype,"vectorUpload",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=(0,i.default)(f.prototype,"isDraggingOverWindow",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=(0,i.default)(f.prototype,"isDraggingOverLayer",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,i.default)(f.prototype,"setupWindowDragAndDropListeners",[a.action],Object.getOwnPropertyDescriptor(f.prototype,"setupWindowDragAndDropListeners"),f.prototype),(0,i.default)(f.prototype,"onDragEnter",[a.action],Object.getOwnPropertyDescriptor(f.prototype,"onDragEnter"),f.prototype),(0,i.default)(f.prototype,"onDragLeave",[a.action],Object.getOwnPropertyDescriptor(f.prototype,"onDragLeave"),f.prototype),(0,i.default)(f.prototype,"onDrop",[a.action],Object.getOwnPropertyDescriptor(f.prototype,"onDrop"),f.prototype),(0,i.default)(f.prototype,"onDragOver",[a.action],Object.getOwnPropertyDescriptor(f.prototype,"onDragOver"),f.prototype),f)
e.default=x;(0,r.setComponentTemplate)(M,x)}))
define("msg-ui/components/rich-media/audio-display",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","ember","@ember/object","@ember/service","@glimmer/component","@glimmer/tracking","global-utils/utils/is-browser"],(function(e,t,n,i,s,r,o,a,l,c,m,d,u){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var p,g,h,f
const b=(0,o.createTemplateFactory)({id:"TfQQkwZM",block:'[[[11,"button"],[24,0,"msg-s-event-listitem__audio"],[16,5,[29,["width: calc(75px + ",[36,0]," * (100% - 75px));"]]],[24,4,"button"],[4,[38,1],["click",[30,0,["onClick"]]],null],[12],[1,"\\n  "],[10,"progress"],[14,0,"msg-s-event-listitem__audio-progress-bar"],[15,2,[30,0,["currentTime"]]],[15,"max",[30,0,["duration"]]],[12],[1,"\\n  "],[13],[1,"\\n\\n  "],[10,0],[14,0,"msg-s-event-listitem__audio-icon-container relative"],[12],[1,"\\n"],[41,[30,0,["isPlaying"]],[[[1,"      "],[1,[28,[35,3],null,[["class","type","size","a11y-text"],["mh2","pause-icon","small",[28,[37,4],["i18n_pause","msg-ui/components/rich-media/audio-display"],null]]]]],[1,"\\n"]],[]],[[[1,"      "],[1,[28,[35,3],null,[["class","type","size","a11y-text"],["mh2","play-icon","small",[28,[37,4],["i18n_play","msg-ui/components/rich-media/audio-display"],null]]]]],[1,"\\n"]],[]]],[1,"  "],[13],[1,"\\n\\n  "],[10,1],[14,0,"msg-s-event-listitem__audio-time t-12 t-white t-normal"],[12],[1,"\\n    "],[1,[28,[35,5],[[30,0,["roundedRemainingTime"]]],[["customPrefixFormat"],[[30,0,["customPrefixFormat"]]]]]],[1,"\\n  "],[13],[1,"\\n"],[13]],[],false,["widthRatio","on","if","artdeco-icons-web@li-icon","t","global-helpers@format-duration"]]',moduleName:"msg-ui/components/rich-media/audio-display.hbs",isStrictMode:!1})
let y=(p=(0,c.inject)("tracking"),g=class extends m.default{get customPrefixFormat(){return{prefixInsignificants:!1,prefixSeconds:!0}}get duration(){return(0,l.get)(this.args,"mediaAttachment.audioMetadata.duration")/1e3}get roundedRemainingTime(){return Math.round(this.duration-this.currentTime)}get widthRatio(){return Math.max(0,Math.min(this.duration/60,1))}constructor(){super(...arguments);(0,t.default)(this,"tracking",h,this);(0,t.default)(this,"currentTime",f,this);(0,n.default)(this,"isPlaying",!1);(0,n.default)(this,"trackingPrefix","");(0,l.set)(this,"audio",new Audio)
const e=document.createElement("source")
e.src=jSecure.sanitizeUrl((0,l.get)(this.args,"mediaAttachment.audioMetadata.url"))
e.type="audio/mp4"
this.audio.appendChild(e)
this.audio.addEventListener("playing",this._handlePlaybackStarted.bind(this))
this.audio.addEventListener("ended",this._handlePlaybackEnded.bind(this))}onClick(){this.isPlaying?this._pauseAudio():this._playAudio()}_handlePlaybackStarted(){this.tracking.fireInteractionEvent(`${this.args.trackingPrefix||""}play_successful_voice_message`)
this._updateProgress()}_updateProgress(){a.default.testing?(0,l.set)(this,"currentTime",this.audio.currentTime):u.default&&window.requestAnimationFrame((()=>{if(this.isPlaying){(0,l.set)(this,"currentTime",this.audio.currentTime)
this._updateProgress()}}))}_handlePlaybackEnded(){(0,l.setProperties)(this,{isPlaying:!1,currentTime:0})}_playAudio(){(0,l.set)(this,"isPlaying",!0)
this.audio.play()
this.tracking.fireInteractionEvent(`${this.args.trackingPrefix||""}play_voice_message`)}_pauseAudio(){(0,l.set)(this,"isPlaying",!1)
this.audio.pause()
this.tracking.fireInteractionEvent(`${this.args.trackingPrefix||""}pause_voice_message`)}},h=(0,i.default)(g.prototype,"tracking",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=(0,i.default)(g.prototype,"currentTime",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),(0,i.default)(g.prototype,"onClick",[l.action],Object.getOwnPropertyDescriptor(g.prototype,"onClick"),g.prototype),g)
e.default=y;(0,r.setComponentTemplate)(b,y)}))
define("msg-ui/components/rich-media/content-preview",["exports","@ember/component","@ember/template-factory","@ember/component/template-only"],(function(e,t,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const s=(0,n.createTemplateFactory)({id:"4qARNgzZ",block:'[[[41,[30,1],[[[1,"  "],[8,[39,1],null,[["@classNames","@deleteMessageEventModalState","@enableMsgFwd","@event","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@shouldShowEditDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName"],["msg-s-event-listitem__message-bubble--msg-actions-enabled",[30,2],false,[30,3],[30,4],[30,5],[30,6],[30,7],false,false,[30,1],[30,8]]],[["default"],[[[[1,"\\n    "],[8,[39,2],null,[["@shouldShowMessageSendingIndicator","@messageStatus"],[[30,9],[30,10]]],[["default"],[[[[1,"\\n      "],[10,0],[14,0,"msg-s-event-listitem__content-preview-container"],[12],[1,"\\n        "],[11,0],[24,0,"msg-content-preview artdeco-card"],[17,11],[12],[1,"\\n          "],[8,[39,3],null,[["@route","@model","@class"],["feed.update",[30,12,["updateMetadata","urn"]],"msg-content-preview__link feed-container-theme"]],[["default"],[[[[1,"\\n            "],[8,[39,4],null,[["@showFollowButton","@update","@showNestedShares"],[false,[30,12],[30,13]]],null],[1,"\\n          "]],[]]]]],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n    "]],[]]]]],[1,"\\n  "]],[]]]]],[1,"\\n"]],[]],[[[1,"  "],[8,[39,2],null,[["@shouldShowMessageSendingIndicator","@messageStatus"],[[30,0,["shouldShowMessageSendingIndicator"]],[30,0,["messageStatus"]]]],[["default"],[[[[1,"\\n    "],[10,0],[14,0,"msg-s-event-listitem__content-preview-container"],[12],[1,"\\n      "],[11,0],[24,0,"msg-content-preview artdeco-card"],[17,11],[12],[1,"\\n        "],[8,[39,3],null,[["@route","@model","@class"],["feed.update",[30,12,["updateMetadata","urn"]],"msg-content-preview__link feed-container-theme"]],[["default"],[[[[1,"\\n          "],[8,[39,4],null,[["@showFollowButton","@update","@showNestedShares"],[false,[30,12],[30,13]]],null],[1,"\\n        "]],[]]]]],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n  "]],[]]]]],[1,"\\n"]],[]]]],["@showSendReactionControls","@deleteMessageEventModalState","@event","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@reactionsHoverTrackingName","@shouldShowMessageSendingIndicator","@messageStatus","&attrs","@feedUpdate","@showNestedShares"],false,["if","msg-ui@primitives/event-listitem-actions","msg-ui@primitives/event-with-sending-indicator","ember-engines@link-to-external","feed-shared@render-models/mini-update-v2"]]',moduleName:"msg-ui/components/rich-media/content-preview.hbs",isStrictMode:!1})
var r=(0,t.setComponentTemplate)(s,(0,i.default)())
e.default=r}))
define("msg-ui/components/rich-media/messaging-story",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@ember/object","image-view-model/utils/artdeco-icon","@ember/service","@glimmer/tracking"],(function(e,t,n,i,s,r,o,a,l,c,m,d){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var u,p,g,h,f,b,y,v
const _=(0,o.createTemplateFactory)({id:"kax6Rffy",block:'[[[41,[30,1],[[[1,"  "],[8,[39,1],null,[["@classNames","@deleteMessageEventModalState","@enableMsgFwd","@event","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@setMessageFocus","@shouldShowEditDelete","@showMessageEditForm","@showSendReactionControls","@reactionsHoverTrackingName"],["msg-s-event-listitem__message-bubble--msg-actions-enabled",[30,2],[30,3],[30,4],[30,5],[30,6],[30,7],[30,8],[28,[37,2],[[30,0],"messageFocused"],null],[30,9],[30,10],[30,1],[30,11]]],[["default"],[[[[1,"\\n    "],[10,0],[14,0,"msg-story-item"],[12],[1,"\\n"],[41,[30,4,["eventContent","contentCaption"]],[[[1,"        "],[10,0],[14,0,"t-14 t-black--light pl2 pb2"],[12],[1,[28,[35,3],[[30,4,["eventContent","contentCaption"]]],null]],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"      "],[10,0],[14,0,"pl2 display-flex"],[12],[1,"\\n"],[41,[30,0,["showThumbnailContainer"]],[[[1,"          "],[10,0],[14,"role","link"],[14,"tabindex","0"],[15,"aria-label",[52,[30,0,["messagingStory","url"]],[28,[37,4],["a11y_click_to_view_story","msg-ui/components/rich-media/messaging-story"],null],[28,[37,4],["a11y_cant_view_expired_story","msg-ui/components/rich-media/messaging-story"],null]]],[15,0,[52,[30,0,["showExpiredState"]],"msg-story-item__thumbnail--expired","msg-story-item__thumbnail"]],[12],[1,"\\n"],[41,[30,0,["messagingStoryLoading"]],[[[1,"              "],[8,[39,5],null,[["@size"],["small"]],null],[1,"\\n"]],[]],[[[41,[30,0,["messagingStoryFailedToLoad"]],[[[1,"              "],[8,[39,6],[[16,"data-control-name",[28,[37,7],[[30,12],"reload_story_thumbnail"],null]],[16,"aria-label",[28,[37,4],["a11y_retry_loading_story","msg-ui/components/rich-media/messaging-story"],null]]],[["@type","@icon","@circle","@size","@color","@click"],["tertiary","refresh-icon",true,2,"muted",[30,0,["fetchMessagingStory"]]]],null],[1,"\\n"]],[]],[[[41,[30,0,["showExpiredState"]],[[[1,"                "],[10,0],[14,0,"msg-story-item__expired-thumbnail-icon-container"],[12],[1,"\\n                  "],[1,[28,[35,8],null,[["class","type","size"],["msg-story-item__expired-thumbnail-icon",[30,0,["expiredThumbnailIcon","name"]],"medium"]]]],[1,"\\n                "],[13],[1,"\\n"]],[]],[[[41,[30,0,["messagingStory","url"]],[[[1,"                "],[8,[39,9],[[24,0,"msg-story-item__link"],[16,"data-control-name",[28,[37,7],[[30,12],"expand_story_thumbnail"],null]],[24,"tabindex","-1"]],[["@href"],[[30,0,["messagingStory","url"]]]],null],[1,"\\n              "]],[]],null]],[]]],[41,[30,0,["messagingStory","thumbnail"]],[[[1,"                "],[8,[39,10],null,[["@class","@ghostType","@image","@desiredWidth"],["msg-story-item__thumbnail-image","image",[30,0,["messagingStory","thumbnail"]],72]],null],[1,"\\n"]],[]],null],[1,"            "]],[]]]],[]]],[1,"          "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["showExpiredState"]],[[[1,"          "],[10,0],[15,0,[28,[37,7],["t-12 t-black--light display-flex justify-center",[52,[30,0,["showThumbnailContainer"]]," flex-column"]],null]],[12],[1,"\\n            "],[1,[28,[35,8],null,[["a11y-text","class","type","size"],[[30,0,["messagingStory","expiredText","text"]],"mr1 mb2 align-self-flex-start",[30,0,["expiredTextIcon","name"]],"small"]]]],[1,"\\n            "],[1,[30,0,["messagingStory","expiredText","text"]]],[1,"\\n          "],[13],[1,"\\n"]],[]],null],[1,"      "],[13],[1,"\\n    "],[13],[1,"\\n  "]],[]]]]],[1,"\\n"]],[]],[[[1,"  "],[10,0],[14,0,"msg-story-item"],[12],[1,"\\n"],[41,[30,4,["eventContent","contentCaption"]],[[[1,"      "],[10,0],[14,0,"t-14 t-black--light pl2 pb2"],[12],[1,[28,[35,3],[[30,4,["eventContent","contentCaption"]]],null]],[13],[1,"\\n"]],[]],null],[1,"    "],[10,0],[14,0,"pl2 display-flex"],[12],[1,"\\n"],[41,[30,0,["showThumbnailContainer"]],[[[1,"        "],[10,0],[14,"role","link"],[14,"tabindex","0"],[15,"aria-label",[52,[30,0,["messagingStory","url"]],[28,[37,4],["a11y_click_to_view_story","msg-ui/components/rich-media/messaging-story"],null],[28,[37,4],["a11y_cant_view_expired_story","msg-ui/components/rich-media/messaging-story"],null]]],[15,0,[52,[30,0,["showExpiredState"]],"msg-story-item__thumbnail--expired","msg-story-item__thumbnail"]],[12],[1,"\\n"],[41,[30,0,["messagingStoryLoading"]],[[[1,"            "],[8,[39,5],null,[["@size"],["small"]],null],[1,"\\n"]],[]],[[[41,[30,0,["messagingStoryFailedToLoad"]],[[[1,"            "],[8,[39,6],[[16,"data-control-name",[28,[37,7],[[30,12],"reload_story_thumbnail"],null]],[16,"aria-label",[28,[37,4],["a11y_retry_loading_story","msg-ui/components/rich-media/messaging-story"],null]]],[["@type","@icon","@circle","@size","@color","@click"],["tertiary","refresh-icon",true,2,"muted",[30,0,["fetchMessagingStory"]]]],null],[1,"\\n"]],[]],[[[41,[30,0,["showExpiredState"]],[[[1,"              "],[10,0],[14,0,"msg-story-item__expired-thumbnail-icon-container"],[12],[1,"\\n                "],[1,[28,[35,8],null,[["class","type","size"],["msg-story-item__expired-thumbnail-icon",[30,0,["expiredThumbnailIcon","name"]],"medium"]]]],[1,"\\n              "],[13],[1,"\\n"]],[]],[[[41,[30,0,["messagingStory","url"]],[[[1,"              "],[8,[39,9],[[24,0,"msg-story-item__link"],[16,"data-control-name",[28,[37,7],[[30,12],"expand_story_thumbnail"],null]],[24,"tabindex","-1"]],[["@href"],[[30,0,["messagingStory","url"]]]],null],[1,"\\n            "]],[]],null]],[]]],[41,[30,0,["messagingStory","thumbnail"]],[[[1,"              "],[8,[39,10],null,[["@class","@ghostType","@image","@desiredWidth"],["msg-story-item__thumbnail-image","image",[30,0,["messagingStory","thumbnail"]],72]],null],[1,"\\n"]],[]],null],[1,"          "]],[]]]],[]]],[1,"        "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["showExpiredState"]],[[[1,"        "],[10,0],[15,0,[28,[37,7],["t-12 t-black--light display-flex justify-center",[52,[30,0,["showThumbnailContainer"]]," flex-column"]],null]],[12],[1,"\\n          "],[1,[28,[35,8],null,[["a11y-text","class","type","size"],[[30,0,["messagingStory","expiredText","text"]],"mr1 mb2 align-self-flex-start",[30,0,["expiredTextIcon","name"]],"small"]]]],[1,"\\n          "],[1,[30,0,["messagingStory","expiredText","text"]]],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"    "],[13],[1,"\\n  "],[13],[1,"\\n"]],[]]]],["@showSendReactionControls","@deleteMessageEventModalState","@enableMsgFwd","@event","@isOverlay","@onEmojiHoverableHide","@onEmojiHoverableShow","@onEmojiPickerVisibilityChange","@shouldShowEditDelete","@showMessageEditForm","@reactionsHoverTrackingName","@trackingPrefix"],false,["if","msg-ui@primitives/event-listitem-actions","ember-set-helper@set","text-view-model@text-view-model","t","artdeco-loader@artdeco-loader","artdeco-button@artdeco-button","concat","artdeco-icons-web@li-icon","app-aware-link@app-aware-link","ember-vector-images@custom-image"]]',moduleName:"msg-ui/components/rich-media/messaging-story.hbs",isStrictMode:!1})
let w=(u=(0,m.inject)("msg-data@data-manager"),p=class extends a.default{get showThumbnailContainer(){return(0,l.get)(this,"messagingStory.thumbnail")||this.messagingStoryLoading||this.messagingStoryFailedToLoad}get showExpiredState(){return this.messagingStory&&!(0,l.get)(this,"messagingStory.url")&&!this.messagingStoryFailedToLoad&&!this.messagingStoryLoading}constructor(){super(...arguments);(0,t.default)(this,"msgDataManager",g,this);(0,t.default)(this,"messagingStory",h,this);(0,t.default)(this,"messagingStoryLoading",f,this);(0,t.default)(this,"messagingStoryFailedToLoad",b,this);(0,t.default)(this,"expiredTextIcon",y,this);(0,t.default)(this,"expiredThumbnailIcon",v,this);(0,l.get)(this.args,"event.eventContent.storyItemUrn")&&this.fetchMessagingStory()}fetchMessagingStory(){this.messagingStoryLoading=!0
this.msgDataManager.fetchMessagingStory(this.args.event).then((e=>{if(!this.isDestroying){this.expiredThumbnailIcon=(0,c.getLIIcon)((0,l.get)(e,"expiredThumbnailIcon"))
this.expiredTextIcon=(0,c.getLIIcon)((0,l.get)(e,"expiredTextIcon"))
this.messagingStoryFailedToLoad=!1
this.messagingStoryLoading=!1
this.messagingStory=e}})).catch((e=>{if(!this.isDestroying){this.messagingStoryLoading=!1
this.messagingStoryFailedToLoad=!0
throw e}}))}},g=(0,i.default)(p.prototype,"msgDataManager",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=(0,i.default)(p.prototype,"messagingStory",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=(0,i.default)(p.prototype,"messagingStoryLoading",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=(0,i.default)(p.prototype,"messagingStoryFailedToLoad",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=(0,i.default)(p.prototype,"expiredTextIcon",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=(0,i.default)(p.prototype,"expiredThumbnailIcon",[d.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,i.default)(p.prototype,"fetchMessagingStory",[l.action],Object.getOwnPropertyDescriptor(p.prototype,"fetchMessagingStory"),p.prototype),p)
e.default=w;(0,r.setComponentTemplate)(_,w)}))
define("msg-ui/components/rich-media/upload-attachment-previews",["exports","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@ember/component","@ember/template-factory","@glimmer/component","@ember/object","ember-batcher"],(function(e,t,n,i,s,r,o){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var a
const l=(0,i.createTemplateFactory)({id:"FZ4jJclo",block:'[[[11,0],[24,0,"msg-form__attachment-previews overflow-auto scrollable"],[4,[38,0],[[28,[37,1],[[30,0],"scrollingContainer"],null]],null],[4,[38,2],[[30,0,["scrollToBottom"]],[30,1]],null],[12],[1,"\\n"],[42,[28,[37,4],[[28,[37,4],[[30,1]],null]],null],null,[[[1,"    "],[10,"figure"],[15,0,[29,["msg-form__attachment-preview msg-attachment-preview pv2 pl3 pr4\\n        ",[52,[30,2,["isError"]],"msg-attachment-preview--error",[52,[30,2,["isUploading"]],"msg-attachment-preview--uploading"]]]]],[12],[1,"\\n"],[41,[30,2,["isError"]],[[[1,"        "],[1,[28,[35,6],null,[["class","type","size"],["msg-attachment-preview__thumbnail-error EntityPhoto-square-2","error-pebble-icon","medium"]]]],[1,"\\n"]],[]],[[[41,[30,2,["isImage"]],[[[1,"        "],[10,0],[14,0,"msg-attachment-preview__image-container"],[12],[1,"\\n          "],[8,[39,7],null,[["@image","@class","@alt","@desiredWidth"],[[30,2,["reference"]],"msg-attachment-preview__image EntityPhoto-square-2",[28,[37,8],["a11y_preview_image","msg-ui/components/rich-media/upload-attachment-previews"],[["attachmentName"],[[30,2,["name"]]]]],40]],null],[1,"\\n        "],[13],[1,"\\n"]],[]],[[[1,"        "],[10,0],[15,0,[29,["t-12 t-white t-bold msg-attachment-preview__attachment-type ui-attachment ui-attachment--",[30,2,["mediaTypeExtension"]]]]],[12],[1,"\\n          "],[1,[30,2,["mediaTypeExtension"]]],[1,"\\n        "],[13],[1,"\\n      "]],[]]]],[]]],[1,"\\n      "],[10,"figcaption"],[14,0,"flex-1 overflow-hidden ph2"],[12],[1,"\\n"],[41,[51,[30,3]],[[[1,"          "],[10,0],[14,0,"display-flex t-12 t-black--light t-normal"],[12],[1,"\\n            "],[10,"h3"],[14,0,"msg-attachment-preview__attachment-name t-12 t-black--light t-bold truncate"],[12],[1,"\\n              "],[1,[30,2,["name"]]],[1,"\\n            "],[13],[1,"\\n            "],[10,1],[14,0,"msg-attachment-preview__bytesize flex-shrink-zero"],[12],[1,"\\n              "],[1,[30,2,["formattedSize"]]],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n"]],[]],null],[41,[30,2,["isUploading"]],[[[1,"          "],[10,2],[14,0,"msg-attachment-preview__status msg-attachment-preview__status--uploading t-12 t-black t-bold"],[12],[1,"\\n            "],[1,[28,[35,8],["attachment_status_uploading","msg-ui/components/rich-media/upload-attachment-previews"],null]],[1,"\\n          "],[13],[1,"\\n"]],[]],[[[41,[30,2,["isError"]],[[[1,"          "],[10,2],[14,0,"msg-attachment-preview__status msg-attachment-preview__status--error t-12 t-black t-bold"],[12],[1,"\\n"],[41,[30,2,["customError"]],[[[1,"              "],[1,[30,2,["customError"]]],[1,"\\n"]],[]],[[[1,"              "],[1,[52,[30,2,["isTypeError"]],[28,[37,8],["attachment_unsupported_type","msg-ui/components/rich-media/upload-attachment-previews"],null],[52,[30,2,["isSizeError"]],[28,[37,8],["attachment_unsupported_size","msg-ui/components/rich-media/upload-attachment-previews"],null],[28,[37,8],["attachment_status_error","msg-ui/components/rich-media/upload-attachment-previews"],null]]]],[1,"\\n"]],[]]],[1,"          "],[13],[1,"\\n"]],[]],[[[1,"          "],[10,2],[14,0,"msg-attachment-preview__status t-12 t-black--light t-normal"],[12],[1,"\\n            "],[1,[28,[35,8],["attachment_status_attached","msg-ui/components/rich-media/upload-attachment-previews"],null]],[1,"\\n          "],[13],[1,"\\n        "]],[]]]],[]]],[41,[30,2,["isUploading"]],[[[1,"          "],[10,"progress"],[14,0,"msg-attachment-preview__upload-progress mt1"],[14,"max","100"],[15,2,[30,2,["progress"]]],[12],[13],[1,"\\n"]],[]],null],[1,"      "],[13],[1,"\\n\\n"],[41,[30,2,["isRetryable"]],[[[1,"        "],[11,"button"],[24,0,"msg-attachment-preview__retry-attachment"],[24,4,"button"],[4,[38,10],["click",[28,[37,11],[[30,2,["retryAttachment"]],[30,2]],null]],null],[4,[38,12],["send_retry"],null],[12],[1,"\\n          "],[1,[28,[35,6],null,[["type","ally-text","size"],["refresh-icon",[28,[37,8],["attachment_retry","msg-ui/components/rich-media/upload-attachment-previews"],null],"small"]]]],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"\\n      "],[11,"button"],[24,0,"msg-attachment-preview__remove-attachment"],[24,4,"button"],[4,[38,10],["click",[28,[37,11],[[30,4],[30,2]],null]],null],[4,[38,12],["cancel_selected_photo"],null],[12],[1,"\\n        "],[1,[28,[35,6],null,[["type","a11y-text","size"],["cancel-icon",[28,[37,8],["a11y_attachment_remove","msg-ui/components/rich-media/upload-attachment-previews"],[["attachmentName"],[[30,2,["name"]]]]],"small"]]]],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n"]],[2]],null],[13]],["@attachments","attachment","@hideAttachmentInfo","@removeAttachment"],false,["did-insert","ember-set-helper@set","did-update","each","-track-array","if","artdeco-icons-web@li-icon","ember-vector-images@custom-image","t","unless","on","fn","ember-cli-pemberly-tracking@track-interaction"]]',moduleName:"msg-ui/components/rich-media/upload-attachment-previews.hbs",isStrictMode:!1})
let c=(a=class extends s.default{scrollToBottom(){(0,o.mutateDOM)((()=>{this.isDestroying||(this.scrollingContainer.scrollTop=this.scrollingContainer.scrollHeight)}))}},(0,t.default)(a.prototype,"scrollToBottom",[r.action],Object.getOwnPropertyDescriptor(a.prototype,"scrollToBottom"),a.prototype),a)
e.default=c;(0,n.setComponentTemplate)(l,c)}))
define("msg-ui/components/rich-media/video-display",["exports","@ember/component","@ember/template-factory","@ember/object","@glimmer/component"],(function(e,t,n,i,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const r=(0,n.createTemplateFactory)({id:"ykkq+rMD",block:'[[[10,0],[14,0,"msg-s-event-listitem__video"],[12],[1,"\\n  "],[10,0],[14,0,"msg-s-event-listitem__video-aspect-ratio-container"],[12],[1,"\\n    "],[8,[39,0],null,[["@pillarSource"],["messaging"]],[["default"],[[[[1,"\\n      "],[8,[30,1,["NativeVideoLoader"]],null,[["@videoPlayMetadata","@iconSize","@onPlayerReady"],[[30,0,["videoPlayMetadata"]],[30,2],[30,3]]],null],[1,"\\n    "]],[1]]]]],[1,"\\n  "],[13],[1,"\\n"],[13]],["videoRouter","@iconSize","@onPlayerReady"],false,["video@native-video-router"]]',moduleName:"msg-ui/components/rich-media/video-display.hbs",isStrictMode:!1})
class o extends s.default{constructor(){super(...arguments)
this.videoPlayMetadata=JSON.parse(JSON.stringify((0,i.get)(this.args,"mediaAttachment.videoPlayMetadata")))
this.videoPlayMetadata.progressiveStreams[0].mediaType="video/mp4"}}e.default=o;(0,t.setComponentTemplate)(r,o)}))
define("msg-ui/components/selectable-entity",["exports","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@ember/component","@ember/template-factory","@glimmer/component","@ember/object/internals","@ember/object"],(function(e,t,n,i,s,r,o,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var l
const c=(0,s.createTemplateFactory)({id:"T8quOCi4",block:'[[[11,0],[16,0,[29,[[52,[30,1],"pt1","msg-selectable-entity"],"\\n    ",[52,[30,2],"msg-selectable-entity__checkbox-only"],"\\n    ",[30,0,["sizeClass"]]]]],[17,3],[4,[38,1],["click",[30,0,["handleClick"]]],null],[12],[1,"\\n"],[41,[28,[37,2],[[30,4]],null],[[[1,"    "],[8,[39,3],[[24,0,"msg-selectable-entity__entity"]],[["@miniProfile","@size"],[[30,4,["participants","firstObject","miniProfile"]],[30,5]]],null],[1,"\\n"]],[]],[[[1,"    "],[8,[39,4],[[24,0,"msg-selectable-entity__entity"]],[["@conversation","@entitySize","@iconSize"],[[30,4],[30,5],[30,6]]],null],[1,"\\n"]],[]]],[1,"\\n  "],[10,0],[14,0,"msg-selectable-entity__checkbox-container"],[12],[1,"\\n    "],[8,[39,5],null,[["@type","@tabindex","@classNames","@id","@checked"],["checkbox","-1",[28,[37,6],["msg-selectable-entity__input",[52,[28,[37,7],[[30,5],2],null]," small-input"," simple-form"]],null],[28,[37,6],["checkbox-",[33,8]],null],[30,4,["checked"]]]],null],[1,"\\n    "],[10,"label"],[14,0,"msg-selectable-entity__checkbox-label ml2"],[15,"aria-label",[52,[30,4,["checked"]],[28,[37,9],["i18n_unselect_conversation_a11y","msg-ui/components/selectable-entity"],null],[28,[37,9],["i18n_select_conversation_a11y","msg-ui/components/selectable-entity"],null]]],[15,"for",[28,[37,6],["checkbox-",[33,8]],null]],[12],[1,"\\n    "],[13],[1,"\\n\\n    "],[10,0],[14,0,"msg-selectable-entity__checkbox-circle-container"],[12],[1,"\\n      "],[10,0],[14,0,"msg-selectable-entity__checkbox-circle"],[12],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"],[13]],["@disableSelectability","@checkboxOnly","&attrs","@conversation","@entitySize","@iconSize"],false,["if","on","msg-shared@has-presence","presence@entity-with-presence","msg-facepile-grid@conversation-facepile-grid","input","concat","global-helpers@eq","inputId","t"]]',moduleName:"msg-ui/components/selectable-entity.hbs",isStrictMode:!1}),m={1:"msg-selectable-entity--1",2:"msg-selectable-entity--2",3:"msg-selectable-entity--3",4:"msg-selectable-entity--4"}
let d=(l=class extends r.default{constructor(){super(...arguments);(0,t.default)(this,"inputId",`msg-selectable-entity__checkbox-${(0,o.guidFor)(this)}`)}get sizeClass(){return m[this.args.entitySize]}handleClick(e){if(!this.args.disableSelectability){e.stopPropagation()
e.preventDefault()
this.args.onCheckboxClick()}}},(0,n.default)(l.prototype,"handleClick",[a.action],Object.getOwnPropertyDescriptor(l.prototype,"handleClick"),l.prototype),l)
e.default=d;(0,i.setComponentTemplate)(c,d)}))
define("msg-ui/components/selected-filter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@ember/object","@ember/service","@glimmer/tracking","msg-data/enums"],(function(e,t,n,i,s,r,o,a,l,c,m,d){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var u,p,g,h,f,b,y,v,_,w
const M=(0,o.createTemplateFactory)({id:"VaIy7DtI",block:'[[[11,0],[24,0,"msg-selected-filter t-12"],[17,1],[12],[1,"\\n  "],[10,0],[14,0,"display-flex p2"],[12],[1,"\\n    "],[8,[39,0],[[16,"aria-label",[28,[37,1],["a11y_remove_filter","msg-ui/components/selected-filter"],[["filter"],[[30,2]]]]]],[["@icon","@color","@size","@type","@click","@text","@disabled"],["cancel-icon","muted",1,"tertiary",[30,3],[28,[37,1],["i18n_filter_no_unread_count","msg-ui/components/selected-filter"],[["filter"],[[30,2]]]],[30,4]]],null],[1,"\\n\\n"],[41,[30,0,["markAllReadEnabled"]],[[[41,[28,[37,3],[[30,2],"UNREAD"],null],[[[1,"        "],[8,[39,0],null,[["@classNames","@text","@size","@type","@click","@disabled"],["mlA",[28,[37,1],["i18n_mark_all_read","msg-ui/components/selected-filter"],null],1,"tertiary",[28,[37,4],[[30,0],"confirmationIsOpen",true],null],[30,0,["markAllReadButtonDisabled"]]]],null],[1,"\\n"]],[]],null]],[]],null],[1,"  "],[13],[1,"\\n"],[13],[1,"\\n\\n"],[8,[39,5],null,[["@testId","@isOpen","@title","@content","@primaryActionText","@primaryActionTextA11y","@onPrimary","@primaryControlName","@secondaryActionText","@secondaryActionTextA11y","@onSecondary","@secondaryControlName","@onEscape"],["msg-mark-all-read-modal",[30,0,["confirmationIsOpen"]],[28,[37,1],["i18n_confirm_mark_all_as_read_v2","msg-ui/components/selected-filter"],null],[28,[37,1],["i18n_confirmation_text_body_mark_all_read","msg-ui/components/selected-filter"],null],[28,[37,1],["i18n_yes","msg-ui/components/selected-filter"],null],[28,[37,1],["a11y_yes_mark_all_read","msg-ui/components/selected-filter"],null],[30,0,["markAllAsRead"]],[28,[37,6],[[30,5],"mark_all_read_confirm"],null],[28,[37,1],["i18n_no_thanks","msg-ui/components/selected-filter"],null],[28,[37,1],["a11y_dont_mark_all_read","msg-ui/components/selected-filter"],null],[28,[37,4],[[30,0],"confirmationIsOpen",false],null],[28,[37,6],[[30,5],"mark_all_read_cancel"],null],[28,[37,4],[[30,0],"confirmationIsOpen",false],null]]],null]],["&attrs","@currentFilter","@clearFilter","@disabled","@trackingPrefix"],false,["artdeco-button@artdeco-button","t","if","global-helpers@eq","ember-set-helper@set","artdeco-modal@artdeco-confirmation-dialog","concat"]]',moduleName:"msg-ui/components/selected-filter.hbs",isStrictMode:!1})
let k=(u=(0,c.inject)("msg-data@data-manager"),p=(0,c.inject)("persistent-toast-manager@persistent-toast-manager"),g=(0,c.inject)("lix"),h=(0,c.inject)("i18n"),f=class extends a.default{constructor(){super(...arguments);(0,t.default)(this,"msgDataManager",b,this);(0,t.default)(this,"persistentToastManager",y,this);(0,t.default)(this,"lix",v,this);(0,t.default)(this,"i18n",_,this);(0,t.default)(this,"confirmationIsOpen",w,this)}get markAllReadEnabled(){return this.lix.getTreatmentIsEnabled("voyager.web.messaging-mark-all-read")}get markAllReadButtonDisabled(){return this.msgDataManager.progressIndicatorState.markAllReadIndicator||0===this.args.loadedUnreadConversations.length||this.args.disabled}markAllAsRead(){this.msgDataManager.markAllConversationsAsRead().then((e=>{if(!this.isDestroying){var t,n
if(null==e||null===(t=e.data)||void 0===t||null===(n=t.value)||void 0===n||!n.synchronouslyProcessed){const e=5e3
this.msgDataManager.progressIndicatorState.setIndicatorInProgress(d.ProgressIndicatorTypeEnum.MARK_ALL_CONVERSATIONS_READ,e)
this.args.clearFilter()}}})).catch((e=>{const t=this.i18n.lookupTranslation("components/msg-ui@selected-filter","i18n_failed_to_mark_all_read")([])
this.persistentToastManager.error({message:t})
throw e})).finally((()=>{this.confirmationIsOpen=!1}))}},b=(0,i.default)(f.prototype,"msgDataManager",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=(0,i.default)(f.prototype,"persistentToastManager",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=(0,i.default)(f.prototype,"lix",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=(0,i.default)(f.prototype,"i18n",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=(0,i.default)(f.prototype,"confirmationIsOpen",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,i.default)(f.prototype,"markAllAsRead",[l.action],Object.getOwnPropertyDescriptor(f.prototype,"markAllAsRead"),f.prototype),f)
e.default=k;(0,r.setComponentTemplate)(M,k)}))
define("msg-ui/components/thread",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@ember/object","@ember-decorators/object","gdpr-notice/utils/notice-constants","msg-shared/utils/constants","msg-shared/utils/custom-tracking","rsvp","@ember/service","global-utils/utils/is-browser","msg-ui/utils/mentions-helper","@ember/utils","@ember/object/internals","msg-ui/utils/conversation-properties","msg-ui/utils/share-contact-info-helper","msg-shared/utils/user-visible-exception-helper","msg-shared/helpers/is-current-user","msg-shared/utils/in-mail-reply-action","ember-lifeline","@glimmer/tracking","tracked-toolbox"],(function(e,t,n,i,s,r,o,a,l,c,m,d,u,p,g,h,f,b,y,v,_,w,M,k,C,T,S){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var x,E,P,D,I,O,A,j,R,N,F,z,L,U,B,H,q,V,W,G,K,$,Q,Y,J,Z,X,ee,te,ne,ie,se,re,oe,ae,le,ce,me,de,ue
const pe=(0,o.createTemplateFactory)({id:"jjXfdArL",block:'[[[11,0],[24,0,"msg-thread__thread-actions-tray"],[4,[38,0],[[30,0,["didUpdateArgs"]]],null],[4,[38,1],[[30,0,["didUpdateArgs"]],[30,1],[30,2]],null],[12],[1,"\\n  "],[8,[39,2],null,[["@bundle"],["msg-conversation-ui"]],[["default"],[[[[1,"\\n"],[41,[30,3,["state","fulfilled"]],[[[41,[30,4],[[[1,"        "],[8,[39,4],null,[["@conversation","@setFocusOnRender","@hideRenameConversationForm","@actionTrackingPrefix","@pageKey"],[[30,2],[30,5],[28,[37,5],[[30,6],false],null],[30,7],[30,8]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["showConversationMuteBanner"]],[[[1,"        "],[8,[39,6],null,[["@toggleConversationMute","@actionTrackingPrefix","@pageKey"],[[30,0,["toggleConversationMute"]],[30,7],[30,9]]],null],[1,"\\n"]],[]],null],[41,[51,[28,[37,8],[[30,2]],null]],[[[1,"        "],[8,[39,9],null,[["@conversation"],[[30,2]]],null],[1,"\\n"]],[]],null]],[]],null],[1,"  "]],[3]]]]],[1,"\\n"],[13],[1,"\\n\\n"],[41,[28,[37,10],[[30,2,["latestEvent","subtype"]],"INMAIL"],null],[[[1,"  "],[8,[39,2],null,[["@bundle"],["msg-shared-modals"]],[["default"],[[[[1,"\\n"],[41,[30,10,["state","fulfilled"]],[[[1,"      "],[8,[39,11],null,[["@noticeTypes"],[[30,0,["gdprNoticeType"]]]],null],[1,"\\n"]],[]],null],[1,"  "]],[10]]]]],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["showMessageList"]],[[[1,"  "],[8,[39,12],null,[["@composeIsFullyExpanded","@initialEventsRequest","@conversation","@latestEvent","@typingParticipants","@loadMore"],[[30,0,["composeIsFullyExpanded"]],[30,0,["fetchedEventsProxy"]],[30,2],[30,2,["latestEvent"]],[30,2,["typingParticipants"]],[30,0,["loadMoreMessages"]]]],[["default"],[[[[1,"\\n    "],[8,[39,13],[[16,1,[30,12]]],[["@blockedByNoResponse","@isOverlay","@isLoading","@conversation","@handleSuccessfulDiscardRequest","@resendMessage","@inlineProfileCardLayout","@addParticipantsPageKey","@actionTrackingPrefix","@showMessageEditForm","@toggleShowRenameConversation","@showQuickReplies","@quickRepliesList","@quickRepliesUseCase","@submitQuickReply","@openGIFPopover","@handleInMailReplySmartAction","@handleInMailDeclineSmartAction","@openVirtualMeetingModal","@messageIndexToBeAnchored","@contextWidth"],[[30,0,["blockedByNoResponse"]],[30,13],[30,11,["props","isLoading"]],[30,2],[30,14],[30,0,["resendMessage"]],[30,15],[30,16],[30,7],[30,0,["showMessageEditForm"]],[30,6],[30,0,["showQuickReplies"]],[30,0,["quickRepliesList"]],[30,17],[30,0,["submitQuickReply"]],[30,0,["openGIFPopover"]],[30,0,["openInMailReplyPanel"]],[30,0,["showInmailDeclineReasonModal"]],[30,0,["openVirtualMeetingModal"]],[30,11,["props","messageIndexToBeAnchored"]],[30,18]]],null],[1,"\\n"],[41,[30,11,["props","scrollingPastThreshold"]],[[[1,"      "],[10,0],[14,0,"msg-s-message-list__new-message msg-animation__indicator"],[12],[1,"\\n        "],[8,[39,14],[[16,"aria-label",[28,[37,15],["a11y_new_messages","msg-ui/components/thread"],null]]],[["@class","@size","@controlType","@text","@click"],["msg-s-message-list__new-message-button block",1,"button",[52,[30,11,["props","hasNewMessages"]],[28,[37,15],["i18n_new_messages_v2","msg-ui/components/thread"],null],[28,[37,15],["i18n_latest_message","msg-ui/components/thread"],null]],[30,11,["actions","scrollToNewMessages"]]]],null],[1,"\\n      "],[13],[1,"\\n"]],[]],[[[41,[30,11,["props","hasNewMessages"]],[[[1,"        "],[10,0],[14,0,"msg-s-message-list__new-message msg-animation__indicator"],[12],[1,"\\n          "],[8,[39,14],[[16,"aria-label",[28,[37,15],["a11y_new_messages","msg-ui/components/thread"],null]]],[["@class","@size","@controlType","@icon","@text","@click"],["msg-s-message-list__new-message-button",1,"button","arrow-down-icon",[28,[37,15],["i18n_new_messages_v2","msg-ui/components/thread"],null],[30,11,["actions","scrollToNewMessages"]]]],null],[1,"\\n        "],[13],[1,"\\n"]],[]],null]],[]]],[1,"  "]],[11]]]]],[1,"\\n\\n"],[41,[30,0,["showQuickReplies"]],[[[41,[28,[37,16],[[30,0,["enableDismissQRWhenScrolling"]]],null],[[[1,"      "],[8,[39,17],null,[["@conversation","@eventId","@quickReplies","@useCase","@trackingPrefix","@controlActionEventName","@saveReply","@openGIFPopover","@handleInMailReplySmartAction","@handleInMailDeclineSmartAction","@openVirtualMeetingModal","@contextWidth"],[[30,2],[30,2,["latestEvent","id"]],[30,0,["quickRepliesList"]],[30,17],[30,7],[52,[30,13],"mebc_quick_reply","non_inmail_quick_reply"],[30,0,["submitQuickReply"]],[30,0,["openGIFPopover"]],[30,0,["openInMailReplyPanel"]],[30,0,["showInmailDeclineReasonModal"]],[30,0,["openVirtualMeetingModal"]],[30,18]]],null],[1,"\\n"]],[]],null]],[]],[[[41,[30,0,["showInMailQuickReplies"]],[[[1,"      "],[8,[39,17],null,[["@conversation","@eventId","@quickReplies","@useCase","@trackingPrefix","@controlActionEventName","@saveReply","@openGIFPopover","@handleInMailReplySmartAction","@handleInMailDeclineSmartAction","@openVirtualMeetingModal","@contextWidth"],[[30,2],[30,2,["latestEvent","id"]],[30,0,["quickRepliesList"]],[30,17],[30,7],[52,[30,13],"mebc_quick_reply","non_inmail_quick_reply"],[30,0,["submitQuickReply"]],[30,0,["openGIFPopover"]],[30,0,["openInMailReplyPanel"]],[30,0,["showInmailDeclineReasonModal"]],[30,0,["openVirtualMeetingModal"]],[30,18]]],null],[1,"\\n"]],[]],null]],[]]],[41,[30,0,["customLssFooter"]],[[[1,"    "],[10,0],[14,0,"pt3 ph5 pb2"],[12],[1,"\\n      "],[10,2],[14,0,"t-12 t-black--light mb3"],[12],[1,"\\n        "],[1,[30,0,["customLssFooter","mainText","text"]]],[1,"\\n        "],[11,"button"],[24,0,"t-12 t-black--light link-without-visited-state"],[24,4,"button"],[4,[38,18],["click",[28,[37,19],[[30,0],"blockDialogOpen",true],null]],null],[12],[1,"\\n          "],[1,[30,0,["customLssFooter","unsubscribeText","text"]]],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n\\n"],[41,[30,0,["blockDialogOpen"]],[[[1,"        "],[8,[39,2],null,[["@bundle"],["msg-shared-modals"]],[["default"],[[[[1,"\\n"],[41,[30,19,["state","fulfilled"]],[[[1,"            "],[8,[39,20],null,[["@modalIsOpen","@convoId","@participantNames","@closeModal"],[true,[30,2,["id"]],[28,[37,21],[[30,2]],null],[28,[37,19],[[30,0],"blockDialogOpen",false],null]]],null],[1,"\\n"]],[]],null],[1,"        "]],[19]]]]],[1,"\\n"]],[]],null],[1,"    "],[13],[1,"\\n"]],[]],null]],[]],[[[41,[30,20],[[[1,"    "],[8,[39,2],null,[["@bundle"],["msg-conversation-ui"]],[["default"],[[[[1,"\\n"],[41,[30,21,["state","fulfilled"]],[[[1,"        "],[8,[39,22],[[24,0,"pv4 ph3"]],[["@inlineLayout","@recipientProfile","@contextText"],[[30,15],[30,22,["firstObject"]],[30,23,["contextText"]]]],null],[1,"\\n"]],[]],null],[1,"    "]],[21]]]]],[1,"\\n"]],[]],null],[1,"  "],[10,0],[15,0,[29,["msg-compose-container__spacer mtA\\n      ",[52,[30,0,["composeIsFullyExpanded"]]," msg-compose-container__spacer--compose-is-expanded"]]]],[12],[13],[1,"\\n"]],[]]],[1,"\\n"],[41,[30,0,["_composeViewContext","showBlockedFooter"]],[[[1,"  "],[10,0],[14,0,"align-items-flex-end display-flex artdeco-divider"],[12],[1,"\\n    "],[10,0],[14,0,"msg-s-conversation-blocked-footer"],[12],[1,"\\n      "],[8,[39,23],null,[["@type"],["note"]],[["default"],[[[[1,"\\n"],[1,"        "],[1,[28,[35,24],[[30,0,["_composeViewContext","footerText"]]],null]],[1,"\\n      "]],[]]]]],[1,"\\n    "],[13],[1,"\\n  "],[13],[1,"\\n"]],[]],[[[41,[30,2,["blocked"]],[[[1,"  "],[8,[39,25],null,[["@conversation"],[[30,2]]],null],[1,"\\n"]],[]],[[[41,[30,0,["conversationWithBlockedMember"]],[[[1,"  "],[8,[39,26],null,null,null],[1,"\\n"]],[]],[[[41,[30,0,["selectedInMailReplySmartAction"]],[[[1,"  "],[8,[39,27],null,[["@replyTo","@quickReply","@cancel","@send","@trackingPrefix"],[[30,2,["latestEvent"]],[30,0,["selectedInMailReplySmartAction"]],[28,[37,19],[[30,0],"selectedInMailReplySmartAction",[27]],null],[30,0,["onSendCustomInmailReply"]],[30,7]]],null],[1,"\\n"]],[]],[[[41,[30,0,["shouldShowMessageEditForm"]],[[[1,"    "],[8,[39,28],null,[["@trackingPrefix","@saveEditControlName","@event","@prefilledMessage","@onDismissEditForm","@conversation"],[[30,7],[28,[37,29],[[30,7],"save_edit"],null],[30,0,["messageEventToEdit"]],[30,0,["messageToEdit"]],[28,[37,19],[[30,0],"shouldShowMessageEditForm",false],null],[30,2]]],null],[1,"\\n"]],[]],[[[41,[30,0,["blockedByNoResponse"]],[[[1,"    "],[10,2],[14,0,"msg-thread__blocked-compose p4 t-12 t-black--light t-normal"],[12],[1,"\\n      "],[1,[28,[35,15],["i18n_no_response_yet","msg-ui/components/thread"],[["linkInfo"],[[28,[37,30],null,[["target","href","rel","class","aria-label","data-control-name","data-test-awaiting-inmail-response-learn-more"],["_blank",[30,0,["blockedInmailReplyHelpCenterLink"]],"noopener noreferrer","link",[28,[37,15],["i18n_learn_more_a11y","msg-ui/components/thread"],null],"awaiting_inmail_response_learn_more",true]]]]]]],[1,"\\n    "],[13],[1,"\\n"]],[]],[[[41,[30,0,["blockedByDecline"]],[[[1,"    "],[10,2],[14,0,"msg-thread__blocked-compose p4 t-12 t-black--light t-normal"],[12],[1,"\\n      "],[1,[28,[35,15],["i18n_recipient_declined_inmail","msg-ui/components/thread"],[["linkInfo"],[[28,[37,30],null,[["target","href","rel","class","aria-label","data-control-name","data-test-inmail-declined-learn-more"],["_blank",[30,0,["blockedInmailReplyHelpCenterLink"]],"noopener noreferrer","link",[28,[37,15],["i18n_learn_more_a11y","msg-ui/components/thread"],null],"inmail_declined_learn_more",true]]]]]]],[1,"\\n    "],[13],[1,"\\n"]],[]],[[[41,[28,[37,10],[[30,2,["messageRequestState"]],"PENDING"],null],[[[1,"    "],[8,[39,31],null,[["@isReplyPending","@promptText","@acceptText","@acceptA11yText","@rejectText","@rejectA11yText","@acceptTrackingKey","@rejectTrackingKey","@actionTrackingPrefix","@sendAcceptReply","@sendRejectReply"],[[30,0,["isMessageRequestClickReplyPending"]],[52,[30,0,["isGroupMessageRequest"]],[28,[37,15],["i18n_allow_group_message_request_prompt","msg-ui/components/thread"],null],[28,[37,15],["i18n_allow_message_request_prompt","msg-ui/components/thread"],[["senderName"],[[28,[37,32],[[28,[37,33],[[30,2,["participants"]],"0.miniProfile"],null]],null]]]]],[28,[37,15],["i18n_message_request_reply_form_interested","msg-ui/components/thread"],null],[28,[37,15],["i18n_a11y_message_request_reply_form_interested","msg-ui/components/thread"],[["senderName"],[[28,[37,32],[[28,[37,33],[[30,2,["participants"]],"0.miniProfile"],null]],null]]]],[52,[30,0,["isGroupMessageRequest"]],[28,[37,15],["i18n_message_request_reply_form_leave","msg-ui/components/thread"],null],[28,[37,15],["i18n_message_request_reply_form_decline","msg-ui/components/thread"],null]],[52,[30,0,["isGroupMessageRequest"]],[28,[37,15],["i18n_a11y_message_request_reply_form_leave","msg-ui/components/thread"],null],[28,[37,15],["i18n_a11y_message_request_reply_form_decline","msg-ui/components/thread"],[["senderName"],[[28,[37,32],[[28,[37,33],[[30,2,["participants"]],"0.miniProfile"],null]],null]]]]],"accept_message_request","decline_message_request",[30,7],[28,[37,5],[[30,0,["oneClickReplyToMessageRequest"]],true],null],[28,[37,5],[[30,0,["oneClickReplyToMessageRequest"]],false],null]]],null],[1,"\\n"]],[]],[[[41,[30,0,["showDeclinedMessageRequestAccept"]],[[[1,"    "],[8,[39,34],null,[["@senderName","@acceptMessageRequest"],[[28,[37,32],[[28,[37,33],[[30,2,["participants"]],"0.miniProfile"],null]],null],[28,[37,5],[[30,0,["oneClickReplyToMessageRequest"]],true],null]]],null],[1,"\\n"]],[]],[[[41,[30,24],[[[1,"    "],[8,[39,35],null,[["@isOverlay","@subject","@recipients","@msgAdapterOptions","@prefilledMessage","@submitMessage","@beforeUpload","@dragAndDropTrackingKeys","@composeViewContext","@smpContent"],[[30,13],[30,0,["subject"]],[30,22],[30,25],[30,26],[30,0,["submitMessage"]],[30,0,["beforeUpload"]],[30,27],[30,0,["_composeViewContext"]],[30,28]]],null],[1,"\\n"]],[]],[[[41,[30,0,["showMessageForm"]],[[[1,"    "],[8,[39,36],null,[["@id","@beforeUpload","@bubbleId","@composeIsFullyExpanded","@messageContext","@contextByRecipients","@conversation","@hasResharedContent","@isOverlay","@externallyValid","@forwardedEvent","@isInMailCompose","@messagingSettings","@msgAdapterOptions","@overridePlaceholder","@prefilledAttachments","@prefilledMessage","@subject","@submitMessage","@toggleExpandComposeField","@update","@smpContent","@updateFormState","@validateForm","@onBeforeFormSubmit"],[[30,0,["msgFormId"]],[30,0,["beforeUpload"]],[30,29],[30,0,["composeIsFullyExpanded"]],[52,[30,30],[30,23]],[30,31],[30,2],[30,0,["hasResharedContent"]],[30,13],[52,[30,32],[30,0,["hasValidRecipients"]],true],[30,33],[30,24],[30,34],[30,25],[52,[30,35],[30,35],[28,[37,15],["i18n_write_a_message","msg-ui/components/thread"],null]],[30,36],[30,26],[30,0,["subject"]],[30,0,["submitMessage"]],[30,0,["toggleExpandComposeField"]],[30,37],[30,28],[30,0,["updateFormState"]],[30,0,["validateForm"]],[30,0,["onBeforeFormSubmit"]]]],[["default"],[[[[1,"\\n"],[41,[30,40,["isOverCharLimit"]],[[[1,"        "],[8,[39,37],null,null,null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["shouldShowMessageComposeFailedBanner"]],[[[1,"        "],[8,[39,38],null,[["@resendMessage"],[[30,39,["onSubmit"]]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["enableAttachmentDragAndDrop"]],[[[1,"        "],[8,[30,38,["attachmentDragAndDrop"]],null,[["@composeIsFullyExpanded","@trackingKeys"],[[30,0,["composeIsFullyExpanded"]],[30,27]]],null],[1,"\\n"],[41,[51,[30,40,["showMiniAttachmentPreviews"]]],[[[1,"          "],[8,[30,38,["uploadAttachmentPreviews"]],null,null,null],[1,"\\n"],[41,[30,40,["attachmentDropErrorType"]],[[[1,"            "],[8,[30,38,["attachmentDragAndDropErrorDisplay"]],null,null,null],[1,"\\n"]],[]],null]],[]],null]],[]],null],[1,"\\n"],[41,[30,40,["showMentionsPicker"]],[[[1,"        "],[8,[39,2],null,[["@bundle"],["msg-mentions"]],[["default"],[[[[1,"\\n"],[41,[30,41,["state","fulfilled"]],[[[1,"            "],[8,[30,38,["mentionsPicker"]],null,null,null],[1,"\\n"]],[]],null],[1,"        "]],[41]]]]],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["isVirtualMeetingModalOpen"]],[[[1,"        "],[8,[39,2],null,[["@bundle"],["msg-shared-modals"]],[["default"],[[[[1,"\\n"],[41,[30,42,["state","fulfilled"]],[[[1,"            "],[8,[39,39],null,[["@refocusElement","@closeVirtualMeetingContainer","@filloutMeetingInvite","@conversation","@conversationUrn","@conversationFeatureTypes"],[[28,[37,29],["#",[30,0,["msgFormId"]]," .msg-form__contenteditable"],null],[28,[37,19],[[30,0],"isVirtualMeetingModalOpen",false],null],[30,39,["updateTextarea"]],[30,2],[30,2,["entityUrn"]],[30,2,["featureTypes"]]]],null],[1,"\\n"]],[]],null],[1,"        "]],[42]]]]],[1,"\\n"]],[]],null],[1,"\\n"],[1,"      "],[8,[30,38,["messageContentContainer"]],[[24,0,"msg-form__message-texteditor relative flex-grow-1 display-flex"]],[["@composeIsFullyExpanded","@forwardedEvent","@expandButtonSize","@handleFocusIn","@labelText","@showExpandButton","@toggleExpandComposeField","@trackingPrefix","@update","@smpContent"],[[30,0,["composeIsFullyExpanded"]],[30,33],1,[28,[37,5],[[30,0,["markConversationAsRead"]],[30,2]],null],[28,[37,15],[[52,[30,2,["isNew"]],"a11y_compose_new","a11y_compose"],"msg-ui/components/thread"],[["names"],[[28,[37,15],[[52,[30,2,["groupChat"]],[52,[30,2,["name"]],[30,2,["name"]],"i18n_participants_full_names"],"i18n_participants_full_names"],"msg-ui/components/thread"],[["names"],[[28,[37,15],["i18n_participants_full_names","msg-ui/components/thread"],[["names"],[[28,[37,21],[[30,2]],null]]]]]]]]]],[30,0,["showExpandButton"]],[30,0,["toggleExpandComposeField"]],[30,7],[30,37],[30,28]]],null],[1,"\\n"],[41,[30,40,["showMiniAttachmentPreviews"]],[[[41,[30,40,["attachments","length"]],[[[1,"          "],[11,"button"],[24,0,"msg-form__mini-attachment-preview t-12 t-black--light t-bold pv1"],[24,4,"button"],[4,[38,18],["click",[30,0,["toggleExpandComposeField"]]],null],[12],[1,"\\n            "],[1,[28,[35,15],["i18n_num_files_attached","msg-ui/components/thread"],[["numberOfAttachments"],[[30,40,["attachments","length"]]]]]],[1,"\\n          "],[13],[1,"\\n"]],[]],null]],[]],null],[1,"      "],[10,"footer"],[15,0,[29,["msg-form__footer flex-shrink-zero ",[52,[30,13],"","pb7"]]]],[12],[1,"\\n        "],[10,0],[14,0,"msg-form__left-actions display-flex"],[12],[1,"\\n"],[41,[51,[30,0,["hasResharedContent"]]],[[[1,"            "],[8,[30,38,["uploadAttachment"]],null,[["@buttonClasses","@icon","@labelText","@acceptTypes","@disabled","@trackingPrefix"],[[29,["artdeco-button artdeco-button--tertiary artdeco-button--circle artdeco-button--muted m0 ",[52,[30,13],"artdeco-button--1","artdeco-button--2"]]],[28,[37,40],null,[["type","size"],["image-icon",[52,[30,13],"small","medium"]]]],[28,[37,15],[[52,[30,2,["isNew"]],"a11y_attach_image_new","a11y_attach_image"],"msg-ui/components/thread"],[["names"],[[28,[37,15],[[52,[30,2,["groupChat"]],[52,[30,2,["name"]],[30,2,["name"]],"i18n_participants_full_names"],"i18n_participants_full_names"],"msg-ui/components/thread"],[["names"],[[28,[37,15],["i18n_participants_full_names","msg-ui/components/thread"],[["names"],[[28,[37,21],[[30,2]],null]]]]]]]]]],[30,40,["supportedImageAttachmentTypes"]],[30,30],[28,[37,29],[[30,7],"image"],null]]],null],[1,"\\n            "],[8,[30,38,["uploadAttachment"]],null,[["@buttonClasses","@icon","@labelText","@acceptTypes","@disabled","@trackingPrefix"],[[29,["artdeco-button artdeco-button--tertiary artdeco-button--circle artdeco-button--muted m0 ",[52,[30,13],"artdeco-button--1","artdeco-button--2"]]],[28,[37,40],null,[["type","size"],["paperclip-icon",[52,[30,13],"small","medium"]]]],[28,[37,15],[[52,[30,2,["isNew"]],"a11y_attach_file_new","a11y_attach_file"],"msg-ui/components/thread"],[["names"],[[28,[37,15],[[52,[30,2,["groupChat"]],[52,[30,2,["name"]],[30,2,["name"]],"i18n_participants_full_names"],"i18n_participants_full_names"],"msg-ui/components/thread"],[["names"],[[28,[37,15],["i18n_participants_full_names","msg-ui/components/thread"],[["names"],[[28,[37,21],[[30,2]],null]]]]]]]]]],[30,40,["supportedFileAttachmentTypes"]],[30,30],[28,[37,29],[[30,7],"file"],null]]],null],[1,"\\n"]],[]],null],[41,[30,0,["enableGifButton"]],[[[1,"            "],[8,[39,2],null,[["@bundle"],["tenor-gif"]],[["default"],[[[[1,"\\n"],[41,[30,43,["state","fulfilled"]],[[[1,"                "],[8,[39,41],null,[["@size","@trackingPrefix","@conversation","@openGIFPopover","@disabled"],[[52,[30,13],1,2],[30,7],[30,2],[28,[37,19],[[30,0],"isGifSearchPopoverOpen",true],null],[30,30]]],null],[1,"\\n"]],[]],null],[1,"            "]],[43]]]]],[1,"\\n"],[41,[30,0,["isGifSearchPopoverOpen"]],[[[1,"              "],[8,[39,2],null,[["@bundle"],["tenor-gif"]],[["default"],[[[[1,"\\n"],[41,[30,44,["state","fulfilled"]],[[[1,"                  "],[8,[39,42],null,[["@conversation","@trackingPrefix","@closeHovercard","@handleGIFSend","@afterSend","@prefilledSearchTerm","@isOverlay"],[[30,2],[30,7],[30,0,["closeGIFPopover"]],[30,39,["handleGIFSend"]],[30,39,["focusTextarea"]],[30,0,["prefilledGIFSearchTerm"]],[30,13]]],null],[1,"\\n"]],[]],null],[1,"              "]],[44]]]]],[1,"\\n"]],[]],null]],[]],null],[1,"\\n          "],[8,[39,2],null,[["@bundle"],["emoji-picker"]],[["default"],[[[[1,"\\n"],[41,[30,45,["state","fulfilled"]],[[[1,"              "],[8,[39,43],null,[["@doNotFocusTrigger","@handleEmojiSelect","@hoverableIdPrefix","@hoverableOutletId","@size","@onHoverableHide","@trackingClosePickerString","@trackingOpenPickerString","@trackingSelectEmojiString","@trackingSelectSearchedEmojiString","@triggerClasses","@triggerData"],[true,[30,39,["updateTextareaWithEmoji"]],[52,[30,13],"msg_overlay_emoji","msg_pillar_emoji"],[52,[30,13],"msg-overlay__emoji-hoverable-outlet"],[52,[30,13],1,2],[30,39,["focusComposeAfterEmojiPickerClose"]],[52,[30,13],"overlay.close_emoji_picker","msg.close_emoji_picker"],[52,[30,13],"overlay.open_emoji_picker","msg.open_emoji_picker"],[52,[30,13],"overlay.select_emoji","msg.select_emoji"],[52,[30,13],"overlay.select_searched_emoji","msg.select_searched_emoji"],"msg-form__footer-action",[28,[37,30],null,[["bubbleId","conversationUrn"],[[30,29],[30,2,["entityUrn"]]]]]]],null],[1,"\\n"]],[]],null],[1,"          "]],[45]]]]],[1,"\\n        "],[13],[1,"\\n        "],[10,0],[14,0,"msg-form__right-actions display-flex align-items-center"],[12],[1,"\\n          "],[8,[30,38,["sendControls"]],null,[["@buttonClass","@isEnterToSendEnabled"],["artdeco-button artdeco-button--1",[30,34,["pressEnterToSend"]]]],null],[1,"\\n          "],[8,[30,38,["sendModeToggle"]],null,[["@messagingSettings","@afterToggleAction","@triggerButtonSize"],[[30,34],[30,39,["focusTextarea"]],[52,[30,13],1,2]]],null],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n    "]],[38,39,40]]]]],[1,"\\n\\n"],[1,"    "],[8,[39,2],null,[["@bundle"],["msg-mentions"]],[["default"],[[[[1,"\\n"],[41,[30,46,["state","fulfilled"]],[[[1,"        "],[8,[39,44],null,[["@conversation","@membersToInvite","@onToastDismiss","@actionTrackingPrefix"],[[30,2],[30,0,["membersToInvite"]],[30,0,["onMentionToInviteDismiss"]],[30,7]]],null],[1,"\\n"]],[]],null],[1,"    "]],[46]]]]],[1,"\\n  "]],[]],null]],[]]]],[]]]],[]]]],[]]]],[]]]],[]]]],[]]]],[]]]],[]]]],[]]],[1,"\\n"],[41,[30,0,["declineInmailReasonModalIsOpen"]],[[[1,"  "],[8,[39,45],null,[["@trackingPrefix","@dismissModal"],[[30,7],[28,[37,19],[[30,0],"declineInmailReasonModalIsOpen",false],null]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["shareInfoModalIsOpen"]],[[[1,"  "],[8,[39,46],null,[["@emailAddresses","@participant","@isOpen","@confirmedPhoneNumbers","@recruiter","@onShareContactInfoAccept","@sendInMailReply","@closeModal"],[[30,0,["profileContactInfo","confirmedEmailAddresses"]],[30,0,["authenticatedUser","miniProfile"]],[30,0,["shareInfoModalIsOpen"]],[30,0,["profileContactInfo","confirmedPhoneNumbers"]],[30,2,["participants","firstObject"]],[30,0,["onShareContactInfoAccept"]],[30,0,["onShareContactInfoDecline"]],[28,[37,19],[[30,0],"shareInfoModalIsOpen",false],null]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["shouldShowComposeRetryLoader"]],[[[1,"  "],[8,[39,47],null,null,null],[1,"\\n"]],[]],null]],["@inmailReplyDeepLink","@conversation","assetLoader","@showRenameConversationForm","@setFocusToRenameConversationForm","@toggleShowRenameConversation","@actionTrackingPrefix","@renamePageKey","@mutePageKey","assetLoader","scroller","@messageListId","@isOverlay","@handleSuccessfulDiscardRequest","@isOriginalSize","@addParticipantsPageKey","@quickRepliesUseCase","@contextWidth","assetLoader","@showOneToOneProfileCard","assetLoader","@messageRecipients","@messageContext","@isInMailCompose","@msgAdapterOptions","@prefilledMessage","@dragAndDropTrackingKeys","@smpContent","@bubbleId","@isMessageRequestCompose","@contextByRecipients","@isNew","@forwardedEvent","@messagingSettings","@customPlaceholderText","@prefilledAttachments","@update","components","actions","props","assetLoader","assetLoader","assetLoader","assetLoader","assetLoader","assetLoader"],false,["did-insert","did-update","asset-loader@deferred-asset-loader","if","msg-conversation-ui@conversation-rename","fn","msg-conversation-ui@conversation-mute-banner","unless","msg-shared@is-inmail-conversation","msg-conversation-ui@nonconnection-banner","global-helpers@eq","msg-shared-modals@gdpr-notice","msg-ui@message-list-scroller","msg-ui@message-list","artdeco-button@artdeco-button","t","global-helpers@not","msg-ui@quick-replies","on","ember-set-helper@set","msg-shared-modals@block-lss-modal","msg-shared@get-participant-names","msg-conversation-ui@profile-card-one-to-one","artdeco-inline-feedback@artdeco-inline-feedback","text-view-model@text-view-model","msg-ui@conversation-unspam","msg-ui@blocked-recipient","msg-ui@inmail-reply-panel","msg-ui@msg-edit-form/msg-edit-form","concat","hash","msg-ui@binary-reply-options","global-helpers@name","get","msg-ui@declined-message-request-accept-banner","msg-ui@inmail-compose-form","msg-ui@msg-form/base-form","msg-ui@msg-form/primitives/character-limit-banner","msg-ui@msg-form/primitives/send-failure-banner","msg-shared-modals@virtual-meeting-modal","artdeco-icons-web@li-icon","tenor-gif@gif-button","tenor-gif@search-popover","emoji-picker@emoji-hoverable","msg-mentions@mention-to-invite-toast","msg-shared-modals@decline-inmail-reason-modal","msg-shared-modals@share-profile-info-modal","msg-ui@compose-retry-loader"]]',moduleName:"msg-ui/components/thread.hbs",isStrictMode:!1}),ge="i18n_conversation_send_error",he="i18n_a11y_send_successful",{ACTION_TYPES:fe,MESSAGE_TYPE:be,INMAIL_ACTION:ye,SMART_ACTIONS:ve,INMAIL_MAX_CHARACTERS:_e,INMAIL_SUBJECT_MAX_CHARACTERS:we,CONTROL_NAMES:{EDIT_GROUP_NAME:{DONE:Me}}}=d.default
let ke=(x=(0,g.inject)("msg-data@data-manager"),E=(0,g.inject)("tracking"),P=(0,g.inject)("lix"),D=(0,g.inject)("authentication@authenticated-user"),I=(0,g.inject)("store"),O=(0,g.inject)("global-services@a11y-notification"),A=(0,g.inject)("i18n"),j=(0,g.inject)("persistent-toast-manager@persistent-toast-manager"),R=(0,S.localCopy)("args.composeViewContext"),N=(0,c.on)("messageSendSuccess"),F=(0,c.on)("messageSendFail"),z=class extends a.default{constructor(){super(...arguments);(0,n.default)(this,"msgFormId",`msg-form-${(0,y.guidFor)(this)}`);(0,n.default)(this,"gdprNoticeType",[m.GDPR_NOTICE_POLICY_TYPE.MESSAGE_CONTROL]);(0,t.default)(this,"msgDataManager",L,this);(0,t.default)(this,"tracking",U,this);(0,t.default)(this,"lix",B,this);(0,t.default)(this,"authenticatedUser",H,this);(0,t.default)(this,"store",q,this);(0,t.default)(this,"a11yNotification",V,this);(0,t.default)(this,"i18n",W,this);(0,t.default)(this,"persistentToastManager",G,this);(0,t.default)(this,"membersToInvite",K,this);(0,t.default)(this,"profileContactInfo",$,this);(0,t.default)(this,"shareInfoModalIsOpen",Q,this);(0,t.default)(this,"selectedInMailReplySmartAction",Y,this);(0,t.default)(this,"declineInmailReasonModalIsOpen",J,this);(0,t.default)(this,"isGifSearchPopoverOpen",Z,this);(0,t.default)(this,"isVirtualMeetingModalOpen",X,this);(0,t.default)(this,"prefilledGIFSearchTerm",ee,this);(0,t.default)(this,"messageToEdit",te,this);(0,t.default)(this,"messageEventToEdit",ne,this);(0,t.default)(this,"shouldShowMessageEditForm",ie,this);(0,t.default)(this,"inMailTooLong",se,this);(0,t.default)(this,"longMessageLength",re,this);(0,t.default)(this,"isMessageRequestClickReplyPending",oe,this);(0,t.default)(this,"blockDialogOpen",ae,this);(0,t.default)(this,"_subject",le,this);(0,t.default)(this,"_composeIsFullyExpanded",ce,this);(0,t.default)(this,"_composeViewContext",me,this);(0,t.default)(this,"composeIsSending",de,this);(0,t.default)(this,"messageComposeFailed",ue,this);(0,n.default)(this,"blockedInmailReplyHelpCenterLink","/help/linkedin/answer/124531")
this.msgDataManager.setMessageSendSubscriber(this,this.msgFormId)
this._originalRecipients=this.args.messageRecipients}get subject(){return this.args.subject||this._subject}get fetchedEventsProxy(){return this._fetchedEventsProxy||this.args.fetchedEventsProxy}get composeIsFullyExpanded(){return this.args.isInMailCompose||this.hasResharedContent||this._composeIsFullyExpanded||this.args.noConvoHistoryInNewConvo}get enableOlympusKeys(){return this.lix.getTreatmentIsEnabled("voyager.web.messaging-use-backend-urn")}didUpdateArgs(){if((0,l.get)(this.args,"conversation.latestEvent")){let e
this.args.inmailReplyDeepLink&&"INMAIL"===(0,l.get)(this.args,"conversation.latestEvent.subtype")&&"DECLINED"!==(0,l.get)(this.args,"conversation.latestEvent.eventContent.customContent.actionType")&&(this.args.inmailReplyDeepLink.endsWith("sent_accepted")?e=this.quickRepliesList.findBy("reply.replyType","INMAIL_ACCEPT"):this.args.inmailReplyDeepLink.endsWith("sent_rejected")&&(e=this.quickRepliesList.findBy("reply.replyType","INMAIL_DECLINE")))
this.selectedInMailReplySmartAction=e}else this.selectedInMailReplySmartAction=void 0
this.args.messageRecipients!==this._originalRecipients&&(this._composeViewContext=null)}get customLssFooter(){return(0,l.get)(this,"eventsWithCustomLssFooter.lastObject.eventContent.customContent.salesFooter")}get eventsWithCustomLssFooter(){return(0,l.get)(this.args,"conversation.eventCollection.data").filterBy("eventContent.customContent.salesFooter.mainText.text")}get showMessageList(){return!this.args.isNew||(0,l.get)(this.args,"conversation.id")&&!this.args.invitationUrn}get showQuickReplies(){return!this.composeIsFullyExpanded&&(0,l.get)(this.args,"conversation.viewerCurrentParticipant")&&"INMAIL"!==(0,l.get)(this.args,"conversation.latestEvent.subtype")&&"PENDING"!==(0,l.get)(this.args,"conversation.messageRequestState")&&"DECLINED"!==(0,l.get)(this.args,"conversation.messageRequestState")&&!(0,l.get)(this.args,"conversation.isDeclinedMessageRequest")&&(0,l.get)(this.args,"conversation.latestEvent.quickReplyRecommendations.length")&&!(0,l.get)(this,"_composeViewContext.showBlockedFooter")}get enableDismissQRWhenScrolling(){return this.showQuickReplies&&this.lix.getTreatmentIsEnabled("voyager.web.messaging-dismiss-quick-replies-scrolling")}get showInMailQuickReplies(){return"INMAIL"===(0,l.get)(this.args,"conversation.latestEvent.subtype")&&!(0,M.isCurrentUser)(this.authenticatedUser,(0,l.get)(this.args,"conversation.latestEvent.from"))&&(0,l.get)(this.args,"conversation.latestEvent.quickReplyRecommendations.length")&&((0,l.get)(this.args,"conversation.latestEvent.subtype")!==be.INMAIL_REPLY||this.lix.getTreatmentIsEnabled("voyager.web.messaging-thor-v3-decline")&&!(0,l.get)(this.args,"conversation.latestEvent.inMailDeclineExplained"))&&!this.selectedInMailReplySmartAction}get showMessageForm(){return(0,v.enableUserReplies)(this.args.conversation)}get blockedByNoResponse(){return"INMAIL"===(0,l.get)(this.args,"conversation.latestEvent.subtype")&&(0,M.isCurrentUser)(this.authenticatedUser,(0,l.get)(this.args,"conversation.latestEvent.from"))&&(0,l.get)(this.args,"conversation.withNonConnection")}get blockedByDecline(){return"DECLINED"===(0,k.default)((0,l.get)(this.args,"conversation.latestEvent"))&&!(0,M.isCurrentUser)(this.authenticatedUser,(0,l.get)(this.args,"conversation.latestEvent.from"))&&(0,l.get)(this.args,"conversation.withNonConnection")}get quickRepliesList(){return(0,l.get)(this.args,"conversation.latestEvent.quickReplyRecommendations").map((e=>({text:(0,l.get)(e,"content.text"),reply:e})))}get enableAttachmentDragAndDrop(){return!this.hasResharedContent&&!this.args.isMessageRequestCompose}get isGroupMessageRequest(){return"PENDING"===(0,l.get)(this.args,"conversation.messageRequestState")&&(0,l.get)(this.args,"conversation.participants").length>1}get conversationWithBlockedMember(){return(0,l.get)(this.args,"conversation.participants.firstObject.restrictedProfile")&&1===(0,l.get)(this.args,"conversation.participants").length}get showDeclinedMessageRequestAccept(){return"DECLINED"===(0,l.get)(this.args,"conversation.messageRequestState")&&1===(0,l.get)(this.args,"conversation.participants").length}get hasResharedContent(){return this.args.forwardedEvent||this.args.update}get isSmpNewConvo(){return!!(0,l.get)(this.args,"msgAdapterOptions.marketplaceProjectProposalUrn")&&!this.args.conversation}get showExpandButton(){return!this.args.isInMailCompose}get firstRecipient(){return(0,l.get)(this.args,"messageRecipients.0")}get inMailRequestContactInfo(){return(0,l.get)(this.args,"conversation.latestEvent.eventContent.customContent.requestContactInfo")}get shouldShowComposeRetryLoader(){return this.args.isNew&&this.composeIsSending}get shouldShowMessageComposeFailedBanner(){return this.args.isNew&&this.messageComposeFailed}get enableGifButton(){return!this.args.isInMailCompose&&"INMAIL"!==(0,l.get)(this.args,"conversation.latestEvent.subtype")&&!this.hasResharedContent&&!this.isSmpNewConvo}get showConversationMuteBanner(){return(0,l.get)(this.args,"conversation.muted")&&!this.composeIsFullyExpanded&&!(0,l.get)(this.args,"conversation.blocked")}_onMessageSendSuccess(e){var t,n,i
null===(t=(n=this.args).didSubmitMessage)||void 0===t||t.call(n,e)
this._composeIsFullyExpanded=!1
const s=(0,l.get)(e,"id")
this.msgDataManager.getEventCollection(s)||(this._fetchedEventsProxy=this.msgDataManager.initEventCollection({name:`${s}`,conversationId:s}).fetchAndLoad({}))
if(null!==(i=this.args.messageActions)&&void 0!==i&&i.afterSend){this.args.messageActions.afterSend()
delete this.args.messageActions.afterSend}this._focusMessageInput()
return e}_onMessageSendFail(e){let t=(0,w.default)(e)
if(!t){const e=this.args.isInMailCompose?"i18n_inmail_send_error":ge
t=this.i18n.lookupTranslation("components/msg-ui@i18n-shared",e)()}this.persistentToastManager.error({message:t})
throw e}handleMessageSendSuccess(e){const t=(0,l.get)(e,"conversation")
this._onMessageSendSuccess(t)}handleMessageSendFail(e){this._onMessageSendFail(e)}_submitMessage(e){var t,n,i
const s=!this.args.conversation
this.tracking.fireInteractionEvent(this.args.sendMessageControlName)
if(this.args.isNew){const t=this.args.messageRecipients
if(!t)return
e.senderID=(0,l.get)(this,"authenticatedUser.miniProfile.entityUrn")
e.recipientIDs=t.map((e=>(0,l.get)(e,"entityUrn")))}e.name=this.args.conversationName
e.forward=this.args.forwardedEvent
if(this.args.isInMailCompose){e.messageReplyType=be.INMAIL
e.withNonConnection=!0
e.subject=e.subject.substring(0,we)}(0,l.get)(this.args,"msgAdapterOptions.groupUrn")&&s&&(e.messageReplyType=be.M2GM)
e.isOverlay=this.args.isOverlay
let r
r=this.args.invitationUrn&&s?this._replyToInvitation:s?this._saveConversation:this._sendReply
null===(t=this.args.messageActions)||void 0===t||null===(n=t.willSend)||void 0===n||n.call(t,e)
return(null!==(i=this.args.messageActions)&&void 0!==i&&i.willSendAsync?this.args.messageActions.willSendAsync(e):p.default.Promise.resolve()).then((()=>r.call(this,e))).then((e=>!this.isDestroying&&s?this._onMessageSendSuccess(e):e)).catch((e=>{this.isDestroying||s&&this._onMessageSendFail(e)}))}_sendReply(e){const{conversation:t}=e,n=(0,l.get)(this.args,"customTrackingObject.moduleKey")||this.args.conversationDetailModuleKey
u.default.fireDetailActionEvent({conversation:t,actionType:fe.SEND_MESSAGE,controlName:this.args.sendMessageControlName,moduleKey:n,trackingService:this.tracking})
e.forward&&u.default.fireDetailActionEvent({conversation:t,actionType:(0,l.get)(e.forward,"isInMail")?fe.FORWARD_INMAIL:fe.FORWARD,controlName:this.args.sendMessageControlName,moduleKey:n,trackingService:this.tracking})
e.subscriberId=this.msgFormId
return this.msgDataManager.createAndSaveMessageEvent({participants:(0,l.get)(this,"authenticatedUser.miniProfile.entityUrn"),conversation:t,msgData:e}).then((e=>(0,l.get)(e,"conversation")))}_saveConversation(e){const t=(0,l.get)(this.args,"customTrackingObject.moduleKey")||(this.args.isOpenedFromMsgButton?this.tracking.getCurrentPageKey():this.args.composeModuleKey);(0,l.set)(this,"composeIsSending",!0);(0,l.set)(this,"messageComposeFailed",!1)
return this.msgDataManager.createAndSaveConversation(e,{isFromGroupChatComposeUI:this.args.isGroupChatCompose}).then((n=>{u.default.fireDetailActionEvent({conversation:n,moduleKey:t,actionType:fe.SEND_MESSAGE,controlName:this.args.sendMessageControlName,trackingService:this.tracking})
e.forward&&u.default.fireDetailActionEvent({conversation:n,moduleKey:t,actionType:fe.FORWARD,controlName:this.args.sendMessageControlName,trackingService:this.tracking})
e.name&&this.tracking.fireInteractionEvent(Me)
return n})).catch((e=>{(0,l.set)(this,"messageComposeFailed",!0)
throw e})).finally((()=>{(0,l.set)(this,"composeIsSending",!1)}))}_focusMessageInput(){if(h.default&&window.getSelection().toString())return
const e=document.querySelector(`#${this.msgFormId} .msg-form__contenteditable`)
e&&e.focus()}_handleMentionToInvite(e){const t=e.getMentionedMembers()
if(!t||!this.args.conversation)return
const n=(0,f.default)(t,this.args.conversation);(0,b.isEmpty)(n)||(this.membersToInvite=n)}onMentionToInviteDismiss(){this.focusMessageInput()
this.membersToInvite=null}_fetchContactInfo(){const e=(0,l.get)(this,"authenticatedUser.memberId")
return this.store.findRecord("com.linkedin.voyager.deco.identity.normalizedprofile.shared.WebApplicantProfile",e,{adapterOptions:{url:`/voyager/api/identity/normalizedProfiles/${e}`}}).then((e=>{if(!this.isDestroying){this.profileContactInfo=e
this.shareInfoModalIsOpen=!0}}))}_clickReplyToRecruiterInMail(e,t){return this.msgDataManager.clickReplyToInMail(this.args.conversation,e,t).then((()=>{this.a11yNotify(he)
this.msgDataManager.getEventCollection((0,l.get)(this.args.conversation,"id")).fetchAndLoad()})).catch((e=>{const t=this.i18n.lookupTranslation("components/msg-ui@i18n-shared",ge)()
this.persistentToastManager.error({message:t})
throw e}))}a11yNotify(e){const t=this.i18n.lookupTranslation("components/msg-ui@i18n-shared",e)
this.a11yNotification.setTextInLiveRegion(t([]))}_replyToInvitation(e){return this.msgDataManager.replyToInvitation(this.args.invitationUrn,e).then((e=>{const t=this.args.isOpenedFromMsgButton?this.tracking.getCurrentPageKey():this.args.composeModuleKey
u.default.fireDetailActionEvent({conversation:e,moduleKey:t,actionType:fe.SEND_MESSAGE,controlName:this.args.sendMessageControlName,trackingService:this.tracking})
return e}))}openInMailReplyPanel(e){this.selectedInMailReplySmartAction=e}showInmailDeclineReasonModal(){this.declineInmailReasonModalIsOpen=!0}openGIFPopover(e){this.isGifSearchPopoverOpen=!0
this.prefilledGIFSearchTerm=e}closeGIFPopover(){this.isGifSearchPopoverOpen=!1
this.prefilledGIFSearchTerm=""}openVirtualMeetingModal(){this.isVirtualMeetingModalOpen=!0}toggleConversationMute(){const e=this.msgDataManager.toggleConversationMute(this.args.conversation),t=(0,l.get)(this.args.conversation,"muted")?fe.MUTE:fe.UNMUTE
u.default.fireDetailActionEvent({conversation:this.args.conversation,actionType:t,controlName:this.args.muteConversationControlName,trackingService:this.tracking})
return e}beforeUpload(e){let t,{attachment:n,isPasteEvent:i}=e
t=n.isImage?i?this.args.imagePasteControlName:this.args.imageUploadControlName:this.args.fileUploadControlName
this.tracking.fireInteractionEvent(t)}loadMoreMessages(){return this.args.conversation&&(0,l.get)(this.args,"conversation.id")?this.msgDataManager.getEventCollection((0,l.get)(this.args,"conversation.id")).fetchAndLoadMore():p.default.reject()}resendMessage(e){(0,l.set)(e,"createdAt",Date.now())
this.msgDataManager.retrySaveMessage(e)}submitQuickReply(e,t){const n={message:(0,l.get)(e,"content.text"),conversation:t,messageReplyType:be.M2M,adapterOptions:{quickReplyExtension:{extensionContentType:"QUICK_REPLY",quickReply:(0,l.get)(e,"objectUrn")}}}
return this._submitMessage(n)}submitMessage(e){this._focusMessageInput()
if("INMAIL_REPLY"===e.messageReplyType&&this.inMailRequestContactInfo){this.inMailReplyPayload=e
return this._fetchContactInfo().catch((t=>{this._submitMessage(e).finally((()=>{this.isDestroying||(this.inMailReplyPayload=void 0)}))
throw t}))}return this._submitMessage(e)}toggleExpandComposeField(e){const t="boolean"==typeof e?e:!this.composeIsFullyExpanded
this._composeIsFullyExpanded=t}updateFormState(e){var t,n
null===(t=(n=this.args).setHasDraft)||void 0===t||t.call(n,!!e)}onBeforeFormSubmit(e){(0,l.get)(this.args,"conversation.groupChat")&&(0,l.get)(this.args,"conversation.featureTypes").includes("ADD_PARTICIPANT")&&this._handleMentionToInvite(e)}focusMessageInput(){this._focusMessageInput()}showMessageEditForm(e,t){this.messageToEdit=e
this.messageEventToEdit=t
this.shouldShowMessageEditForm=!0}validateForm(e){if(this.args.isNew){let t=!1
if(this.args.isInMailCompose){const n=this.inMailTooLong
t=e.length>_e
if(t){n||this.a11yNotify("i18n_inmail_too_long")
this.longMessageLength=e.length}else n&&this.a11yNotify("i18n_inmail_not_too_long_any_more")
this.inMailTooLong=t}return(0,l.get)(this.args,"messageRecipients.length")&&(!this.args.isInMailCompose||(0,b.isPresent)(e)&&!t)}return!0}oneClickReplyToMessageRequest(e){this.isMessageRequestClickReplyPending=!0
return this.msgDataManager.clickReplyToMessageRequest(this.args.conversation,e,this.isGroupMessageRequest).then((()=>{if(!e){var t,n
null===(t=(n=this.args).handleSuccessfulDiscardRequest)||void 0===t||t.call(n,this.args.conversation)}this.a11yNotify(he)})).catch((e=>{const t=this.i18n.lookupTranslation("components/msg-ui@i18n-shared",ge)()
this.persistentToastManager.error({message:t})
throw e})).finally((()=>{this.isMessageRequestClickReplyPending=!1}))}onSendCustomInmailReply(e,t){const n=(0,l.get)(e,"replyType")===ve.INMAIL_DECLINE,i=n?ye.DECLINE:ye.ACCEPT
if(t){const e={message:t,conversation:this.args.conversation,messageReplyType:be.INMAIL_REPLY,inMailResponseAction:i}
if(!n&&this.inMailRequestContactInfo){this.inMailReplyPayload=e
return this._fetchContactInfo().catch((t=>{this._submitMessage(e).finally((()=>{if(!this.isDestroying){this.selectedInMailReplySmartAction=void 0
this.inMailReplyPayload=void 0}}))
throw t}))}this.selectedInMailReplySmartAction=void 0
return this._submitMessage(e)}return n?this._clickReplyToRecruiterInMail(!1).then((()=>{this.isDestroying||(this.selectedInMailReplySmartAction=void 0)})):p.default.resolve().then((()=>{const e=this.i18n.lookupTranslation("components/msg-ui@i18n-shared","i18n_inmail_empty_body_error")()
this.persistentToastManager.error({errorMessage:e})}))}onShareContactInfoAccept(e,t,n){const i=(0,_.default)({i18nService:this.i18n,participant:(0,l.get)(this,"conversation.participants.firstObject"),email:e,number:t,wechatId:n}),s=this.inMailReplyPayload
if(s){this.selectedInMailReplySmartAction=void 0;(0,l.set)(s,"inMailContactInfo",i)
return this._submitMessage(s).finally((()=>{this.isDestroying||(this.inMailReplyPayload=void 0)}))}return this._clickReplyToRecruiterInMail(!0,i)}onShareContactInfoDecline(){const e=this.inMailReplyPayload
if(e){this.selectedInMailReplySmartAction=void 0;(0,l.set)(e,"inMailContactInfo",{})
this._submitMessage(e).finally((()=>{this.isDestroying||(this.inMailReplyPayload=void 0)}))}else this._clickReplyToRecruiterInMail(!0,{})}updateSubject(e){this._subject=e.target.value}markConversationAsRead(e){(0,C.runTask)(this,(()=>{this.isDestroying||!e||(0,l.get)(e,"read")||this.msgDataManager.markConversationAsRead(e)}))}},L=(0,i.default)(z.prototype,"msgDataManager",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=(0,i.default)(z.prototype,"tracking",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=(0,i.default)(z.prototype,"lix",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=(0,i.default)(z.prototype,"authenticatedUser",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=(0,i.default)(z.prototype,"store",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=(0,i.default)(z.prototype,"a11yNotification",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=(0,i.default)(z.prototype,"i18n",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=(0,i.default)(z.prototype,"persistentToastManager",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=(0,i.default)(z.prototype,"membersToInvite",[T.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=(0,i.default)(z.prototype,"profileContactInfo",[T.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=(0,i.default)(z.prototype,"shareInfoModalIsOpen",[T.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=(0,i.default)(z.prototype,"selectedInMailReplySmartAction",[T.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=(0,i.default)(z.prototype,"declineInmailReasonModalIsOpen",[T.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=(0,i.default)(z.prototype,"isGifSearchPopoverOpen",[T.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=(0,i.default)(z.prototype,"isVirtualMeetingModalOpen",[T.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=(0,i.default)(z.prototype,"prefilledGIFSearchTerm",[T.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=(0,i.default)(z.prototype,"messageToEdit",[T.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=(0,i.default)(z.prototype,"messageEventToEdit",[T.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=(0,i.default)(z.prototype,"shouldShowMessageEditForm",[T.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=(0,i.default)(z.prototype,"inMailTooLong",[T.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=(0,i.default)(z.prototype,"longMessageLength",[T.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=(0,i.default)(z.prototype,"isMessageRequestClickReplyPending",[T.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=(0,i.default)(z.prototype,"blockDialogOpen",[T.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=(0,i.default)(z.prototype,"_subject",[T.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=(0,i.default)(z.prototype,"_composeIsFullyExpanded",[T.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),me=(0,i.default)(z.prototype,"_composeViewContext",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),de=(0,i.default)(z.prototype,"composeIsSending",[T.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=(0,i.default)(z.prototype,"messageComposeFailed",[T.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,i.default)(z.prototype,"didUpdateArgs",[l.action],Object.getOwnPropertyDescriptor(z.prototype,"didUpdateArgs"),z.prototype),(0,i.default)(z.prototype,"handleMessageSendSuccess",[N],Object.getOwnPropertyDescriptor(z.prototype,"handleMessageSendSuccess"),z.prototype),(0,i.default)(z.prototype,"handleMessageSendFail",[F],Object.getOwnPropertyDescriptor(z.prototype,"handleMessageSendFail"),z.prototype),(0,i.default)(z.prototype,"onMentionToInviteDismiss",[l.action],Object.getOwnPropertyDescriptor(z.prototype,"onMentionToInviteDismiss"),z.prototype),(0,i.default)(z.prototype,"openInMailReplyPanel",[l.action],Object.getOwnPropertyDescriptor(z.prototype,"openInMailReplyPanel"),z.prototype),(0,i.default)(z.prototype,"showInmailDeclineReasonModal",[l.action],Object.getOwnPropertyDescriptor(z.prototype,"showInmailDeclineReasonModal"),z.prototype),(0,i.default)(z.prototype,"openGIFPopover",[l.action],Object.getOwnPropertyDescriptor(z.prototype,"openGIFPopover"),z.prototype),(0,i.default)(z.prototype,"closeGIFPopover",[l.action],Object.getOwnPropertyDescriptor(z.prototype,"closeGIFPopover"),z.prototype),(0,i.default)(z.prototype,"openVirtualMeetingModal",[l.action],Object.getOwnPropertyDescriptor(z.prototype,"openVirtualMeetingModal"),z.prototype),(0,i.default)(z.prototype,"toggleConversationMute",[l.action],Object.getOwnPropertyDescriptor(z.prototype,"toggleConversationMute"),z.prototype),(0,i.default)(z.prototype,"beforeUpload",[l.action],Object.getOwnPropertyDescriptor(z.prototype,"beforeUpload"),z.prototype),(0,i.default)(z.prototype,"loadMoreMessages",[l.action],Object.getOwnPropertyDescriptor(z.prototype,"loadMoreMessages"),z.prototype),(0,i.default)(z.prototype,"resendMessage",[l.action],Object.getOwnPropertyDescriptor(z.prototype,"resendMessage"),z.prototype),(0,i.default)(z.prototype,"submitQuickReply",[l.action],Object.getOwnPropertyDescriptor(z.prototype,"submitQuickReply"),z.prototype),(0,i.default)(z.prototype,"submitMessage",[l.action],Object.getOwnPropertyDescriptor(z.prototype,"submitMessage"),z.prototype),(0,i.default)(z.prototype,"toggleExpandComposeField",[l.action],Object.getOwnPropertyDescriptor(z.prototype,"toggleExpandComposeField"),z.prototype),(0,i.default)(z.prototype,"updateFormState",[l.action],Object.getOwnPropertyDescriptor(z.prototype,"updateFormState"),z.prototype),(0,i.default)(z.prototype,"onBeforeFormSubmit",[l.action],Object.getOwnPropertyDescriptor(z.prototype,"onBeforeFormSubmit"),z.prototype),(0,i.default)(z.prototype,"focusMessageInput",[l.action],Object.getOwnPropertyDescriptor(z.prototype,"focusMessageInput"),z.prototype),(0,i.default)(z.prototype,"showMessageEditForm",[l.action],Object.getOwnPropertyDescriptor(z.prototype,"showMessageEditForm"),z.prototype),(0,i.default)(z.prototype,"validateForm",[l.action],Object.getOwnPropertyDescriptor(z.prototype,"validateForm"),z.prototype),(0,i.default)(z.prototype,"oneClickReplyToMessageRequest",[l.action],Object.getOwnPropertyDescriptor(z.prototype,"oneClickReplyToMessageRequest"),z.prototype),(0,i.default)(z.prototype,"onSendCustomInmailReply",[l.action],Object.getOwnPropertyDescriptor(z.prototype,"onSendCustomInmailReply"),z.prototype),(0,i.default)(z.prototype,"onShareContactInfoAccept",[l.action],Object.getOwnPropertyDescriptor(z.prototype,"onShareContactInfoAccept"),z.prototype),(0,i.default)(z.prototype,"onShareContactInfoDecline",[l.action],Object.getOwnPropertyDescriptor(z.prototype,"onShareContactInfoDecline"),z.prototype),(0,i.default)(z.prototype,"updateSubject",[l.action],Object.getOwnPropertyDescriptor(z.prototype,"updateSubject"),z.prototype),(0,i.default)(z.prototype,"markConversationAsRead",[l.action],Object.getOwnPropertyDescriptor(z.prototype,"markConversationAsRead"),z.prototype),z)
e.default=ke;(0,r.setComponentTemplate)(pe,ke)}))
define.alias("ember-vector-upload-manager/components/vector-upload-manager","msg-ui/components/vector-upload-manager")
define.alias("ember-vector-upload-manager/components/vector-upload","msg-ui/components/vector-upload")
define("msg-ui/components/virtual-meeting-cta",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@glimmer/component","@ember/service","@ember/application","@glimmer/tracking","@ember/object"],(function(e,t,n,i,s,r,o,a,l,c,m,d){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var u,p,g,h,f,b,y,v,_
const w=(0,o.createTemplateFactory)({id:"ByS3YIru",block:'[[[8,[39,0],null,[["@isVisible"],[[30,0,["showOnboardingNotification"]]]],[["default"],[[[[1,"\\n  "],[8,[39,1],[[4,[38,4],["virtual_meeting_entrypoint"],null]],[["@aria-label","@class","@type","@color","@circle","@click","@conversationUrn","@controlType","@icon","@size"],[[28,[37,2],["i18n_open_virtual_meeting_dialog","msg-ui/components/virtual-meeting-cta"],null],"msg-form__footer-action flex-shrink-zero",[52,[30,1],"primary","tertiary"],[52,[30,1],"default","muted"],true,[30,0,["openVirtualMeetingModal"]],[30,2],"button","video-conference",[30,3]]],null],[1,"\\n"]],[]]]]],[1,"\\n\\n"],[41,[30,0,["isVirtualMeetingContainerOpen"]],[[[1,"  "],[8,[39,5],null,[["@refocusElement","@closeVirtualMeetingContainer","@filloutMeetingInvite","@conversation","@conversationUrn","@conversationFeatureTypes"],[[28,[37,6],[[30,4]," .msg-form__contenteditable"],null],[28,[37,7],[[30,0],"isVirtualMeetingContainerOpen",false],null],[30,5],[30,6],[30,2],[30,7]]],null],[1,"\\n"]],[]],null]],["@invertColor","@conversationUrn","@ctaSize","@parentRefocusElement","@updateTextarea","@conversation","@conversationFeatureTypes"],false,["product-education@coachmark","artdeco-button@artdeco-button","t","if","ember-cli-pemberly-tracking@track-interaction","msg-shared-modals@virtual-meeting-modal","concat","ember-set-helper@set"]]',moduleName:"msg-ui/components/virtual-meeting-cta.hbs",isStrictMode:!1})
let M=(u=(0,l.inject)("msg-shared-modals@virtual-meeting-onboarding"),p=(0,l.inject)("lix"),g=(0,l.inject)("prefetch"),h=class extends a.default{constructor(){super(...arguments);(0,t.default)(this,"isVirtualMeetingContainerOpen",f,this);(0,t.default)(this,"showOnboardingNotification",b,this);(0,t.default)(this,"vmOnboardingService",y,this);(0,t.default)(this,"lix",v,this);(0,t.default)(this,"prefetch",_,this)
this.vmOnboardingService.fetchOnboardingNotification().then((e=>{this.isDestroying||(this.showOnboardingNotification=e)}))}openVirtualMeetingModal(){this.isVirtualMeetingContainerOpen=!0
this.showOnboardingNotification=!1
this.vmOnboardingService.dismissOnboardingNotification()
const e=this.lix.getTreatment("voyager.web.messaging-video-conference-prefetch")
"control"!==e&&this.prefetch.prefetchAssets("msg-video-call","d_flagship3_messaging_video_conference").then((()=>{if("enabled_with_client_creation"===e){(0,c.getOwner)(this).lookup("service:video-call@fetch-client").fetchConferenceClient()}}))}},f=(0,i.default)(h.prototype,"isVirtualMeetingContainerOpen",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),b=(0,i.default)(h.prototype,"showOnboardingNotification",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),y=(0,i.default)(h.prototype,"vmOnboardingService",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=(0,i.default)(h.prototype,"lix",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=(0,i.default)(h.prototype,"prefetch",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,i.default)(h.prototype,"openVirtualMeetingModal",[d.action],Object.getOwnPropertyDescriptor(h.prototype,"openVirtualMeetingModal"),h.prototype),h)
e.default=M;(0,r.setComponentTemplate)(w,M)}))
define("msg-ui/components/visible-beacon",["exports","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@ember/component","@ember/template-factory","@ember/debug","@glimmer/component","ember-batcher","global-utils/utils/intersection-observer","@ember/object"],(function(e,t,n,i,s,r,o,a,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var c
const m=(0,i.createTemplateFactory)({id:"AHI3n11O",block:'[[[11,0],[4,[38,0],[[30,0,["handleDidInsert"]]],null],[12],[1,"\\n  "],[18,1,null],[1,"\\n"],[13]],["&default"],false,["did-insert","yield"]]',moduleName:"msg-ui/components/visible-beacon.hbs",isStrictMode:!1})
let d=(c=class extends r.default{get buffer(){return this.args.buffer||300}_fireInView(){this.isDestroying||this.args.inView()}handleDidInsert(e){(0,a.onInViewportOnce)(e,(()=>(0,o.mutateDOM)(this._fireInView.bind(this))),{rootMargin:`0px 0px ${this.buffer}px`})}},(0,t.default)(c.prototype,"handleDidInsert",[l.action],Object.getOwnPropertyDescriptor(c.prototype,"handleDidInsert"),c.prototype),c)
e.default=d;(0,n.setComponentTemplate)(m,d)}))
define("msg-ui/config/environment",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
let t
try{const e="msg-ui/config/environment",n=document.querySelector('meta[name="'+e+'"]').getAttribute("content")
t=JSON.parse(unescape(n))}catch(e){t={sparkPlaceholders:{includeHashes:["assets/media-player.amd.js"]}}}var n=t
e.default=n}))
define.alias("ember-truth-helpers/helpers/and","msg-ui/helpers/and")
define.alias("ember-cli-pemberly-i18n/helpers/bidi-dir","msg-ui/helpers/bidi-dir")
define("msg-ui/helpers/date-group-heading",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/service","@ember/component/helper","msg-ui/helpers/is-current-year"],(function(e,t,n,i,s,r,o,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var l,c,m,d,u,p,g
let h=(l=(0,r.inject)("i18n"),c=(0,r.inject)("formatter"),m=(0,r.inject)("date"),d=class extends o.default{constructor(){super(...arguments);(0,t.default)(this,"i18n",u,this);(0,t.default)(this,"formatter",p,this);(0,t.default)(this,"date",g,this)}compute(e){const t=e[0],n=this.date.now(),i=n-t
let s
if(t>=new Date(n).setHours(0,0,0,0))return this.i18n.lookupTranslation("components/msg-ui@message-list","i18n_today")()
s=i<6048e5?"fmt_d":(0,a.isCurrentYear)(t,this.date)?"fmt_md_medium":"fmt_mdy_medium"
return this.formatter.formatDate(t,s,!0)}},u=(0,i.default)(d.prototype,"i18n",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=(0,i.default)(d.prototype,"formatter",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=(0,i.default)(d.prototype,"date",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d)
e.default=h}))
define.alias("ember-truth-helpers/helpers/equal","msg-ui/helpers/eq")
define("msg-ui/helpers/extract-participant-names",["exports","@ember/component/helper","@ember/object","global-helpers/helpers/name"],(function(e,t,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.extractParticipantNames=s
e.default=void 0
function s(e){return null==e?void 0:e.map((e=>(0,i.getName)((0,n.get)(e,"miniProfile"))))}class r extends t.default{compute(e){let[t]=e
return s(t)}}e.default=r}))
define.alias("ember-cli-pemberly-i18n/helpers/format-currency","msg-ui/helpers/format-currency")
define.alias("ember-cli-pemberly-i18n/helpers/format-date","msg-ui/helpers/format-date")
define.alias("ember-cli-pemberly-i18n/helpers/format-name","msg-ui/helpers/format-name")
define.alias("ember-cli-pemberly-i18n/helpers/format-number","msg-ui/helpers/format-number")
define.alias("ember-cli-pemberly-i18n/helpers/format-time","msg-ui/helpers/format-time")
define.alias("ember-cli-pemberly-i18n/helpers/format-truncate","msg-ui/helpers/format-truncate")
define("msg-ui/helpers/get-event-seen-receipts",["exports","@ember/component/helper","msg-data/utils/seen-receipts-manager"],(function(e,t,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var i=(0,t.helper)((e=>{let[t,i,s]=e
return n.default.getEventSeenReceipts(t,i,s)}))
e.default=i}))
define("msg-ui/helpers/group-events",["exports","@ember/component/helper","msg-ui/utils/events-grouper"],(function(e,t,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var i=(0,t.helper)((e=>{let[t,i,s,r,o,a]=e
return n.default.groupEvents(t,i,s,r,o,a)}))
e.default=i}))
define.alias("ember-truth-helpers/helpers/gt","msg-ui/helpers/gt")
define.alias("ember-truth-helpers/helpers/gte","msg-ui/helpers/gte")
define("msg-ui/helpers/has-convo-top-banner",["exports","@ember/component/helper","@ember/object","msg-shared/helpers/is-sponsored-conversation"],(function(e,t,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.hasConvoTopBanner=s
e.default=void 0
function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0
if((0,i.isSponsoredConversation)(e))return!0
if(t)return!1
const s=(0,n.get)(e,"eventCollection.oldestEvent")
if(!s)return!1
const r="RECRUITER"===(0,n.get)(s,"eventContent.customContent.inmailProductType"),o="SALES"===(0,n.get)(s,"eventContent.customContent.inmailProductType")
return(0,n.get)(s,"isFirstMessageInThread")&&(r||o)}class r extends t.default{compute(e){let[t,n]=e
return s(t,n)}}e.default=r}))
define.alias("ember-cli-pemberly-i18n/helpers/is-any-locale","msg-ui/helpers/is-any-locale")
define.alias("ember-truth-helpers/helpers/is-array","msg-ui/helpers/is-array")
define.alias("ember-cli-pemberly-i18n/helpers/is-cjk-language","msg-ui/helpers/is-cjk-language")
define("msg-ui/helpers/is-current-year",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/service","@ember/component/helper"],(function(e,t,n,i,s,r,o){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.isCurrentYear=m
e.default=void 0
var a,l,c
function m(e,t){const n=t.now()
return new Date(n).getFullYear()===new Date(e).getFullYear()}let d=(a=(0,r.inject)("date"),l=class extends o.default{constructor(){super(...arguments);(0,t.default)(this,"dateService",c,this)}compute(e){let[t]=e
return m(t,this.dateService)}},c=(0,i.default)(l.prototype,"dateService",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l)
e.default=d}))
define.alias("ember-truth-helpers/helpers/is-empty","msg-ui/helpers/is-empty")
define.alias("ember-truth-helpers/helpers/is-equal","msg-ui/helpers/is-equal")
define.alias("ember-cli-pemberly-i18n/helpers/is-rtl-content","msg-ui/helpers/is-rtl-content")
define.alias("ember-cli-pemberly-i18n/helpers/is-rtl-language","msg-ui/helpers/is-rtl-language")
define.alias("artdeco-icons-web/helpers/li-icon","msg-ui/helpers/li-icon")
define.alias("ember-truth-helpers/helpers/lt","msg-ui/helpers/lt")
define.alias("ember-truth-helpers/helpers/lte","msg-ui/helpers/lte")
define.alias("ember-media-player/helpers/media-action-autoplay","msg-ui/helpers/media-action-autoplay")
define.alias("ember-media-player/helpers/media-action-seekto","msg-ui/helpers/media-action-seekto")
define.alias("ember-truth-helpers/helpers/not-equal","msg-ui/helpers/not-eq")
define.alias("ember-truth-helpers/helpers/not","msg-ui/helpers/not")
define.alias("ember-truth-helpers/helpers/or","msg-ui/helpers/or")
define.alias("ember-app-scheduler/helpers/route-idle","msg-ui/helpers/route-idle")
define.alias("ember-set-helper/helpers/set","msg-ui/helpers/set")
define.alias("ember-cli-pemberly-i18n/helpers/t-link-to","msg-ui/helpers/t-link-to")
define.alias("ember-cli-pemberly-i18n/helpers/t-make-name","msg-ui/helpers/t-make-name")
define.alias("ember-cli-pemberly-i18n/helpers/t","msg-ui/helpers/t")
define.alias("ember-truth-helpers/helpers/xor","msg-ui/helpers/xor")
define("msg-ui/initializers/artdeco",["exports","artdeco-eyeglass"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.initialize=s
e.default=void 0
const n=[t.default.contextClasses,t.default.floatingLabel,t.default.focusOutline]
function i(e,t){const i=e[t]
e[t]=function(){n.forEach((e=>e&&"function"==typeof e.teardown&&e.teardown()))
i&&"function"==typeof i&&i.call(e)}}function s(e){if("undefined"!=typeof document){n.forEach((e=>e.install()))
"function"==typeof e.willDestroy?i(e,"willDestroy"):"function"==typeof e.destroy&&i(e,"destroy")}}var r={name:"artdeco",initialize:s}
e.default=r}))
define.alias("ember-cli-pemberly-i18n/initializers/i18n","msg-ui/initializers/i18n")
define("msg-ui/initializers/icons",["exports","artdeco-icons-web/src/icons","msg-ui/config/environment"],(function(e,t,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
function i(e){throw e}var s={name:"icons",initialize:function(){const{environment:e,APP:s}=n.default
let r,o
s&&({artdecoCustomSpriteUrl:r,artdecoCustomSpriteName:o}=s)
const a="test"!==e
t.default.load(a,r,o).catch(i)}}
e.default=s}))
define.alias("ember-m3/initializers/m3-store","msg-ui/initializers/m3-store")
define("msg-ui/initializers/override-safestring",["exports","ember"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.initialize=r
e.default=void 0
const n="ember-glimmer",i="ember-htmlbars/utils/string",s="@ember/-internals/glimmer"
function r(){let e,r=t.default.__loader.require.has
if(r(s))e=t.default.__loader.require(s).SafeString
else if(r(n))e=t.default.__loader.require(n).SafeString
else{if(!r(i))throw new Error("Cannot locate SafeString class for overriding")
e=t.default.__loader.require(i).SafeString}e.prototype.toHTML=function(){return jSecure.sanitizeHTML(this.toString())}
e.prototype.toString=function(){return`${this.string}`}}var o={name:"override-safestring",initialize:r}
e.default=o}))
define("msg-ui/instance-initializers/-t-link-to",["exports","ember-stdlib/utils/is-browser"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.initialize=n
e.default=void 0
function n(e){t.default&&e.lookup("service:-t-link-to")}var i={name:"-t-link-to",initialize:n}
e.default=i}))
define.alias("video/instance-initializers/media-plugins","msg-ui/instance-initializers/media-plugins")
define.alias("ember-cli-realtime/mixins/realtime-component","msg-ui/mixins/realtime-component")
define.alias("ember-cli-realtime/mixins/realtime-route","msg-ui/mixins/realtime-route")
define.alias("@ember/render-modifiers/modifiers/did-insert","msg-ui/modifiers/did-insert")
define.alias("@ember/render-modifiers/modifiers/did-update","msg-ui/modifiers/did-update")
define.alias("ember-prop-modifier","msg-ui/modifiers/prop")
define.alias("@ember/render-modifiers/modifiers/will-destroy","msg-ui/modifiers/will-destroy")
define.alias("ember-cli-pemberly-i18n/services/-t-link-to","msg-ui/services/-t-link-to")
define.alias("artdeco-hoverables/services/artdeco-hoverable","msg-ui/services/artdeco-hoverable")
define.alias("artdeco-modal/services/artdeco-modal","msg-ui/services/artdeco-modal")
define.alias("client-sensor-web/services/client-sensor","msg-ui/services/client-sensor")
define.alias("ember-cli-pemberly-i18n/services/formatter","msg-ui/services/formatter")
define.alias("ember-cli-pemberly-i18n/services/i18n","msg-ui/services/i18n")
define.alias("@linkedin/ember-pem/services/internal-event-utils","msg-ui/services/internal-event-utils")
define.alias("@linkedin/ember-pem/services/internal-pem-tracking","msg-ui/services/internal-pem-tracking")
define.alias("ember-cli-pemberly-i18n/services/locale","msg-ui/services/locale")
define.alias("ember-m3/services/m3-schema-manager","msg-ui/services/m3-schema-manager")
define.alias("ember-media-player/services/media-player","msg-ui/services/media-player")
define("msg-ui/services/messaging-user-settings",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/utils","@ember/object","@ember/service","global-utils/utils/is-browser","msg-shared/utils/constants","msg-data/utils/messaging-settings","global-utils/utils/api-compat"],(function(e,t,n,i,s,r,o,a,l,c,m,d){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var u,p,g,h,f,b,y,v,_
const{ENTER_LOCAL_STORAGE_KEY:w}=c.default
let M=(u=(0,a.inject)("authentication@authenticated-user"),p=(0,a.inject)("profile-services@identity-store"),g=(0,a.inject)("lix"),h=(0,a.inject)("global-services@local-storage"),f=class extends a.default{constructor(){super(...arguments);(0,t.default)(this,"authenticatedUser",b,this);(0,t.default)(this,"identityStore",y,this);(0,t.default)(this,"lix",v,this);(0,t.default)(this,"ls",_,this)}getMsgSettings(){return l.default?this._getLocalStorageSettings():this._getMsgSettings()}syncUserSettings(){return this._getMsgSettings()}getReadReceiptsAndTypingIndicatorsEnabled(){return(0,m.findMessagingSettingsRequest)(this.identityStore,this.lix,"com.linkedin.voyager.identity.profile.MessagingSettings",(0,d.entityUrnToId)((0,o.get)(this,"authenticatedUser.miniProfile.entityUrn"))).then((e=>"ALL_ENABLED"===e.get("messagingSeenReceipts")&&"ALL_ENABLED"===e.get("messagingTypingIndicators")))}getRealtimeSettingExplicitlyChosen(){return(0,m.findMessagingSettingsRequest)(this.identityStore,this.lix,"com.linkedin.voyager.identity.profile.MessagingSettings",(0,d.entityUrnToId)((0,o.get)(this,"authenticatedUser.miniProfile.entityUrn"))).then((e=>e.get("messagingSeenReceipts")&&e.get("messagingTypingIndicators")))}_getLocalStorageSettings(){const e="true"===(this.ls.getItem(w)||"true")
return o.default.create({pressEnterToSend:e})}_getMsgSettings(){const e=(0,d.entityUrnToId)((0,o.get)(this,"authenticatedUser.miniProfile.entityUrn"))
return(0,m.findMessagingSettingsRequest)(this.identityStore,this.lix,"com.linkedin.voyager.identity.profile.MessagingSettings",e).then((e=>{const t=(0,o.get)(e,"pressEnterToSend")
if((0,r.isEmpty)(t))return this._getLocalStorageSettings()
this.ls.setItem(w,t)
return e})).catch((()=>this._getLocalStorageSettings()))}},b=(0,i.default)(f.prototype,"authenticatedUser",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=(0,i.default)(f.prototype,"identityStore",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=(0,i.default)(f.prototype,"lix",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=(0,i.default)(f.prototype,"ls",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f)
e.default=M}))
define.alias("@linkedin/ember-pem/services/pem-tracking","msg-ui/services/pem-tracking")
define.alias("ember-cli-realtime/services/realtime-api","msg-ui/services/realtime-api")
define.alias("ember-media-player/services/static-asset-loader","msg-ui/services/static-asset-loader")
define.alias("ember-cli-pemberly-m3/services/store","msg-ui/services/store")
define.alias("ember-singularity/services/unified-event-handler","msg-ui/services/unified-event-handler")
define("msg-ui/services/update-message-compose",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/object","@ember/object/events","@ember/service"],(function(e,t,n,i,s,r,o,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var l,c,m
let d=(l=(0,a.inject)("jet"),c=class extends a.default{constructor(){super(...arguments);(0,n.default)(this,"overlayBaseFormSubscriberList",[]);(0,t.default)(this,"jet",m,this)}setBaseFormSubscriber(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.overlayBaseFormSubscriberList.push(e):this.pillarBaseForm=e}removeBaseFormSubscriber(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.overlayBaseFormSubscriberList.splice(this.overlayBaseFormSubscriberList.indexOf(e),1):this.pillarBaseForm=null}_getBaseFormSubscriber(e,t){return t?this.overlayBaseFormSubscriberList.findBy("bubbleId",e):this.pillarBaseForm}triggerFocusMessageCompose(e){let{bubbleId:t,isOverlay:n}=e
const i=this._getBaseFormSubscriber(t,n)
i?(0,o.sendEvent)(i,"focusMessageCompose"):this.logErrorForNoBaseFormFound("triggerFocusMessageCompose",t)}triggerUpdateMessageCompose(e){let{bubbleId:t,isOverlay:n,messageText:i}=e
const s=this._getBaseFormSubscriber(t,n)
s?(0,o.sendEvent)(s,"updateMessageCompose",[i]):this.logErrorForNoBaseFormFound("triggerUpdateMessageCompose",t)}logErrorForNoBaseFormFound(e,t,n){const i=this.overlayBaseFormSubscriberList.map((e=>(0,r.get)(e,"conversation.entityUrn"))),s=[`${e}()`]
t&&s.push(`bubbleId: ${t}`)
n&&s.push(`conversationUrn: ${n}`)
s.push(`baseFormConversationUrns: ${i.join(", ")}`)
this.jet.error(new Error("No baseFormSubscriber was found from conversation entityUrn"),s)}},m=(0,i.default)(c.prototype,"jet",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c)
e.default=d}))
define("msg-ui/utils/attributed-text-manager",["exports","ember","@ember/object","@ember/utils","global-utils/utils/get-ie-version","global-utils/utils/is-browser","rich-text/utils/mentions-texteditor-helpers"],(function(e,t,n,i,s,r,o){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const a={mention:"STRONG",wrapper:"P",newLine:"BR",nonVisual:["STYLE","#comment"],grammarly:"G",text:"#text"},l="msg-form__mention-highlight",c="data-id"
function m(e){return-1!==a.nonVisual.indexOf(e.nodeName)}e.default=class{constructor(){this.resetModel()
r.default?this.needsBlankChar=window.navigator.userAgent.indexOf("Firefox")>-1||this._isIEOrEdgeBrowser():this.needsBlankChar=!1}resetModel(){this.Model={text:"",attributes:[],cursor:0}
this.isBrowser=r.default
this.didAttributesChange=!0
this.EntityMap={}
this.History=new o.History}getModel(){return this.Model}setModel(e){this.History.addToUndo(e)
this.Model=e
return this}updateModelCursorPosition(e){this.History.addToUndo(this.Model)
this.Model={text:this.Model.text,attributes:this.Model.attributes,cursor:e}
return this.Model}updateModelFromHTML(e){const t=e.childNodes
this.History.clearRedo()
this.didAttributesChange=!1
if(""===e.textContent){this.resetModel()
return}let n=0
const i={text:"",attributes:[]}
if(this.needsBlankChar&&1===e.textContent.length){i.text=e.textContent
i.position=1
i.cursor=1
this.setModel(i)
this.didAttributesChange=!0
return}for(let e=0;e<t.length;e+=1){const s=t[e]
if(s.nodeName===a.wrapper){const e=s.childNodes
for(let t=0;t<e.length;t+=1){const s=e[t]
if(this.isMentionNode(s)){const e=s.getAttribute(c),t=this.EntityMap[e]
if(t){const r={start:n,length:s.textContent.length,entity:t,urn:e}
i.attributes.push(r)}}if(!m(s)){i.text+=s.textContent
n+=s.textContent.length}}}if(this._shouldInsertReturn(t,s,e)){i.text+="\n"
n+=1}else if(1===t.length&&1===s.childNodes.length&&s.childNodes[0]===a.newLine){i.text+="\n"
n+=1
i.cursor=1}}if(!i.cursor){const{end:t}=this.getCaretPosition(e)
i.cursor=t}const s=i.text.length<this.Model.text.length
this.cleanModel(i,s)}getCaretPosition(e){return(0,o.getCaretPosition)(e,this.isBrowser)}setCaretPosition(e,t){let n,i,s,r
if(!this.isBrowser)return
n=document.createRange()
i=window.getSelection()
let o=e,l=!1
const c=t.childNodes
for(let e=0;e<c.length;e+=1){let t=!1
const n=c[e].textContent.length
if(o-n>0){o-=n
e<c.length-1&&(o-=1)}else{r=c[e].childNodes
for(s=0;s<r.length;s+=1){const e=r[s].textContent.length
if(!(o-e>0)){r[s].nodeName===a.mention&&(l=!0)
t=!0
break}o-=e}if(t)break}}if(r&&r.length&&s>-1){l?n.setStart(r[s].childNodes[0],o):n.setStart(r[s],o)
n.collapse(!0)
i.removeAllRanges()
i.addRange(n)
t.focus()}}correctClickPosition(e){if(!this.needsBlankChar)return
const{text:t}=this.getModel()
t.length||this.setCaretPosition(0,e)}cleanModel(e,t){const i={text:e.text,attributes:[],cursor:e.cursor}
let s=0
e.attributes.sort(((e,t)=>e.start-t.start))
e.attributes.forEach((r=>{const o=e.text.substr(r.start,r.length)
if(r.mentionInProgress||!this.isMentionEntity((0,n.get)(r,"entity.miniProfile.entityUrn"))){i.attributes.push(r)
return}const a=this.EntityMap[r.urn],l=(0,n.get)(a,"miniProfile")
let{firstName:c="",lastName:m=""}=(0,n.getProperties)(l,"firstName","lastName")
o.indexOf(`@${c}`)>-1?c=`@${c}`:o.indexOf(`@${m}`)>-1&&(m=`@${m}`)
const d=o.split(" ")
if(d.length>1&&""===d[d.length-1]){d.splice(d.length-1,1)
d[d.length-1]+=" "
this.didAttributesChange=!0}const u=c.split(" ").concat(m.split(" "))
c.match(/[\u3400-\u9FBF]/)&&m.length&&m.match(/[\u3400-\u9FBF]/)&&u.unshift(m+c)
let p=0
for(let e=0;e<u.length;e+=1)if(d[p]&&d[p]===u[e]){if(p===d.length-1){const{start:e,length:t,entity:n,urn:o}=r
i.attributes.push({start:e+s,length:t,entity:n,urn:o})
return}p+=1}else if(!t){this.didAttributesChange=!0
if(p===d.length-1&&d[p]&&0===d[p].indexOf(u[e])){const t=d[p].length-u[e].length,{start:n,length:s,entity:o,urn:a}=r
i.attributes.push({start:n,length:s-t,entity:o,urn:a})
return}if(0===p){const t=d[p].indexOf(u[e])
if(t>0){const{start:e,length:n,entity:s,urn:o}=r
i.attributes.push({start:e+t,length:n-t,entity:s,urn:o})
return}}}if(t){const t=this.generateRemainingMentionText(d,u),{diffPosition:n}=t
let{finalMentionText:o}=t
o=o.indexOf("@")>-1?o:`@${o}`
const a=this.updateModelWithNewMentionText(o,r,e.text,n),{cursor:l,diff:c,mention:m,text:p}=a
s+=c
m&&i.attributes.push(m)
i.text=p
i.cursor=l
this.didAttributesChange=!0}}))
const r=0!==this.getModel().attributes.length,o=0===i.attributes.length
r&&o&&(this.didAttributesChange=!0)
this.setModel(i)}generateRemainingMentionText(e,t){let n,i="",s=0,r=0,o=!1
const a=e
for(let e=0;e<t.length&&s<a.length;e+=1){const l=t[e],c=a[s]
if(c.trim()===l){i+=`${c} `
r=e
s<a.length-1&&(s+=1)}else if(0===c.indexOf(l)){n=i.trim().length
o=!0
const e=c.replace(l,"")
a[s]=e}else if(e===t.length-1&&s<a.length-1){e=r
s+=1
n=i.trim().length
o=!0}else n||o||(n=i.trim().length)}return{finalMentionText:i,diffPosition:n}}updateModelWithNewMentionText(e,t,n,i){if(e&&"@"!==e){const s=e.trim(),r=s.length-t.length,o=n.substr(0,t.start)+s+n.substr(t.start+t.length),a=t.start+i
t.length=s.length
return{text:o,cursor:a,diff:r,mention:t}}delete this.EntityMap[t.urn]
return{text:n.substr(0,t.start)+n.substr(t.start+t.length),cursor:t.start,diff:-t.length}}createHTMLFromModel(){let e="",t=0
const{text:n}=this.Model
if(!n)return jSecure.sanitizeHTML(this._carriageReturnHandler(this.needsBlankChar))
this.Model.attributes.sort(((e,t)=>e.start-t.start)).forEach((i=>{const{start:s,length:r}=i
e=`${e}${jSecure.htmlEncode(n.substring(t,s))}${this.createHTMLForAttribute(i)}`
t=s+r}))
e+=jSecure.htmlEncode(n.substring(t))
return jSecure.sanitizeHTML(e.split("\n").map((e=>(0,i.isPresent)(e)?jSecure.mk`<${a.wrapper}>${new jSecure.UnsafeString(jSecure.sanitizeHTML(e))}</${a.wrapper}>`:this._carriageReturnHandler(this.needsBlankChar))).join(""))}createHTMLForAttribute(e){let{entity:t,start:i,length:s,mentionInProgress:r}=e
return`<strong class="${r?"msg-form__mention-in-progress":l}" data-id="${jSecure.htmlEncode(t?(0,n.get)(t,"miniProfile.entityUrn"):"mention-in-progress")}">${jSecure.htmlEncode(this.Model.text.substring(i,i+s))}</strong>`}insertText(e,t){let{start:n,end:i}=t
if(!e)return
const{text:s,attributes:r}=this.Model,o=this._calcOffset(e,s,n),a={attributes:r.reduce(((t,s)=>{if(s.start+s.length<=n)return t.concat(s)
if(s.start>=i){const r={start:n+e.length+(s.start-i),length:s.length,entity:s.entity,urn:s.urn}
return t.concat(r)}return t}),[]),cursor:n+e.length+o,text:`${s.slice(0,n)}${e}${s.slice(i)}`}
this.didAttributesChange=!0
this.setModel(a)
return this}_calcOffset(e,t){let n=0
if(this.needsBlankChar)if("\n"===e){const{length:e}=t,i=" "===t[e-1]?t.slice(0,-1):t
"\n"===i[i.length-1]&&(n=1)}else n=(e.match(/\n\n/g)||[]).length
return n}insertAttribute(e){const t=(0,n.getProperties)(e,["match","entity","mentionInProgress"]),i=this.getModel(),{text:s}=i,{start:r,end:o}=e.tokenSelection,a=e.match.text.length-(o-r),l={text:`${s.substring(0,r)}${e.match.text}${s.substring(o)}`,attributes:i.attributes.reduce(((e,t)=>{if(t.start>=o){const{start:n,length:i,entity:s,urn:r}=t
e.push({urn:r,length:i,entity:s,start:n+a})}else e.push(t)
return e}),[]),cursor:r+e.match.text.length}
this.didAttributesChange=!0
const c=(0,n.get)(t,"entity"),m=(0,n.get)(t,"entity.miniProfile.entityUrn"),d={urn:m,entity:c,start:r,length:t.match.length}
t.mentionInProgress&&(d.mentionInProgress=!0)
l.attributes.push(d)
this.EntityMap[m]=c
this.setModel(l)
return this}removeMentionInProgress(){const e=this.getModel()
e.attributes=e.attributes.filter((e=>!e.mentionInProgress))
this.setModel(e)
this.didAttributesChange=!0}handleUndoRedo(e){let t
t=e.shiftKey?this.History.redo():this.History.undo()
if(t&&t.model){this.setModel(t.model)
this.didAttributesChange=!0}return this}getTextBeforeCursor(e){const{text:t}=this.Model,i=this.Model.attributes.sort(((e,t)=>t.start-e.start)).find((t=>t.entity&&t.start+t.length<=e.start&&this.isMentionEntity((0,n.get)(t,"entity.miniProfile.entityUrn"))))
if(i){const n=i.start+i.length
return t.substring(n,e.end)}return t.substring(0,e.end)}isMentionNode(e){return e.className===l&&e.getAttribute(c)}isMentionEntity(e){return e&&e.includes("urn:li:member")||e.includes("miniProfile")||e.includes("urn:li:fs_conversation")}mentionAtPosition(e){return this.getModel().attributes.find((t=>{let{start:n,length:i}=t
return e>=n&&e<=n+i-1}))}_isGrammarly(e){return e.nodeName===a.grammarly&&e.classList.contains("gr_")}_shouldInsertReturn(e,t,n){const{nodeName:i}=t
return n<e.length-1&&!this._isGrammarly(t)&&i!==a.mention&&(i===a.newLine||i!==a.text)}_isIEOrEdgeBrowser(){return!(t.default.testing||!r.default)&&!!(0,s.default)(window.navigator.userAgent)}_carriageReturnHandler(e){return e?jSecure.mk`<${a.wrapper}>&nbsp;<br /></${a.wrapper}>`:jSecure.mk`<${a.wrapper}><br /></${a.wrapper}>`}}}))
define.alias("ember-highcharts/utils/build-options","msg-ui/utils/build-options")
define("msg-ui/utils/conversation-properties",["exports","msg-shared/utils/constants","@ember/object","msg-shared/helpers/is-sponsored-conversation","msg-shared/helpers/is-inmail-conversation"],(function(e,t,n,i,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.enableUserReplies=function(e){return!e||(0,n.get)(e,"viewerCurrentParticipant")}
e.getReplyMessageType=function(e){if((0,s.isInmailConversation)(e))return r.INMAIL_REPLY
if((0,i.isSponsoredConversation)(e))return r.SPONSORED_MESSAGE_REPLY
return r.M2M}
const{MESSAGE_TYPE:r}=t.default}))
define("msg-ui/utils/events-grouper",["exports","@ember/object/internals","@ember/utils","@ember/object","msg-shared/utils/constants","msg-ui/helpers/has-convo-top-banner","msg-shared/helpers/is-company-profile","msg-data/utils/seen-receipts-manager"],(function(e,t,n,i,s,r,o,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const{MESSAGE_TYPE:l}=s.default
function c(e,t){if((0,i.get)(t,"isSystemMessage")||(0,i.get)(e,"isSystemMessage"))return!0
const n=(0,i.get)(t,"from")||{}
return(0,o.isCompanyProfile)(n)?(0,i.get)(e,"from.miniCompany.id")!==(0,i.get)(n,"miniCompany.id"):(0,i.get)(e,"from.miniProfile.id")!==(0,i.get)(n,"miniProfile.id")}function m(e,t,s){let r=!1
const o=c(e,t)
if(!(0,i.get)(t,"isSystemMessage")&&o){r=(0,n.isEmpty)(s)||!c(t,s)?2:1}return r}function d(e,t,n){if(!Object.keys(e).length&&(0,i.get)(t,"conversation")&&(0,r.hasConvoTopBanner)((0,i.get)(t,"conversation"),n))return!1
const s=new Date(Number((0,i.get)(e,"createdAt"))).setHours(0,0,0,0),o=new Date(Number((0,i.get)(t,"createdAt"))).setHours(0,0,0,0),a=Number(o)
return s!==a&&{timestamp:a}}function u(e,t){const n=c(e,t),s=(0,i.get)(t,"createdAt")-(0,i.get)(e,"createdAt")>6e4
return n||s}function p(e){return(0,i.get)(e,"subtype")===l.M2M}function g(e,t,n){return!(!(0,i.get)(t,"isSystemMessage")||!p(e)||d(e,t,n))}function h(e,t,n){return!(!(0,i.get)(e,"isSystemMessage")||!p(t)||d(e,t,n))}function f(e,t,n){return!(!p(e)||!d(e,t,n))}var b={groupEvents:function(e,n,s,r,o,l){let c,p,b
const y=[]
let v
r&&(v=function(e,t,n){for(let i=e.length-1;i>=0;i--){const s=a.default.getEventSeenReceipts(n,t,e[i])
if(s&&s.length>0)return i+1}return-1}(e,o,l))
for(let o=0,a=e.length;o<a;o++){p=e[o]
c=e[o-1]||{}
b=e[o+1]||{}
y.push({id:(0,t.guidFor)(p.content),messageIndex:a-o-1,event:p,dateBoundary:d(c,p,s),senderGroupMessageCount:m(c,p,b),showMeta:!!(0,i.get)(p,"eventContent.recalledAt")||!(0,i.get)(p,"isSystemMessage")&&u(c,p),isLastInGroup:u(p,b),isSystemMessagePrecededByM2MMessage:g(c,p,s),isSystemMessageFollowedByM2MMessage:h(p,b,s),isMessageFollowedByDateBoundary:d(p,b,s),isM2MMessageFollowedByDateBoundary:f(p,b,s),isOldestUnreadEvent:o===n,isEventSeenByNone:r?o>=v:null})}return y}}
e.default=b}))
define.alias("ember-cli-realtime/utils/eventsource-polyfill","msg-ui/utils/eventsource-polyfill")
define.alias("client-sensor-web/utils/helpers","msg-ui/utils/helpers")
define("msg-ui/utils/marketplace-project-card-constants",["exports","@linkedin/ember-pem/utils/degradation-tracking-metadata"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.MARKETPLACE_PROJECT_DEGRADATION_METADATA=void 0
const n={MARKETPLACE_PROJECT_MESSAGE_CARD:new t.default("marketplace-project-message-card","failed-marketplace-project-message-card",{productName:"Voyager - Services Marketplace",clientSensorGroupName:"service-marketplace",untrackedResponseCodes:[]})}
e.MARKETPLACE_PROJECT_DEGRADATION_METADATA=n}))
define("msg-ui/utils/mentions-helper",["exports","@ember/debug","@ember/object"],(function(e,t,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=function(e,t){const i=(0,n.get)(t,"participants").reduce(((e,t)=>{e.set((0,n.get)(t,"miniProfile.entityUrn"),!0)
return e}),new Map)
return e.filter((e=>!i.has((0,n.get)(e,"entityUrn"))))}}))
define("msg-ui/utils/message-request-helper",["exports","msg-shared/utils/constants","@ember/object"],(function(e,t,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.extractMessageRequestMetaData=function(e){const t=(0,n.get)(e,"contextText.attributes.firstObject")
let s,r
switch((0,n.get)(t,"type")){case i.type:s=(0,n.get)(t,"miniGroup.eventContent.customContent.group.groupName")
r=i.icon}return{context:s,contextIcon:r}}
const{MESSAGE_REQUEST_CONTEXT_TYPE:{GROUP_NAME:i}}=t.default}))
define("msg-ui/utils/notification-sounds",["exports","ember","global-utils/utils/is-browser"],(function(e,t,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.soundPlaybackUtils=e.notificationSounds=void 0
const i="https://media.licdn.com/media/",s=n.default&&window.Audio?{TYPING:new window.Audio(`${i}AAMB_wQiAAgAAQAAAAAAAA0WAAAAJGY1ZGY1NGUxLTY2MzUtNDY0OC1hNGYxLWMwYjRiZDdmMWE4Ng.bin`),SEND:new window.Audio(`${i}AAMB_wQiAAgAAQAAAAAAAAukAAAAJDE2NTM5ZDVkLTU0ZWItNDU0ZS1hMTFlLThlNmM3MjFhMGEyNQ.bin`),RECEIVE:new window.Audio(`${i}AAMBAQQiAAgAAQAAAAAAAAriAAAAJDg2ZWY0MzhjLWQ5YTUtNDgyMy1hZjQ3LWYzM2RlOWRjZmZkYg.bin`)}:{}
e.notificationSounds=s
const r={prevTypingSound:null,playSound(e){e===s.TYPING&&(this.prevTypingSound=e)
t.default.testing||e.play()},stopTypingSound(){t.default.testing||!this.prevTypingSound||this.prevTypingSound.paused||this.prevTypingSound.pause()}}
e.soundPlaybackUtils=r}))
define("msg-ui/utils/realtime-onboarding",["exports","@ember/object","rsvp","global-utils/utils/get-csrf-token"],(function(e,t,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.default=class{constructor(e,t,n,i,s){this.legoResolver=e
this.legoTracking=t
this.msgUserSettings=n
this.store=i
this.tracking=s
this._legoWidgetTrackingToken=void 0}run(){this._fetchLegoWidget().then((()=>this.msgUserSettings.getRealtimeSettingExplicitlyChosen())).then((e=>{if(!e){this.tracking.firePageViewEvent("flagship3_messaging_realtime_onboarding")
return this._enableRealtimeSettings()}})).then((()=>this._dismissLegoWidget()))}_fetchLegoWidget(){return this.legoResolver.fireLegoCall({pageKey:"messaging_realtime",slotId:"onboarding",groupId:"onboarding_group",widgetId:"realtime_onboarding"}).then((e=>{if(!e)return(0,n.reject)()
this._legoWidgetTrackingToken=(0,t.get)(e,"trackingToken")
return e}))}_dismissLegoWidget(){this.legoTracking.sendLegoAction(this._legoWidgetTrackingToken,this.legoTracking.LEGO_ACTION_DISMISS,1)}_enableRealtimeSettings(){return this.store.adapterFor("-ember-m3").ajax("/psettings/seen-receipts","post",{data:{seenReceiptsEnabled:!0,csrfToken:(0,i.default)()},headers:{"x-requested-with":"XMLHttpRequest"}}).then((e=>{const n=(0,t.get)(e,"result.responseCode")
if(200!==n)throw new Error(`failed to set realtime setting, responseCode: ${n}`)}))}}}))
define("msg-ui/utils/reregister-impression-tracking",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=function(e,t){e.on("didTransition",(()=>{this.isDestroying||t()}))}}))
define("msg-ui/utils/send-typing-indicator",["exports","@ember/debug"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=function(e,t){if(!e)return
if(!t)return
t.adapterFor("application").ajax("/voyager/api/messaging/conversations?action=typing","post",{data:{conversationId:e}}).catch((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
const{status:t,message:n}=e
if(!(!navigator.onLine||0===t||500===t||n&&n.includes("returned a 500")))throw e}))}}))
define("msg-ui/utils/share-contact-info-helper",["exports","urn-utils","@ember/object"],(function(e,t,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=function(e){const{email:i,number:s,wechatId:r}=e,o={email:(0,t.extractEntityInfoFromUrn)((0,n.get)(i,"entityUrn")).id}
s&&(o.phoneNumber={number:s})
r&&(o.wechatId=r)
return o}}))
define.alias("ember-vector-images/utils/vector-url","msg-ui/utils/vector-url")
define("msg-ui/utils/virtual-meeting-constants",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.MEETING_PROVIDERS=void 0
e.MEETING_PROVIDERS={bluejeans:{class:"msg-unrolled-virtual-meeting__icon-bluejeans",controlName:"virtual_meetings_open_link_bluejeans",name:"BlueJeans",regex:/^(https?:\/\/)?(.*\.)?bluejeans\.com\/(\d+)([\/\?].*)?$/},teams:{class:"msg-unrolled-virtual-meeting__icon-teams",controlName:"virtual_meetings_open_link_teams",name:"Microsoft Teams",regex:/^(https?:\/\/)?(.*\.)?teams\.microsoft\.com(:\d+)?\/.+meetup-join.*$/},zoom:{class:"msg-unrolled-virtual-meeting__icon-zoom",controlName:"virtual_meetings_open_link_zoom",name:"Zoom",regex:/^(https?:\/\/)?(.*\.)?zoom\.(com|us)\/.+\/(\d+)([\/\?].*)?$/}}}))

//# sourceMappingURL=engine.map